<HTML>
    <HEAD>
      <TITLE>Asterisk.org: Developer Documentation (24 May 2007)</TITLE>
      <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
    </HEAD>
    <BODY BGCOLOR="#FFFFFF">
<div><font size="2" align="right">Thu May 24 22:27:57 2007</font></div>

<h2>Asterisk developer's documentation</h2>
<hr/>
<!-- Generated by Doxygen 1.4.5 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<h1><a class="anchor" name="AstThreadStorage">The Asterisk Thread Storage API</a></h1>The POSIX threads (pthreads) API provides the ability to define thread specific data. The functions and structures defined here are intended to centralize the code that is commonly used when using thread local storage.<p>
The motivation for using this code in Asterisk is for situations where storing data on a thread-specific basis can provide some amount of performance benefit. For example, there are some call types in Asterisk where <a class="el" href="structast__frame.html">ast_frame</a> structures must be allocated very rapidly (easily 50, 100, 200 times a second). Instead of doing the equivalent of that many calls to <a class="el" href="astmm_8h.html#df74d22342f0da6246131193b1993a41">malloc()</a> and <a class="el" href="astmm_8h.html#eb051e552619427a26721b1a925a56e8">free()</a> per second, thread local storage is used to keep a list of unused frame structures so that they can be continuously reused.<p>
<ul>
<li><a class="el" href="threadstorage_8h.html">threadstorage.h</a> </li></ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu May 24 22:27:57 2007 for Asterisk - the Open Source PBX by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.5 </small></address>
</body>
</html>
