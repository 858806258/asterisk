<HTML>
    <HEAD>
      <TITLE>Asterisk.org: Developer Documentation (24 May 2007)</TITLE>
      <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
    </HEAD>
    <BODY BGCOLOR="#FFFFFF">
<div><font size="2" align="right">Thu May 24 22:26:52 2007</font></div>

<h2>Asterisk developer's documentation</h2>
<hr/>
<!-- Generated by Doxygen 1.4.5 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir__2Fusr_2Flocal_2Fsrc_2Fasterisk_2Esvn_2Fastum_2Finclude_2F.html">include</a>&nbsp;&raquo&nbsp;<a class="el" href="dir__2Fusr_2Flocal_2Fsrc_2Fasterisk_2Esvn_2Fastum_2Finclude_2Fasterisk_2F.html">asterisk</a></div>
<h1>abstract_jb.h File Reference</h1>Common implementation-independent jitterbuffer stuff. <a href="#_details">More...</a>
<p>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;sys/time.h&gt;</code><br>

<p>
<a href="abstract__jb_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structast__jb.html">ast_jb</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">General jitterbuffer state.  <a href="structast__jb.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structast__jb__conf.html">ast_jb_conf</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">General jitterbuffer configuration.  <a href="structast__jb__conf.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="abstract__jb_8h.html#cc60524bcbe8be44e64b723da452ff9b">AST_JB_CONF_ENABLE</a>&nbsp;&nbsp;&nbsp;&quot;enable&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="abstract__jb_8h.html#2a964e70bb2ca628a148946bfa547f59">AST_JB_CONF_FORCE</a>&nbsp;&nbsp;&nbsp;&quot;force&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="abstract__jb_8h.html#183df55f41ce8148bd63473cce4572e0">AST_JB_CONF_IMPL</a>&nbsp;&nbsp;&nbsp;&quot;impl&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="abstract__jb_8h.html#93ceeae2b06bff91729a6309250ff576">AST_JB_CONF_LOG</a>&nbsp;&nbsp;&nbsp;&quot;log&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="abstract__jb_8h.html#0b886665e777946b6f15d28319e3bcb1">AST_JB_CONF_MAX_SIZE</a>&nbsp;&nbsp;&nbsp;&quot;maxsize&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="abstract__jb_8h.html#d945a25517b769f6d87c1b93ced32aeb">AST_JB_CONF_PREFIX</a>&nbsp;&nbsp;&nbsp;&quot;jb&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="abstract__jb_8h.html#8fa2464ea5aad64360a6e9ea2f31405a">AST_JB_CONF_RESYNCH_THRESHOLD</a>&nbsp;&nbsp;&nbsp;&quot;resyncthreshold&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="abstract__jb_8h.html#9d99ea6e3d5cbb9afee56e6295c0dd0b">AST_JB_IMPL_NAME_SIZE</a>&nbsp;&nbsp;&nbsp;12</td></tr>

<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="abstract__jb_8h.html#dca29a1140aadadfd92b34a02fa516efe16353c00a54d901328597ac1a1519b1">AST_JB_ENABLED</a> =  (1 &lt;&lt; 0), 
<a class="el" href="abstract__jb_8h.html#dca29a1140aadadfd92b34a02fa516efec2dc7257f02903a83fa0314d3311ec8">AST_JB_FORCED</a> =  (1 &lt;&lt; 1), 
<a class="el" href="abstract__jb_8h.html#dca29a1140aadadfd92b34a02fa516ef3f91d759cde3385674bbed8cc6661876">AST_JB_LOG</a> =  (1 &lt;&lt; 2)
 }</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="abstract__jb_8h.html#ce6dbff5add20ce65086769d32bce117">ast_jb_configure</a> (struct <a class="el" href="structast__channel.html">ast_channel</a> *<a class="el" href="adsistub_8c.html#26c322652770620e64ac90682eb6504c">chan</a>, const struct <a class="el" href="structast__jb__conf.html">ast_jb_conf</a> *conf)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configures a jitterbuffer on a channel.  <a href="#ce6dbff5add20ce65086769d32bce117"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="abstract__jb_8h.html#38a4eb32a5c1425119f290654b6a4b0e">ast_jb_destroy</a> (struct <a class="el" href="structast__channel.html">ast_channel</a> *<a class="el" href="adsistub_8c.html#26c322652770620e64ac90682eb6504c">chan</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroys jitterbuffer on a channel.  <a href="#38a4eb32a5c1425119f290654b6a4b0e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="abstract__jb_8h.html#d3d628e70cc3a782b0017fe3e6b36fd4">ast_jb_do_usecheck</a> (struct <a class="el" href="structast__channel.html">ast_channel</a> *c0, struct <a class="el" href="structast__channel.html">ast_channel</a> *c1)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks the need of a jb use in a generic bridge.  <a href="#d3d628e70cc3a782b0017fe3e6b36fd4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="abstract__jb_8h.html#7c4d2833527a961fc976861441579116">ast_jb_get_and_deliver</a> (struct <a class="el" href="structast__channel.html">ast_channel</a> *c0, struct <a class="el" href="structast__channel.html">ast_channel</a> *c1)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deliver the queued frames that should be delivered now for both channels.  <a href="#7c4d2833527a961fc976861441579116"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="abstract__jb_8h.html#71dfdeacf8f93cdb1da1c5561ad4e631">ast_jb_get_config</a> (const struct <a class="el" href="structast__channel.html">ast_channel</a> *<a class="el" href="adsistub_8c.html#26c322652770620e64ac90682eb6504c">chan</a>, struct <a class="el" href="structast__jb__conf.html">ast_jb_conf</a> *conf)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Copies a channel's jitterbuffer configuration.  <a href="#71dfdeacf8f93cdb1da1c5561ad4e631"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="abstract__jb_8h.html#08b86b2a178bd6636b3f1b81a418af46">ast_jb_get_when_to_wakeup</a> (struct <a class="el" href="structast__channel.html">ast_channel</a> *c0, struct <a class="el" href="structast__channel.html">ast_channel</a> *c1, int time_left)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calculates the time, left to the closest delivery moment in a bridge.  <a href="#08b86b2a178bd6636b3f1b81a418af46"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="abstract__jb_8h.html#01a93200bfbbbe54704b408154bbd877">ast_jb_put</a> (struct <a class="el" href="structast__channel.html">ast_channel</a> *<a class="el" href="adsistub_8c.html#26c322652770620e64ac90682eb6504c">chan</a>, struct <a class="el" href="structast__frame.html">ast_frame</a> *<a class="el" href="format__g726_8c.html#85b9b17a7dd34a3638c560bc9152473b">f</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Puts a frame into a channel jitterbuffer.  <a href="#01a93200bfbbbe54704b408154bbd877"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="abstract__jb_8h.html#a68ca1bdf604d26cdd06c79334055a16">ast_jb_read_conf</a> (struct <a class="el" href="structast__jb__conf.html">ast_jb_conf</a> *conf, char *varname, char *value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets jitterbuffer configuration property.  <a href="#a68ca1bdf604d26cdd06c79334055a16"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Common implementation-independent jitterbuffer stuff. 
<p>
<dl compact><dt><b>Author:</b></dt><dd>Slav Klenov &lt;<a href="mailto:slav@securax.org">slav@securax.org</a>&gt; </dd></dl>

<p>
Definition in file <a class="el" href="abstract__jb_8h-source.html">abstract_jb.h</a>.<hr><h2>Define Documentation</h2>
<a class="anchor" name="cc60524bcbe8be44e64b723da452ff9b"></a><!-- doxytag: member="abstract_jb.h::AST_JB_CONF_ENABLE" ref="cc60524bcbe8be44e64b723da452ff9b" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define AST_JB_CONF_ENABLE&nbsp;&nbsp;&nbsp;&quot;enable&quot;          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="abstract__jb_8h-source.html#l00070">70</a> of file <a class="el" href="abstract__jb_8h-source.html">abstract_jb.h</a>.
<p>
Referenced by <a class="el" href="abstract__jb_8c-source.html#l00567">ast_jb_read_conf()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="2a964e70bb2ca628a148946bfa547f59"></a><!-- doxytag: member="abstract_jb.h::AST_JB_CONF_FORCE" ref="2a964e70bb2ca628a148946bfa547f59" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define AST_JB_CONF_FORCE&nbsp;&nbsp;&nbsp;&quot;force&quot;          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="abstract__jb_8h-source.html#l00071">71</a> of file <a class="el" href="abstract__jb_8h-source.html">abstract_jb.h</a>.
<p>
Referenced by <a class="el" href="abstract__jb_8c-source.html#l00567">ast_jb_read_conf()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="183df55f41ce8148bd63473cce4572e0"></a><!-- doxytag: member="abstract_jb.h::AST_JB_CONF_IMPL" ref="183df55f41ce8148bd63473cce4572e0" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define AST_JB_CONF_IMPL&nbsp;&nbsp;&nbsp;&quot;impl&quot;          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="abstract__jb_8h-source.html#l00074">74</a> of file <a class="el" href="abstract__jb_8h-source.html">abstract_jb.h</a>.
<p>
Referenced by <a class="el" href="abstract__jb_8c-source.html#l00567">ast_jb_read_conf()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="93ceeae2b06bff91729a6309250ff576"></a><!-- doxytag: member="abstract_jb.h::AST_JB_CONF_LOG" ref="93ceeae2b06bff91729a6309250ff576" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define AST_JB_CONF_LOG&nbsp;&nbsp;&nbsp;&quot;log&quot;          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="abstract__jb_8h-source.html#l00075">75</a> of file <a class="el" href="abstract__jb_8h-source.html">abstract_jb.h</a>.
<p>
Referenced by <a class="el" href="abstract__jb_8c-source.html#l00567">ast_jb_read_conf()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="0b886665e777946b6f15d28319e3bcb1"></a><!-- doxytag: member="abstract_jb.h::AST_JB_CONF_MAX_SIZE" ref="0b886665e777946b6f15d28319e3bcb1" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define AST_JB_CONF_MAX_SIZE&nbsp;&nbsp;&nbsp;&quot;maxsize&quot;          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="abstract__jb_8h-source.html#l00072">72</a> of file <a class="el" href="abstract__jb_8h-source.html">abstract_jb.h</a>.
<p>
Referenced by <a class="el" href="abstract__jb_8c-source.html#l00567">ast_jb_read_conf()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="d945a25517b769f6d87c1b93ced32aeb"></a><!-- doxytag: member="abstract_jb.h::AST_JB_CONF_PREFIX" ref="d945a25517b769f6d87c1b93ced32aeb" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define AST_JB_CONF_PREFIX&nbsp;&nbsp;&nbsp;&quot;jb&quot;          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="abstract__jb_8h-source.html#l00069">69</a> of file <a class="el" href="abstract__jb_8h-source.html">abstract_jb.h</a>.
<p>
Referenced by <a class="el" href="abstract__jb_8c-source.html#l00567">ast_jb_read_conf()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="8fa2464ea5aad64360a6e9ea2f31405a"></a><!-- doxytag: member="abstract_jb.h::AST_JB_CONF_RESYNCH_THRESHOLD" ref="8fa2464ea5aad64360a6e9ea2f31405a" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define AST_JB_CONF_RESYNCH_THRESHOLD&nbsp;&nbsp;&nbsp;&quot;resyncthreshold&quot;          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="abstract__jb_8h-source.html#l00073">73</a> of file <a class="el" href="abstract__jb_8h-source.html">abstract_jb.h</a>.
<p>
Referenced by <a class="el" href="abstract__jb_8c-source.html#l00567">ast_jb_read_conf()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="9d99ea6e3d5cbb9afee56e6295c0dd0b"></a><!-- doxytag: member="abstract_jb.h::AST_JB_IMPL_NAME_SIZE" ref="9d99ea6e3d5cbb9afee56e6295c0dd0b" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define AST_JB_IMPL_NAME_SIZE&nbsp;&nbsp;&nbsp;12          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="abstract__jb_8h-source.html#l00050">50</a> of file <a class="el" href="abstract__jb_8h-source.html">abstract_jb.h</a>.
<p>
Referenced by <a class="el" href="abstract__jb_8c-source.html#l00445">create_jb()</a>.    </td>
  </tr>
</table>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="dca29a1140aadadfd92b34a02fa516ef"></a><!-- doxytag: member="abstract_jb.h::@0" ref="dca29a1140aadadfd92b34a02fa516ef" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">anonymous enum          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="dca29a1140aadadfd92b34a02fa516efe16353c00a54d901328597ac1a1519b1"></a><!-- doxytag: member="AST_JB_ENABLED" ref="dca29a1140aadadfd92b34a02fa516efe16353c00a54d901328597ac1a1519b1" args="" -->AST_JB_ENABLED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="dca29a1140aadadfd92b34a02fa516efec2dc7257f02903a83fa0314d3311ec8"></a><!-- doxytag: member="AST_JB_FORCED" ref="dca29a1140aadadfd92b34a02fa516efec2dc7257f02903a83fa0314d3311ec8" args="" -->AST_JB_FORCED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="dca29a1140aadadfd92b34a02fa516ef3f91d759cde3385674bbed8cc6661876"></a><!-- doxytag: member="AST_JB_LOG" ref="dca29a1140aadadfd92b34a02fa516ef3f91d759cde3385674bbed8cc6661876" args="" -->AST_JB_LOG</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

<p>
Definition at line <a class="el" href="abstract__jb_8h-source.html#l00044">44</a> of file <a class="el" href="abstract__jb_8h-source.html">abstract_jb.h</a>.<div class="fragment"><pre class="fragment"><a name="l00044"></a>00044      {
<a name="l00045"></a>00045    <a class="code" href="abstract__jb_8h.html#dca29a1140aadadfd92b34a02fa516efe16353c00a54d901328597ac1a1519b1">AST_JB_ENABLED</a> = (1 &lt;&lt; 0),
<a name="l00046"></a>00046    <a class="code" href="abstract__jb_8h.html#dca29a1140aadadfd92b34a02fa516efec2dc7257f02903a83fa0314d3311ec8">AST_JB_FORCED</a> =  (1 &lt;&lt; 1),
<a name="l00047"></a>00047    <a class="code" href="abstract__jb_8h.html#dca29a1140aadadfd92b34a02fa516ef3f91d759cde3385674bbed8cc6661876">AST_JB_LOG</a> =     (1 &lt;&lt; 2)
<a name="l00048"></a>00048 };
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="ce6dbff5add20ce65086769d32bce117"></a><!-- doxytag: member="abstract_jb.h::ast_jb_configure" ref="ce6dbff5add20ce65086769d32bce117" args="(struct ast_channel *chan, const struct ast_jb_conf *conf)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ast_jb_configure           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structast__channel.html">ast_channel</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const struct <a class="el" href="structast__jb__conf.html">ast_jb_conf</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>conf</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Configures a jitterbuffer on a channel. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>chan</em>&nbsp;</td><td>channel to configure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>conf</em>&nbsp;</td><td>configuration to apply.</td></tr>
  </table>
</dl>
Called from a channel driver when a channel is created and its jitterbuffer needs to be configured. 
<p>
Definition at line <a class="el" href="abstract__jb_8c-source.html#l00601">601</a> of file <a class="el" href="abstract__jb_8c-source.html">abstract_jb.c</a>.
<p>
References <a class="el" href="abstract__jb_8h-source.html#l00087">ast_jb::conf</a>, and <a class="el" href="channel_8h-source.html#l00488">ast_channel::jb</a>.
<p>
Referenced by <a class="el" href="chan__h323_8c-source.html#l00962">__oh323_rtp_create()</a>, <a class="el" href="chan__h323_8c-source.html#l00342">__oh323_update_info()</a>, <a class="el" href="chan__alsa_8c-source.html#l00790">alsa_new()</a>, <a class="el" href="chan__gtalk_8c-source.html#l00902">gtalk_new()</a>, <a class="el" href="chan__jingle_8c-source.html#l00759">jingle_new()</a>, <a class="el" href="chan__mgcp_8c-source.html#l01457">mgcp_new()</a>, <a class="el" href="chan__oss_8c-source.html#l01020">oss_new()</a>, <a class="el" href="chan__sip_8c-source.html#l04179">sip_new()</a>, <a class="el" href="chan__skinny_8c-source.html#l02823">skinny_new()</a>, and <a class="el" href="chan__zap_8c-source.html#l05516">zt_new()</a>.<div class="fragment"><pre class="fragment"><a name="l00602"></a>00602 {
<a name="l00603"></a>00603    memcpy(&amp;chan-&gt;<a class="code" href="structast__channel.html#c4a6c07a8a2d7c804a5776d9d039428a">jb</a>.<a class="code" href="structast__jb.html#3a8e4c06e471595f6eb262bb9b5582d9">conf</a>, conf, <span class="keyword">sizeof</span>(*conf));
<a name="l00604"></a>00604 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="38a4eb32a5c1425119f290654b6a4b0e"></a><!-- doxytag: member="abstract_jb.h::ast_jb_destroy" ref="38a4eb32a5c1425119f290654b6a4b0e" args="(struct ast_channel *chan)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ast_jb_destroy           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structast__channel.html">ast_channel</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>chan</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destroys jitterbuffer on a channel. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>chan</em>&nbsp;</td><td>channel.</td></tr>
  </table>
</dl>
Called from <a class="el" href="channel_8c.html#230a804b09060fecdf699c2c9613fff7">ast_channel_free()</a> when a channel is destroyed. 
<p>
Definition at line <a class="el" href="abstract__jb_8c-source.html#l00525">525</a> of file <a class="el" href="abstract__jb_8c-source.html">abstract_jb.c</a>.
<p>
References <a class="el" href="utils_8h-source.html#l00081">ast_clear_flag</a>, <a class="el" href="frame_8h-source.html#l00396">ast_frfree()</a>, <a class="el" href="utils_8h-source.html#l00067">ast_test_flag</a>, <a class="el" href="logger_8c-source.html#l00989">ast_verbose()</a>, <a class="el" href="abstract__jb_8c-source.html#l00082">ast_jb_impl::destroy</a>, <a class="el" href="format__g726_8c-source.html#l00193">f</a>, <a class="el" href="abstract__jb_8h-source.html#l00089">ast_jb::impl</a>, <a class="el" href="channel_8h-source.html#l00488">ast_channel::jb</a>, <a class="el" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516effc5d39f0d9a9c1902ccfb56ace77e692">JB_CREATED</a>, <a class="el" href="abstract__jb_8c.html#68986ab776eb5d6b5a809a1c005a7300c6bca3e87869fab3539cf2c83e62cee8">JB_IMPL_OK</a>, <a class="el" href="abstract__jb_8h-source.html#l00091">ast_jb::jbobj</a>, <a class="el" href="abstract__jb_8h-source.html#l00099">ast_jb::logfile</a>, <a class="el" href="abstract__jb_8c-source.html#l00080">ast_jb_impl::name</a>, <a class="el" href="asterisk_8c-source.html#l00163">option_verbose</a>, <a class="el" href="abstract__jb_8c-source.html#l00087">ast_jb_impl::remove</a>, and <a class="el" href="logger_8h-source.html#l00045">VERBOSE_PREFIX_3</a>.
<p>
Referenced by <a class="el" href="channel_8c-source.html#l01069">ast_channel_free()</a>.<div class="fragment"><pre class="fragment"><a name="l00526"></a>00526 {
<a name="l00527"></a>00527    <span class="keyword">struct </span><a class="code" href="structast__jb.html">ast_jb</a> *jb = &amp;chan-&gt;<a class="code" href="structast__channel.html#c4a6c07a8a2d7c804a5776d9d039428a">jb</a>;
<a name="l00528"></a>00528    <span class="keyword">struct </span><a class="code" href="structast__jb__impl.html">ast_jb_impl</a> *jbimpl = jb-&gt;<a class="code" href="structast__jb.html#86ccec3d9ff0e9c0514506e982cdc08b">impl</a>;
<a name="l00529"></a>00529    <span class="keywordtype">void</span> *jbobj = jb-&gt;<a class="code" href="structast__jb.html#7b92b77c8d7f50c74bb2dfa489e9c107">jbobj</a>;
<a name="l00530"></a>00530    <span class="keyword">struct </span><a class="code" href="structast__frame.html">ast_frame</a> *<a class="code" href="format__g726_8c.html#85b9b17a7dd34a3638c560bc9152473b">f</a>;
<a name="l00531"></a>00531 
<a name="l00532"></a>00532    <span class="keywordflow">if</span> (jb-&gt;<a class="code" href="structast__jb.html#d6d33a322371f070c69ac715abda8fda">logfile</a>) {
<a name="l00533"></a>00533       fclose(jb-&gt;<a class="code" href="structast__jb.html#d6d33a322371f070c69ac715abda8fda">logfile</a>);
<a name="l00534"></a>00534       jb-&gt;<a class="code" href="structast__jb.html#d6d33a322371f070c69ac715abda8fda">logfile</a> = NULL;
<a name="l00535"></a>00535    }
<a name="l00536"></a>00536    
<a name="l00537"></a>00537    <span class="keywordflow">if</span> (<a class="code" href="utils_8h.html#d26671e9d352536be0df3d41a800bb83">ast_test_flag</a>(jb, <a class="code" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516effc5d39f0d9a9c1902ccfb56ace77e692">JB_CREATED</a>)) {
<a name="l00538"></a>00538       <span class="comment">/* Remove and free all frames still queued in jb */</span>
<a name="l00539"></a>00539       <span class="keywordflow">while</span> (jbimpl-&gt;<a class="code" href="structast__jb__impl.html#0f6969d7052da9261e31ddb6e88c136e">remove</a>(jbobj, &amp;f) == <a class="code" href="abstract__jb_8c.html#68986ab776eb5d6b5a809a1c005a7300c6bca3e87869fab3539cf2c83e62cee8">JB_IMPL_OK</a>) {
<a name="l00540"></a>00540          <a class="code" href="frame_8h.html#506c759ec4950e7f7465e8f090a6252b">ast_frfree</a>(f);
<a name="l00541"></a>00541       }
<a name="l00542"></a>00542       
<a name="l00543"></a>00543       jbimpl-&gt;<a class="code" href="structast__jb__impl.html#fb14982288108e1fbd6207ef55f05027">destroy</a>(jbobj);
<a name="l00544"></a>00544       jb-&gt;<a class="code" href="structast__jb.html#7b92b77c8d7f50c74bb2dfa489e9c107">jbobj</a> = NULL;
<a name="l00545"></a>00545       
<a name="l00546"></a>00546       <a class="code" href="utils_8h.html#c2399a33be6ffb658bcf7c6a35531732">ast_clear_flag</a>(jb, <a class="code" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516effc5d39f0d9a9c1902ccfb56ace77e692">JB_CREATED</a>);
<a name="l00547"></a>00547 
<a name="l00548"></a>00548       <span class="keywordflow">if</span> (<a class="code" href="group__main__options.html#ge36cdd7167e060bff70d00fbd82809eb">option_verbose</a> &gt; 2)
<a name="l00549"></a>00549          <a class="code" href="logger_8c.html#6a1ef0a194bcc79fccfb662192954477">ast_verbose</a>(<a class="code" href="logger_8h.html#aefd5a67b7464040f5352e4ecdc535ca">VERBOSE_PREFIX_3</a> <span class="stringliteral">"%s jitterbuffer destroyed on channel %s\n"</span>, jbimpl-&gt;<a class="code" href="structast__jb__impl.html#ce4d1de512662e067650e00ac1c3e1d5">name</a>, chan-&gt;name);
<a name="l00550"></a>00550    }
<a name="l00551"></a>00551 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d3d628e70cc3a782b0017fe3e6b36fd4"></a><!-- doxytag: member="abstract_jb.h::ast_jb_do_usecheck" ref="d3d628e70cc3a782b0017fe3e6b36fd4" args="(struct ast_channel *c0, struct ast_channel *c1)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int ast_jb_do_usecheck           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structast__channel.html">ast_channel</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>c0</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>struct <a class="el" href="structast__channel.html">ast_channel</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>c1</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Checks the need of a jb use in a generic bridge. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>c0</em>&nbsp;</td><td>first bridged channel. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>c1</em>&nbsp;</td><td>second bridged channel.</td></tr>
  </table>
</dl>
Called from <a class="el" href="channel_8c.html#4f79ef2dc27d26c29b18b9ab40b5d56b">ast_generic_bridge()</a> when two channels are entering in a bridge. The function checks the need of a jitterbuffer, depending on both channel's configuration and technology properties. As a result, this function sets appropriate internal jb flags to the channels, determining further behaviour of the bridged jitterbuffers.<p>
<dl compact><dt><b>Returns:</b></dt><dd>zero if there are no jitter buffers in use, non-zero if there are </dd></dl>

<p>
Definition at line <a class="el" href="abstract__jb_8c-source.html#l00198">198</a> of file <a class="el" href="abstract__jb_8c-source.html">abstract_jb.c</a>.
<p>
References <a class="el" href="channel_8h.html#dca29a1140aadadfd92b34a02fa516ef00a93b525e73f48b2060014487b2b98c">AST_CHAN_TP_CREATESJITTER</a>, <a class="el" href="channel_8h.html#dca29a1140aadadfd92b34a02fa516efe7ae5478ca756cfa996e94241fbbc3b2">AST_CHAN_TP_WANTSJITTER</a>, <a class="el" href="abstract__jb_8h.html#dca29a1140aadadfd92b34a02fa516efe16353c00a54d901328597ac1a1519b1">AST_JB_ENABLED</a>, <a class="el" href="abstract__jb_8h.html#dca29a1140aadadfd92b34a02fa516efec2dc7257f02903a83fa0314d3311ec8">AST_JB_FORCED</a>, <a class="el" href="utils_8h-source.html#l00074">ast_set_flag</a>, <a class="el" href="utils_8h-source.html#l00067">ast_test_flag</a>, <a class="el" href="abstract__jb_8h-source.html#l00087">ast_jb::conf</a>, <a class="el" href="pbx__gtkconsole_8c-source.html#l00059">inuse</a>, <a class="el" href="channel_8h-source.html#l00488">ast_channel::jb</a>, <a class="el" href="abstract__jb_8c-source.html#l00177">jb_choose_impl()</a>, <a class="el" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516effc5d39f0d9a9c1902ccfb56ace77e692">JB_CREATED</a>, <a class="el" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516efd895cb3810122ea90b27e9ce1176e623">JB_TIMEBASE_INITIALIZED</a>, <a class="el" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516ef7a6171b733379c1b029f14b2d98a356f">JB_USE</a>, <a class="el" href="channel_8h-source.html#l00240">ast_channel_tech::properties</a>, <a class="el" href="channel_8h-source.html#l00385">ast_channel::tech</a>, and <a class="el" href="abstract__jb_8h-source.html#l00093">ast_jb::timebase</a>.
<p>
Referenced by <a class="el" href="channel_8c-source.html#l03797">ast_generic_bridge()</a>.<div class="fragment"><pre class="fragment"><a name="l00199"></a>00199 {
<a name="l00200"></a>00200    <span class="keyword">struct </span><a class="code" href="structast__jb.html">ast_jb</a> *jb0 = &amp;c0-&gt;<a class="code" href="structast__channel.html#c4a6c07a8a2d7c804a5776d9d039428a">jb</a>;
<a name="l00201"></a>00201    <span class="keyword">struct </span><a class="code" href="structast__jb.html">ast_jb</a> *jb1 = &amp;c1-&gt;<a class="code" href="structast__channel.html#c4a6c07a8a2d7c804a5776d9d039428a">jb</a>;
<a name="l00202"></a>00202    <span class="keyword">struct </span><a class="code" href="structast__jb__conf.html">ast_jb_conf</a> *conf0 = &amp;jb0-&gt;<a class="code" href="structast__jb.html#3a8e4c06e471595f6eb262bb9b5582d9">conf</a>;
<a name="l00203"></a>00203    <span class="keyword">struct </span><a class="code" href="structast__jb__conf.html">ast_jb_conf</a> *conf1 = &amp;jb1-&gt;<a class="code" href="structast__jb.html#3a8e4c06e471595f6eb262bb9b5582d9">conf</a>;
<a name="l00204"></a>00204    <span class="keywordtype">int</span> c0_wants_jitter = c0-&gt;<a class="code" href="structast__channel.html#d9f9133fb120cd6096870bc2b496805b">tech</a>-&gt;<a class="code" href="structast__channel__tech.html#74693d2fc58b46bd06410f278e39aa71">properties</a> &amp; <a class="code" href="channel_8h.html#dca29a1140aadadfd92b34a02fa516efe7ae5478ca756cfa996e94241fbbc3b2">AST_CHAN_TP_WANTSJITTER</a>;
<a name="l00205"></a>00205    <span class="keywordtype">int</span> c0_creates_jitter = c0-&gt;<a class="code" href="structast__channel.html#d9f9133fb120cd6096870bc2b496805b">tech</a>-&gt;<a class="code" href="structast__channel__tech.html#74693d2fc58b46bd06410f278e39aa71">properties</a> &amp; <a class="code" href="channel_8h.html#dca29a1140aadadfd92b34a02fa516ef00a93b525e73f48b2060014487b2b98c">AST_CHAN_TP_CREATESJITTER</a>;
<a name="l00206"></a>00206    <span class="keywordtype">int</span> c0_jb_enabled = <a class="code" href="utils_8h.html#d26671e9d352536be0df3d41a800bb83">ast_test_flag</a>(conf0, <a class="code" href="abstract__jb_8h.html#dca29a1140aadadfd92b34a02fa516efe16353c00a54d901328597ac1a1519b1">AST_JB_ENABLED</a>);
<a name="l00207"></a>00207    <span class="keywordtype">int</span> c0_force_jb = <a class="code" href="utils_8h.html#d26671e9d352536be0df3d41a800bb83">ast_test_flag</a>(conf0, <a class="code" href="abstract__jb_8h.html#dca29a1140aadadfd92b34a02fa516efec2dc7257f02903a83fa0314d3311ec8">AST_JB_FORCED</a>);
<a name="l00208"></a>00208    <span class="keywordtype">int</span> c0_jb_timebase_initialized = <a class="code" href="utils_8h.html#d26671e9d352536be0df3d41a800bb83">ast_test_flag</a>(jb0, <a class="code" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516efd895cb3810122ea90b27e9ce1176e623">JB_TIMEBASE_INITIALIZED</a>);
<a name="l00209"></a>00209    <span class="keywordtype">int</span> c0_jb_created = <a class="code" href="utils_8h.html#d26671e9d352536be0df3d41a800bb83">ast_test_flag</a>(jb0, <a class="code" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516effc5d39f0d9a9c1902ccfb56ace77e692">JB_CREATED</a>);
<a name="l00210"></a>00210    <span class="keywordtype">int</span> c1_wants_jitter = c1-&gt;<a class="code" href="structast__channel.html#d9f9133fb120cd6096870bc2b496805b">tech</a>-&gt;<a class="code" href="structast__channel__tech.html#74693d2fc58b46bd06410f278e39aa71">properties</a> &amp; <a class="code" href="channel_8h.html#dca29a1140aadadfd92b34a02fa516efe7ae5478ca756cfa996e94241fbbc3b2">AST_CHAN_TP_WANTSJITTER</a>;
<a name="l00211"></a>00211    <span class="keywordtype">int</span> c1_creates_jitter = c1-&gt;<a class="code" href="structast__channel.html#d9f9133fb120cd6096870bc2b496805b">tech</a>-&gt;<a class="code" href="structast__channel__tech.html#74693d2fc58b46bd06410f278e39aa71">properties</a> &amp; <a class="code" href="channel_8h.html#dca29a1140aadadfd92b34a02fa516ef00a93b525e73f48b2060014487b2b98c">AST_CHAN_TP_CREATESJITTER</a>;
<a name="l00212"></a>00212    <span class="keywordtype">int</span> c1_jb_enabled = <a class="code" href="utils_8h.html#d26671e9d352536be0df3d41a800bb83">ast_test_flag</a>(conf1, <a class="code" href="abstract__jb_8h.html#dca29a1140aadadfd92b34a02fa516efe16353c00a54d901328597ac1a1519b1">AST_JB_ENABLED</a>);
<a name="l00213"></a>00213    <span class="keywordtype">int</span> c1_force_jb = <a class="code" href="utils_8h.html#d26671e9d352536be0df3d41a800bb83">ast_test_flag</a>(conf1, <a class="code" href="abstract__jb_8h.html#dca29a1140aadadfd92b34a02fa516efec2dc7257f02903a83fa0314d3311ec8">AST_JB_FORCED</a>);
<a name="l00214"></a>00214    <span class="keywordtype">int</span> c1_jb_timebase_initialized = <a class="code" href="utils_8h.html#d26671e9d352536be0df3d41a800bb83">ast_test_flag</a>(jb1, <a class="code" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516efd895cb3810122ea90b27e9ce1176e623">JB_TIMEBASE_INITIALIZED</a>);
<a name="l00215"></a>00215    <span class="keywordtype">int</span> c1_jb_created = <a class="code" href="utils_8h.html#d26671e9d352536be0df3d41a800bb83">ast_test_flag</a>(jb1, <a class="code" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516effc5d39f0d9a9c1902ccfb56ace77e692">JB_CREATED</a>);
<a name="l00216"></a>00216    <span class="keywordtype">int</span> <a class="code" href="pbx__gtkconsole_8c.html#9ac84af00bd68fa1e4441a101c6b6305">inuse</a> = 0;
<a name="l00217"></a>00217 
<a name="l00218"></a>00218    <span class="comment">/* Determine whether audio going to c0 needs a jitter buffer */</span>
<a name="l00219"></a>00219    <span class="keywordflow">if</span> (((!c0_wants_jitter &amp;&amp; c1_creates_jitter) || (c0_force_jb &amp;&amp; c1_creates_jitter)) &amp;&amp; c0_jb_enabled) {
<a name="l00220"></a>00220       <a class="code" href="utils_8h.html#3208623241ff7b4c93907944487502a1">ast_set_flag</a>(jb0, <a class="code" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516ef7a6171b733379c1b029f14b2d98a356f">JB_USE</a>);
<a name="l00221"></a>00221       <span class="keywordflow">if</span> (!c0_jb_timebase_initialized) {
<a name="l00222"></a>00222          <span class="keywordflow">if</span> (c1_jb_timebase_initialized) {
<a name="l00223"></a>00223             memcpy(&amp;jb0-&gt;<a class="code" href="structast__jb.html#404687903bcfd5c916de12f961fc5ebe">timebase</a>, &amp;jb1-&gt;<a class="code" href="structast__jb.html#404687903bcfd5c916de12f961fc5ebe">timebase</a>, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> timeval));
<a name="l00224"></a>00224          } <span class="keywordflow">else</span> {
<a name="l00225"></a>00225             gettimeofday(&amp;jb0-&gt;<a class="code" href="structast__jb.html#404687903bcfd5c916de12f961fc5ebe">timebase</a>, NULL);
<a name="l00226"></a>00226          }
<a name="l00227"></a>00227          <a class="code" href="utils_8h.html#3208623241ff7b4c93907944487502a1">ast_set_flag</a>(jb0, <a class="code" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516efd895cb3810122ea90b27e9ce1176e623">JB_TIMEBASE_INITIALIZED</a>);
<a name="l00228"></a>00228       }
<a name="l00229"></a>00229       
<a name="l00230"></a>00230       <span class="keywordflow">if</span> (!c0_jb_created) {
<a name="l00231"></a>00231          <a class="code" href="abstract__jb_8c.html#129d7f3d1d1f1e937049e859dabaac4f">jb_choose_impl</a>(c0);
<a name="l00232"></a>00232       }
<a name="l00233"></a>00233 
<a name="l00234"></a>00234       inuse = 1;
<a name="l00235"></a>00235    }
<a name="l00236"></a>00236    
<a name="l00237"></a>00237    <span class="comment">/* Determine whether audio going to c1 needs a jitter buffer */</span>
<a name="l00238"></a>00238    <span class="keywordflow">if</span> (((!c1_wants_jitter &amp;&amp; c0_creates_jitter) || (c1_force_jb &amp;&amp; c0_creates_jitter)) &amp;&amp; c1_jb_enabled) {
<a name="l00239"></a>00239       <a class="code" href="utils_8h.html#3208623241ff7b4c93907944487502a1">ast_set_flag</a>(jb1, <a class="code" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516ef7a6171b733379c1b029f14b2d98a356f">JB_USE</a>);
<a name="l00240"></a>00240       <span class="keywordflow">if</span> (!c1_jb_timebase_initialized) {
<a name="l00241"></a>00241          <span class="keywordflow">if</span> (c0_jb_timebase_initialized) {
<a name="l00242"></a>00242             memcpy(&amp;jb1-&gt;<a class="code" href="structast__jb.html#404687903bcfd5c916de12f961fc5ebe">timebase</a>, &amp;jb0-&gt;<a class="code" href="structast__jb.html#404687903bcfd5c916de12f961fc5ebe">timebase</a>, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> timeval));
<a name="l00243"></a>00243          } <span class="keywordflow">else</span> {
<a name="l00244"></a>00244             gettimeofday(&amp;jb1-&gt;<a class="code" href="structast__jb.html#404687903bcfd5c916de12f961fc5ebe">timebase</a>, NULL);
<a name="l00245"></a>00245          }
<a name="l00246"></a>00246          <a class="code" href="utils_8h.html#3208623241ff7b4c93907944487502a1">ast_set_flag</a>(jb1, <a class="code" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516efd895cb3810122ea90b27e9ce1176e623">JB_TIMEBASE_INITIALIZED</a>);
<a name="l00247"></a>00247       }
<a name="l00248"></a>00248       
<a name="l00249"></a>00249       <span class="keywordflow">if</span> (!c1_jb_created) {
<a name="l00250"></a>00250          <a class="code" href="abstract__jb_8c.html#129d7f3d1d1f1e937049e859dabaac4f">jb_choose_impl</a>(c1);
<a name="l00251"></a>00251       }
<a name="l00252"></a>00252 
<a name="l00253"></a>00253       inuse = 1;
<a name="l00254"></a>00254    }
<a name="l00255"></a>00255 
<a name="l00256"></a>00256    <span class="keywordflow">return</span> inuse;
<a name="l00257"></a>00257 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="7c4d2833527a961fc976861441579116"></a><!-- doxytag: member="abstract_jb.h::ast_jb_get_and_deliver" ref="7c4d2833527a961fc976861441579116" args="(struct ast_channel *c0, struct ast_channel *c1)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ast_jb_get_and_deliver           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structast__channel.html">ast_channel</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>c0</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>struct <a class="el" href="structast__channel.html">ast_channel</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>c1</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Deliver the queued frames that should be delivered now for both channels. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>c0</em>&nbsp;</td><td>first bridged channel. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>c1</em>&nbsp;</td><td>second bridged channel.</td></tr>
  </table>
</dl>
Called from <a class="el" href="channel_8c.html#4f79ef2dc27d26c29b18b9ab40b5d56b">ast_generic_bridge()</a> to deliver any frames, that should be delivered for the moment of invocation. Does nothing if neihter of the channels is using jb or has any frames currently queued in. The function delivers frames usig <a class="el" href="channel_8c.html#57a74c4c7b7e25ad61a4f461e3c73158">ast_write()</a> each of the channels. 
<p>
Definition at line <a class="el" href="abstract__jb_8c-source.html#l00364">364</a> of file <a class="el" href="abstract__jb_8c-source.html">abstract_jb.c</a>.
<p>
References <a class="el" href="utils_8h-source.html#l00067">ast_test_flag</a>, <a class="el" href="channel_8h-source.html#l00488">ast_channel::jb</a>, <a class="el" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516effc5d39f0d9a9c1902ccfb56ace77e692">JB_CREATED</a>, <a class="el" href="abstract__jb_8c-source.html#l00381">jb_get_and_deliver()</a>, and <a class="el" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516ef7a6171b733379c1b029f14b2d98a356f">JB_USE</a>.
<p>
Referenced by <a class="el" href="channel_8c-source.html#l03797">ast_generic_bridge()</a>.<div class="fragment"><pre class="fragment"><a name="l00365"></a>00365 {
<a name="l00366"></a>00366    <span class="keyword">struct </span><a class="code" href="structast__jb.html">ast_jb</a> *jb0 = &amp;c0-&gt;<a class="code" href="structast__channel.html#c4a6c07a8a2d7c804a5776d9d039428a">jb</a>;
<a name="l00367"></a>00367    <span class="keyword">struct </span><a class="code" href="structast__jb.html">ast_jb</a> *jb1 = &amp;c1-&gt;<a class="code" href="structast__channel.html#c4a6c07a8a2d7c804a5776d9d039428a">jb</a>;
<a name="l00368"></a>00368    <span class="keywordtype">int</span> c0_use_jb = <a class="code" href="utils_8h.html#d26671e9d352536be0df3d41a800bb83">ast_test_flag</a>(jb0, <a class="code" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516ef7a6171b733379c1b029f14b2d98a356f">JB_USE</a>);
<a name="l00369"></a>00369    <span class="keywordtype">int</span> c0_jb_is_created = <a class="code" href="utils_8h.html#d26671e9d352536be0df3d41a800bb83">ast_test_flag</a>(jb0, <a class="code" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516effc5d39f0d9a9c1902ccfb56ace77e692">JB_CREATED</a>);
<a name="l00370"></a>00370    <span class="keywordtype">int</span> c1_use_jb = <a class="code" href="utils_8h.html#d26671e9d352536be0df3d41a800bb83">ast_test_flag</a>(jb1, <a class="code" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516ef7a6171b733379c1b029f14b2d98a356f">JB_USE</a>);
<a name="l00371"></a>00371    <span class="keywordtype">int</span> c1_jb_is_created = <a class="code" href="utils_8h.html#d26671e9d352536be0df3d41a800bb83">ast_test_flag</a>(jb1, <a class="code" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516effc5d39f0d9a9c1902ccfb56ace77e692">JB_CREATED</a>);
<a name="l00372"></a>00372    
<a name="l00373"></a>00373    <span class="keywordflow">if</span> (c0_use_jb &amp;&amp; c0_jb_is_created)
<a name="l00374"></a>00374       <a class="code" href="abstract__jb_8c.html#376aacc74650767f9aa1e7cb9fc6684c">jb_get_and_deliver</a>(c0);
<a name="l00375"></a>00375    
<a name="l00376"></a>00376    <span class="keywordflow">if</span> (c1_use_jb &amp;&amp; c1_jb_is_created)
<a name="l00377"></a>00377       <a class="code" href="abstract__jb_8c.html#376aacc74650767f9aa1e7cb9fc6684c">jb_get_and_deliver</a>(c1);
<a name="l00378"></a>00378 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="71dfdeacf8f93cdb1da1c5561ad4e631"></a><!-- doxytag: member="abstract_jb.h::ast_jb_get_config" ref="71dfdeacf8f93cdb1da1c5561ad4e631" args="(const struct ast_channel *chan, struct ast_jb_conf *conf)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ast_jb_get_config           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const struct <a class="el" href="structast__channel.html">ast_channel</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>struct <a class="el" href="structast__jb__conf.html">ast_jb_conf</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>conf</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Copies a channel's jitterbuffer configuration. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>chan</em>&nbsp;</td><td>channel. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>conf</em>&nbsp;</td><td>destination. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="abstract__jb_8c-source.html#l00607">607</a> of file <a class="el" href="abstract__jb_8c-source.html">abstract_jb.c</a>.
<p>
References <a class="el" href="abstract__jb_8h-source.html#l00087">ast_jb::conf</a>, and <a class="el" href="channel_8h-source.html#l00488">ast_channel::jb</a>.<div class="fragment"><pre class="fragment"><a name="l00608"></a>00608 {
<a name="l00609"></a>00609    memcpy(conf, &amp;chan-&gt;<a class="code" href="structast__channel.html#c4a6c07a8a2d7c804a5776d9d039428a">jb</a>.<a class="code" href="structast__jb.html#3a8e4c06e471595f6eb262bb9b5582d9">conf</a>, <span class="keyword">sizeof</span>(*conf));
<a name="l00610"></a>00610 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="08b86b2a178bd6636b3f1b81a418af46"></a><!-- doxytag: member="abstract_jb.h::ast_jb_get_when_to_wakeup" ref="08b86b2a178bd6636b3f1b81a418af46" args="(struct ast_channel *c0, struct ast_channel *c1, int time_left)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int ast_jb_get_when_to_wakeup           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structast__channel.html">ast_channel</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>c0</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>struct <a class="el" href="structast__channel.html">ast_channel</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>c1</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>time_left</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Calculates the time, left to the closest delivery moment in a bridge. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>c0</em>&nbsp;</td><td>first bridged channel. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>c1</em>&nbsp;</td><td>second bridged channel. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>time_left</em>&nbsp;</td><td>bridge time limit, or -1 if not set.</td></tr>
  </table>
</dl>
Called from <a class="el" href="channel_8c.html#4f79ef2dc27d26c29b18b9ab40b5d56b">ast_generic_bridge()</a> to determine the maximum time to wait for activity in <a class="el" href="channel_8c.html#96a31a1429603c4049e5ef10d7ce2470">ast_waitfor_n()</a> call. If neihter of the channels is using jb, this function returns the time limit passed.<p>
<dl compact><dt><b>Returns:</b></dt><dd>maximum time to wait. </dd></dl>

<p>
Definition at line <a class="el" href="abstract__jb_8c-source.html#l00259">259</a> of file <a class="el" href="abstract__jb_8c-source.html">abstract_jb.c</a>.
<p>
References <a class="el" href="utils_8h-source.html#l00067">ast_test_flag</a>, <a class="el" href="abstract__jb_8c-source.html#l00554">get_now()</a>, <a class="el" href="channel_8h-source.html#l00488">ast_channel::jb</a>, <a class="el" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516effc5d39f0d9a9c1902ccfb56ace77e692">JB_CREATED</a>, <a class="el" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516ef7a6171b733379c1b029f14b2d98a356f">JB_USE</a>, and <a class="el" href="abstract__jb_8h-source.html#l00095">ast_jb::next</a>.
<p>
Referenced by <a class="el" href="channel_8c-source.html#l03797">ast_generic_bridge()</a>.<div class="fragment"><pre class="fragment"><a name="l00260"></a>00260 {
<a name="l00261"></a>00261    <span class="keyword">struct </span><a class="code" href="structast__jb.html">ast_jb</a> *jb0 = &amp;c0-&gt;<a class="code" href="structast__channel.html#c4a6c07a8a2d7c804a5776d9d039428a">jb</a>;
<a name="l00262"></a>00262    <span class="keyword">struct </span><a class="code" href="structast__jb.html">ast_jb</a> *jb1 = &amp;c1-&gt;<a class="code" href="structast__channel.html#c4a6c07a8a2d7c804a5776d9d039428a">jb</a>;
<a name="l00263"></a>00263    <span class="keywordtype">int</span> c0_use_jb = <a class="code" href="utils_8h.html#d26671e9d352536be0df3d41a800bb83">ast_test_flag</a>(jb0, <a class="code" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516ef7a6171b733379c1b029f14b2d98a356f">JB_USE</a>);
<a name="l00264"></a>00264    <span class="keywordtype">int</span> c0_jb_is_created = <a class="code" href="utils_8h.html#d26671e9d352536be0df3d41a800bb83">ast_test_flag</a>(jb0, <a class="code" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516effc5d39f0d9a9c1902ccfb56ace77e692">JB_CREATED</a>);
<a name="l00265"></a>00265    <span class="keywordtype">int</span> c1_use_jb = <a class="code" href="utils_8h.html#d26671e9d352536be0df3d41a800bb83">ast_test_flag</a>(jb1, <a class="code" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516ef7a6171b733379c1b029f14b2d98a356f">JB_USE</a>);
<a name="l00266"></a>00266    <span class="keywordtype">int</span> c1_jb_is_created = <a class="code" href="utils_8h.html#d26671e9d352536be0df3d41a800bb83">ast_test_flag</a>(jb1, <a class="code" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516effc5d39f0d9a9c1902ccfb56ace77e692">JB_CREATED</a>);
<a name="l00267"></a>00267    <span class="keywordtype">int</span> wait, wait0, wait1;
<a name="l00268"></a>00268    <span class="keyword">struct </span>timeval tv_now;
<a name="l00269"></a>00269    
<a name="l00270"></a>00270    <span class="keywordflow">if</span> (time_left == 0) {
<a name="l00271"></a>00271       <span class="comment">/* No time left - the bridge will be retried */</span>
<a name="l00272"></a>00272       <span class="comment">/* TODO: Test disable this */</span>
<a name="l00273"></a>00273       <span class="comment">/*return 0;*/</span>
<a name="l00274"></a>00274    }
<a name="l00275"></a>00275    
<a name="l00276"></a>00276    <span class="keywordflow">if</span> (time_left &lt; 0) {
<a name="l00277"></a>00277       time_left = INT_MAX;
<a name="l00278"></a>00278    }
<a name="l00279"></a>00279    
<a name="l00280"></a>00280    gettimeofday(&amp;tv_now, NULL);
<a name="l00281"></a>00281    
<a name="l00282"></a>00282    wait0 = (c0_use_jb &amp;&amp; c0_jb_is_created) ? jb0-&gt;<a class="code" href="structast__jb.html#d0cab90d8d20d57e2f2b9be52f7dd25d">next</a> - <a class="code" href="abstract__jb_8c.html#7dba3123573f5de4c69a766f78f54547">get_now</a>(jb0, &amp;tv_now) : time_left;
<a name="l00283"></a>00283    wait1 = (c1_use_jb &amp;&amp; c1_jb_is_created) ? jb1-&gt;<a class="code" href="structast__jb.html#d0cab90d8d20d57e2f2b9be52f7dd25d">next</a> - <a class="code" href="abstract__jb_8c.html#7dba3123573f5de4c69a766f78f54547">get_now</a>(jb1, &amp;tv_now) : time_left;
<a name="l00284"></a>00284    
<a name="l00285"></a>00285    wait = wait0 &lt; wait1 ? wait0 : wait1;
<a name="l00286"></a>00286    wait = wait &lt; time_left ? wait : time_left;
<a name="l00287"></a>00287    
<a name="l00288"></a>00288    <span class="keywordflow">if</span> (wait == INT_MAX) {
<a name="l00289"></a>00289       wait = -1;
<a name="l00290"></a>00290    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (wait &lt; 1) {
<a name="l00291"></a>00291       <span class="comment">/* don't let wait=0, because this can cause the pbx thread to loop without any sleeping at all */</span>
<a name="l00292"></a>00292       wait = 1;
<a name="l00293"></a>00293    }
<a name="l00294"></a>00294    
<a name="l00295"></a>00295    <span class="keywordflow">return</span> wait;
<a name="l00296"></a>00296 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="01a93200bfbbbe54704b408154bbd877"></a><!-- doxytag: member="abstract_jb.h::ast_jb_put" ref="01a93200bfbbbe54704b408154bbd877" args="(struct ast_channel *chan, struct ast_frame *f)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int ast_jb_put           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structast__channel.html">ast_channel</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>struct <a class="el" href="structast__frame.html">ast_frame</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>f</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Puts a frame into a channel jitterbuffer. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>chan</em>&nbsp;</td><td>channel. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>frame.</td></tr>
  </table>
</dl>
Called from <a class="el" href="channel_8c.html#4f79ef2dc27d26c29b18b9ab40b5d56b">ast_generic_bridge()</a> to put a frame into a channel's jitterbuffer. The function will successfuly enqueue a frame if and only if: 1. the channel is using a jitterbuffer (as determined by <a class="el" href="abstract__jb_8c.html#d3d628e70cc3a782b0017fe3e6b36fd4">ast_jb_do_usecheck()</a>), 2. the frame's type is AST_FRAME_VOICE, 3. the frame has timing info set and has length &gt;= 2 ms, 4. there is no some internal error happened (like failed memory allocation). Frames, successfuly queued, should be delivered by the channel's jitterbuffer, when their delivery time has came. Frames, not successfuly queued, should be delivered immediately. Dropped by the jb implementation frames are considered successfuly enqueued as far as they should not be delivered at all.<p>
<dl compact><dt><b>Returns:</b></dt><dd>zero if the frame was queued, -1 if not. </dd></dl>

<p>
Definition at line <a class="el" href="abstract__jb_8c-source.html#l00299">299</a> of file <a class="el" href="abstract__jb_8c-source.html">abstract_jb.c</a>.
<p>
References <a class="el" href="utils_8h-source.html#l00081">ast_clear_flag</a>, <a class="el" href="frame_8h-source.html#l00125">AST_FRAME_DTMF</a>, <a class="el" href="frame_8h.html#006fc84d03b57b7c7d571d6c0db69f9264fc4720a7b3982e2d4bf246fe3d9924">AST_FRAME_VOICE</a>, <a class="el" href="frame_8c-source.html#l00439">ast_frdup()</a>, <a class="el" href="frame_8h-source.html#l00396">ast_frfree()</a>, <a class="el" href="logger_8c-source.html#l00866">ast_log()</a>, <a class="el" href="utils_8h-source.html#l00074">ast_set_flag</a>, <a class="el" href="utils_8h-source.html#l00067">ast_test_flag</a>, <a class="el" href="abstract__jb_8c-source.html#l00445">create_jb()</a>, <a class="el" href="abstract__jb_8c-source.html#l00088">ast_jb_impl::force_resync</a>, <a class="el" href="frame_8h-source.html#l00131">ast_frame::frametype</a>, <a class="el" href="abstract__jb_8c-source.html#l00554">get_now()</a>, <a class="el" href="frame_8h-source.html#l00153">ast_frame::has_timing_info</a>, <a class="el" href="abstract__jb_8h-source.html#l00089">ast_jb::impl</a>, <a class="el" href="channel_8h-source.html#l00488">ast_channel::jb</a>, <a class="el" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516effc5d39f0d9a9c1902ccfb56ace77e692">JB_CREATED</a>, <a class="el" href="abstract__jb_8c-source.html#l00159">jb_framelog</a>, <a class="el" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516ef7a6171b733379c1b029f14b2d98a356f">JB_USE</a>, <a class="el" href="abstract__jb_8h-source.html#l00091">ast_jb::jbobj</a>, <a class="el" href="frame_8h-source.html#l00157">ast_frame::len</a>, <a class="el" href="logger_8h-source.html#l00118">LOG_ERROR</a>, <a class="el" href="logger_8h-source.html#l00112">LOG_WARNING</a>, <a class="el" href="abstract__jb_8c-source.html#l00086">ast_jb_impl::next</a>, <a class="el" href="abstract__jb_8h-source.html#l00095">ast_jb::next</a>, <a class="el" href="abstract__jb_8c-source.html#l00084">ast_jb_impl::put</a>, <a class="el" href="frame_8h-source.html#l00145">ast_frame::src</a>, and <a class="el" href="frame_8h-source.html#l00155">ast_frame::ts</a>.
<p>
Referenced by <a class="el" href="channel_8c-source.html#l03797">ast_generic_bridge()</a>.<div class="fragment"><pre class="fragment"><a name="l00300"></a>00300 {
<a name="l00301"></a>00301    <span class="keyword">struct </span><a class="code" href="structast__jb.html">ast_jb</a> *jb = &amp;chan-&gt;<a class="code" href="structast__channel.html#c4a6c07a8a2d7c804a5776d9d039428a">jb</a>;
<a name="l00302"></a>00302    <span class="keyword">struct </span><a class="code" href="structast__jb__impl.html">ast_jb_impl</a> *jbimpl = jb-&gt;<a class="code" href="structast__jb.html#86ccec3d9ff0e9c0514506e982cdc08b">impl</a>;
<a name="l00303"></a>00303    <span class="keywordtype">void</span> *jbobj = jb-&gt;<a class="code" href="structast__jb.html#7b92b77c8d7f50c74bb2dfa489e9c107">jbobj</a>;
<a name="l00304"></a>00304    <span class="keyword">struct </span><a class="code" href="structast__frame.html">ast_frame</a> *frr;
<a name="l00305"></a>00305    <span class="keywordtype">long</span> now = 0;
<a name="l00306"></a>00306    
<a name="l00307"></a>00307    <span class="keywordflow">if</span> (!<a class="code" href="utils_8h.html#d26671e9d352536be0df3d41a800bb83">ast_test_flag</a>(jb, <a class="code" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516ef7a6171b733379c1b029f14b2d98a356f">JB_USE</a>))
<a name="l00308"></a>00308       <span class="keywordflow">return</span> -1;
<a name="l00309"></a>00309 
<a name="l00310"></a>00310    <span class="keywordflow">if</span> (f-&gt;<a class="code" href="structast__frame.html#9574009b02f8256934a1a25cbac10e1d">frametype</a> != <a class="code" href="frame_8h.html#006fc84d03b57b7c7d571d6c0db69f9264fc4720a7b3982e2d4bf246fe3d9924">AST_FRAME_VOICE</a>) {
<a name="l00311"></a>00311       <span class="keywordflow">if</span> (f-&gt;<a class="code" href="structast__frame.html#9574009b02f8256934a1a25cbac10e1d">frametype</a> == <a class="code" href="frame_8h.html#41e7a80287a24ece13159c2d8b1b9375">AST_FRAME_DTMF</a> &amp;&amp; <a class="code" href="utils_8h.html#d26671e9d352536be0df3d41a800bb83">ast_test_flag</a>(jb, <a class="code" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516effc5d39f0d9a9c1902ccfb56ace77e692">JB_CREATED</a>)) {
<a name="l00312"></a>00312          <a class="code" href="abstract__jb_8c.html#6707a65d86cea2d7224e4b79e003a8ab">jb_framelog</a>(<span class="stringliteral">"JB_PUT {now=%ld}: Received DTMF frame. Force resynching jb...\n"</span>, now);
<a name="l00313"></a>00313          jbimpl-&gt;<a class="code" href="structast__jb__impl.html#309c7613647dcec4a2cc5afd2a82180d">force_resync</a>(jbobj);
<a name="l00314"></a>00314       }
<a name="l00315"></a>00315       
<a name="l00316"></a>00316       <span class="keywordflow">return</span> -1;
<a name="l00317"></a>00317    }
<a name="l00318"></a>00318 
<a name="l00319"></a>00319    <span class="comment">/* We consider an enabled jitterbuffer should receive frames with valid timing info. */</span>
<a name="l00320"></a>00320    <span class="keywordflow">if</span> (!f-&gt;<a class="code" href="structast__frame.html#138bb3d6497bbfe1604b93aef03d5f09">has_timing_info</a> || f-&gt;<a class="code" href="structast__frame.html#f5a8e923f8cd24b56b3bab32358cc58a">len</a> &lt; 2 || f-&gt;<a class="code" href="structast__frame.html#4d682ec4eed27c53849758bc13b6e179">ts</a> &lt; 0) {
<a name="l00321"></a>00321       <a class="code" href="logger_8c.html#46fbacc19de763bbca2547c1a9c6a5fa">ast_log</a>(<a class="code" href="logger_8h.html#d0cb3df3102ca9270c5785af9a8c137f">LOG_WARNING</a>, <span class="stringliteral">"%s recieved frame with invalid timing info: "</span>
<a name="l00322"></a>00322          <span class="stringliteral">"has_timing_info=%d, len=%ld, ts=%ld, src=%s\n"</span>,
<a name="l00323"></a>00323          chan-&gt;name, f-&gt;<a class="code" href="structast__frame.html#138bb3d6497bbfe1604b93aef03d5f09">has_timing_info</a>, f-&gt;<a class="code" href="structast__frame.html#f5a8e923f8cd24b56b3bab32358cc58a">len</a>, f-&gt;<a class="code" href="structast__frame.html#4d682ec4eed27c53849758bc13b6e179">ts</a>, f-&gt;<a class="code" href="structast__frame.html#25d902c24283ab8cfbac54dfa101ad31">src</a>);
<a name="l00324"></a>00324       <span class="keywordflow">return</span> -1;
<a name="l00325"></a>00325    }
<a name="l00326"></a>00326 
<a name="l00327"></a>00327    frr = <a class="code" href="frame_8c.html#e7f7f3d8f817e56bbaf43b0b1ecf8997">ast_frdup</a>(f);
<a name="l00328"></a>00328 
<a name="l00329"></a>00329    <span class="keywordflow">if</span> (!frr) {
<a name="l00330"></a>00330       <a class="code" href="logger_8c.html#46fbacc19de763bbca2547c1a9c6a5fa">ast_log</a>(<a class="code" href="logger_8h.html#4490aa3d29644e716440fada68f54032">LOG_ERROR</a>, <span class="stringliteral">"Failed to isolate frame for the jitterbuffer on channel '%s'\n"</span>, chan-&gt;name);
<a name="l00331"></a>00331       <span class="keywordflow">return</span> -1;
<a name="l00332"></a>00332    }
<a name="l00333"></a>00333 
<a name="l00334"></a>00334    <span class="keywordflow">if</span> (!<a class="code" href="utils_8h.html#d26671e9d352536be0df3d41a800bb83">ast_test_flag</a>(jb, <a class="code" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516effc5d39f0d9a9c1902ccfb56ace77e692">JB_CREATED</a>)) {
<a name="l00335"></a>00335       <span class="keywordflow">if</span> (<a class="code" href="abstract__jb_8c.html#cd36b3c6b09fa926fdeaadb452a04fd4">create_jb</a>(chan, frr)) {
<a name="l00336"></a>00336          <a class="code" href="frame_8h.html#506c759ec4950e7f7465e8f090a6252b">ast_frfree</a>(frr);
<a name="l00337"></a>00337          <span class="comment">/* Disable the jitterbuffer */</span>
<a name="l00338"></a>00338          <a class="code" href="utils_8h.html#c2399a33be6ffb658bcf7c6a35531732">ast_clear_flag</a>(jb, <a class="code" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516ef7a6171b733379c1b029f14b2d98a356f">JB_USE</a>);
<a name="l00339"></a>00339          <span class="keywordflow">return</span> -1;
<a name="l00340"></a>00340       }
<a name="l00341"></a>00341 
<a name="l00342"></a>00342       <a class="code" href="utils_8h.html#3208623241ff7b4c93907944487502a1">ast_set_flag</a>(jb, <a class="code" href="abstract__jb_8c.html#dca29a1140aadadfd92b34a02fa516effc5d39f0d9a9c1902ccfb56ace77e692">JB_CREATED</a>);
<a name="l00343"></a>00343       <span class="keywordflow">return</span> 0;
<a name="l00344"></a>00344    } <span class="keywordflow">else</span> {
<a name="l00345"></a>00345       now = <a class="code" href="abstract__jb_8c.html#7dba3123573f5de4c69a766f78f54547">get_now</a>(jb, NULL);
<a name="l00346"></a>00346       <span class="keywordflow">if</span> (jbimpl-&gt;<a class="code" href="structast__jb__impl.html#8e13ffc9fd9d6a6761231a764bdf106b">put</a>(jbobj, frr, now) != <a class="code" href="abstract__jb_8c.html#68986ab776eb5d6b5a809a1c005a7300c6bca3e87869fab3539cf2c83e62cee8">JB_IMPL_OK</a>) {
<a name="l00347"></a>00347          <a class="code" href="abstract__jb_8c.html#6707a65d86cea2d7224e4b79e003a8ab">jb_framelog</a>(<span class="stringliteral">"JB_PUT {now=%ld}: Dropped frame with ts=%ld and len=%ld\n"</span>, now, frr-&gt;<a class="code" href="structast__frame.html#4d682ec4eed27c53849758bc13b6e179">ts</a>, frr-&gt;<a class="code" href="structast__frame.html#f5a8e923f8cd24b56b3bab32358cc58a">len</a>);
<a name="l00348"></a>00348          <a class="code" href="frame_8h.html#506c759ec4950e7f7465e8f090a6252b">ast_frfree</a>(frr);
<a name="l00349"></a>00349          <span class="comment">/*return -1;*/</span>
<a name="l00350"></a>00350          <span class="comment">/* TODO: Check this fix - should return 0 here, because the dropped frame shouldn't </span>
<a name="l00351"></a>00351 <span class="comment">            be delivered at all */</span>
<a name="l00352"></a>00352          <span class="keywordflow">return</span> 0;
<a name="l00353"></a>00353       }
<a name="l00354"></a>00354 
<a name="l00355"></a>00355       jb-&gt;<a class="code" href="structast__jb.html#d0cab90d8d20d57e2f2b9be52f7dd25d">next</a> = jbimpl-&gt;<a class="code" href="structast__jb__impl.html#d0cab90d8d20d57e2f2b9be52f7dd25d">next</a>(jbobj);
<a name="l00356"></a>00356 
<a name="l00357"></a>00357       <a class="code" href="abstract__jb_8c.html#6707a65d86cea2d7224e4b79e003a8ab">jb_framelog</a>(<span class="stringliteral">"JB_PUT {now=%ld}: Queued frame with ts=%ld and len=%ld\n"</span>, now, frr-&gt;<a class="code" href="structast__frame.html#4d682ec4eed27c53849758bc13b6e179">ts</a>, frr-&gt;<a class="code" href="structast__frame.html#f5a8e923f8cd24b56b3bab32358cc58a">len</a>);
<a name="l00358"></a>00358 
<a name="l00359"></a>00359       <span class="keywordflow">return</span> 0;
<a name="l00360"></a>00360    }
<a name="l00361"></a>00361 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a68ca1bdf604d26cdd06c79334055a16"></a><!-- doxytag: member="abstract_jb.h::ast_jb_read_conf" ref="a68ca1bdf604d26cdd06c79334055a16" args="(struct ast_jb_conf *conf, char *varname, char *value)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int ast_jb_read_conf           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structast__jb__conf.html">ast_jb_conf</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>conf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>varname</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>value</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets jitterbuffer configuration property. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conf</em>&nbsp;</td><td>configuration to store the property in. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>varname</em>&nbsp;</td><td>property name. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>property value.</td></tr>
  </table>
</dl>
Called from a channel driver to build a jitterbuffer configuration tipically when reading a configuration file. It is not neccessary for a channel driver to know each of the jb configuration property names. The jitterbuffer itself knows them. The channel driver can pass each config var it reads through this function. It will return 0 if the variable was consumed from the jb conf.<p>
<dl compact><dt><b>Returns:</b></dt><dd>zero if the property was set to the configuration, -1 if not. </dd></dl>

<p>
Definition at line <a class="el" href="abstract__jb_8c-source.html#l00567">567</a> of file <a class="el" href="abstract__jb_8c-source.html">abstract_jb.c</a>.
<p>
References <a class="el" href="abstract__jb_8h-source.html#l00070">AST_JB_CONF_ENABLE</a>, <a class="el" href="abstract__jb_8h-source.html#l00071">AST_JB_CONF_FORCE</a>, <a class="el" href="abstract__jb_8h-source.html#l00074">AST_JB_CONF_IMPL</a>, <a class="el" href="abstract__jb_8h-source.html#l00075">AST_JB_CONF_LOG</a>, <a class="el" href="abstract__jb_8h-source.html#l00072">AST_JB_CONF_MAX_SIZE</a>, <a class="el" href="abstract__jb_8h-source.html#l00069">AST_JB_CONF_PREFIX</a>, <a class="el" href="abstract__jb_8h-source.html#l00073">AST_JB_CONF_RESYNCH_THRESHOLD</a>, <a class="el" href="abstract__jb_8h.html#dca29a1140aadadfd92b34a02fa516efe16353c00a54d901328597ac1a1519b1">AST_JB_ENABLED</a>, <a class="el" href="abstract__jb_8h.html#dca29a1140aadadfd92b34a02fa516efec2dc7257f02903a83fa0314d3311ec8">AST_JB_FORCED</a>, <a class="el" href="abstract__jb_8h.html#dca29a1140aadadfd92b34a02fa516ef3f91d759cde3385674bbed8cc6661876">AST_JB_LOG</a>, <a class="el" href="utils_8h-source.html#l00098">ast_set2_flag</a>, <a class="el" href="strings_8h-source.html#l00037">ast_strlen_zero()</a>, <a class="el" href="utils_8c-source.html#l00724">ast_true()</a>, <a class="el" href="abstract__jb_8h-source.html#l00064">ast_jb_conf::impl</a>, <a class="el" href="abstract__jb_8h-source.html#l00060">ast_jb_conf::max_size</a>, <a class="el" href="callerid_8c-source.html#l01043">name</a>, and <a class="el" href="abstract__jb_8h-source.html#l00062">ast_jb_conf::resync_threshold</a>.
<p>
Referenced by <a class="el" href="chan__gtalk_8c-source.html#l01703">gtalk_load_config()</a>, <a class="el" href="chan__jingle_8c-source.html#l01561">jingle_load_config()</a>, <a class="el" href="chan__alsa_8c-source.html#l01087">load_module()</a>, <a class="el" href="chan__zap_8c-source.html#l11882">process_zap()</a>, <a class="el" href="chan__h323_8c-source.html#l02809">reload_config()</a>, and <a class="el" href="chan__oss_8c-source.html#l01489">store_config()</a>.<div class="fragment"><pre class="fragment"><a name="l00568"></a>00568 {
<a name="l00569"></a>00569    <span class="keywordtype">int</span> prefixlen = <span class="keyword">sizeof</span>(<a class="code" href="abstract__jb_8h.html#d945a25517b769f6d87c1b93ced32aeb">AST_JB_CONF_PREFIX</a>) - 1;
<a name="l00570"></a>00570    <span class="keywordtype">char</span> *<a class="code" href="callerid_8c.html#b068931cc450442b63f5b3d276ea4297">name</a>;
<a name="l00571"></a>00571    <span class="keywordtype">int</span> tmp;
<a name="l00572"></a>00572    
<a name="l00573"></a>00573    <span class="keywordflow">if</span> (strncasecmp(<a class="code" href="abstract__jb_8h.html#d945a25517b769f6d87c1b93ced32aeb">AST_JB_CONF_PREFIX</a>, varname, prefixlen))
<a name="l00574"></a>00574       <span class="keywordflow">return</span> -1;
<a name="l00575"></a>00575    
<a name="l00576"></a>00576    <a class="code" href="callerid_8c.html#b068931cc450442b63f5b3d276ea4297">name</a> = varname + prefixlen;
<a name="l00577"></a>00577    
<a name="l00578"></a>00578    <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="callerid_8c.html#b068931cc450442b63f5b3d276ea4297">name</a>, <a class="code" href="abstract__jb_8h.html#cc60524bcbe8be44e64b723da452ff9b">AST_JB_CONF_ENABLE</a>)) {
<a name="l00579"></a>00579       <a class="code" href="utils_8h.html#006f8c62b98bc7acf13ee1584ce5a1ce">ast_set2_flag</a>(conf, <a class="code" href="utils_8c.html#63bb02e4d6f18c1dbeca92dc63310685">ast_true</a>(value), <a class="code" href="abstract__jb_8h.html#dca29a1140aadadfd92b34a02fa516efe16353c00a54d901328597ac1a1519b1">AST_JB_ENABLED</a>);
<a name="l00580"></a>00580    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="callerid_8c.html#b068931cc450442b63f5b3d276ea4297">name</a>, <a class="code" href="abstract__jb_8h.html#2a964e70bb2ca628a148946bfa547f59">AST_JB_CONF_FORCE</a>)) {
<a name="l00581"></a>00581       <a class="code" href="utils_8h.html#006f8c62b98bc7acf13ee1584ce5a1ce">ast_set2_flag</a>(conf, <a class="code" href="utils_8c.html#63bb02e4d6f18c1dbeca92dc63310685">ast_true</a>(value), <a class="code" href="abstract__jb_8h.html#dca29a1140aadadfd92b34a02fa516efec2dc7257f02903a83fa0314d3311ec8">AST_JB_FORCED</a>);
<a name="l00582"></a>00582    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="callerid_8c.html#b068931cc450442b63f5b3d276ea4297">name</a>, <a class="code" href="abstract__jb_8h.html#0b886665e777946b6f15d28319e3bcb1">AST_JB_CONF_MAX_SIZE</a>)) {
<a name="l00583"></a>00583       <span class="keywordflow">if</span> ((tmp = atoi(value)) &gt; 0)
<a name="l00584"></a>00584          conf-&gt;<a class="code" href="structast__jb__conf.html#da3260a0e11612d46e4ebab5d03fd4dd">max_size</a> = tmp;
<a name="l00585"></a>00585    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="callerid_8c.html#b068931cc450442b63f5b3d276ea4297">name</a>, <a class="code" href="abstract__jb_8h.html#8fa2464ea5aad64360a6e9ea2f31405a">AST_JB_CONF_RESYNCH_THRESHOLD</a>)) {
<a name="l00586"></a>00586       <span class="keywordflow">if</span> ((tmp = atoi(value)) &gt; 0)
<a name="l00587"></a>00587          conf-&gt;<a class="code" href="structast__jb__conf.html#d97eebcde281eba2855bbe1308ef0944">resync_threshold</a> = tmp;
<a name="l00588"></a>00588    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="callerid_8c.html#b068931cc450442b63f5b3d276ea4297">name</a>, <a class="code" href="abstract__jb_8h.html#183df55f41ce8148bd63473cce4572e0">AST_JB_CONF_IMPL</a>)) {
<a name="l00589"></a>00589       <span class="keywordflow">if</span> (!<a class="code" href="strings_8h.html#8ea6cd7603b8f588209bc49c9c29e968">ast_strlen_zero</a>(value))
<a name="l00590"></a>00590          snprintf(conf-&gt;<a class="code" href="structast__jb__conf.html#2734295cf6476ca77aba906324a46286">impl</a>, <span class="keyword">sizeof</span>(conf-&gt;<a class="code" href="structast__jb__conf.html#2734295cf6476ca77aba906324a46286">impl</a>), <span class="stringliteral">"%s"</span>, value);
<a name="l00591"></a>00591    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="callerid_8c.html#b068931cc450442b63f5b3d276ea4297">name</a>, <a class="code" href="abstract__jb_8h.html#93ceeae2b06bff91729a6309250ff576">AST_JB_CONF_LOG</a>)) {
<a name="l00592"></a>00592       <a class="code" href="utils_8h.html#006f8c62b98bc7acf13ee1584ce5a1ce">ast_set2_flag</a>(conf, <a class="code" href="utils_8c.html#63bb02e4d6f18c1dbeca92dc63310685">ast_true</a>(value), <a class="code" href="abstract__jb_8h.html#dca29a1140aadadfd92b34a02fa516ef3f91d759cde3385674bbed8cc6661876">AST_JB_LOG</a>);
<a name="l00593"></a>00593    } <span class="keywordflow">else</span> {
<a name="l00594"></a>00594       <span class="keywordflow">return</span> -1;
<a name="l00595"></a>00595    }
<a name="l00596"></a>00596    
<a name="l00597"></a>00597    <span class="keywordflow">return</span> 0;
<a name="l00598"></a>00598 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Thu May 24 22:26:52 2007 for Asterisk - the Open Source PBX by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.5 </small></address>
</body>
</html>
