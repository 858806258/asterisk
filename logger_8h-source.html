<HTML>
    <HEAD>
      <TITLE>Asterisk.org: Developer Documentation (24 May 2007)</TITLE>
      <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
    </HEAD>
    <BODY BGCOLOR="#FFFFFF">
<div><font size="2" align="right">Thu May 24 22:26:45 2007</font></div>

<h2>Asterisk developer's documentation</h2>
<hr/>
<!-- Generated by Doxygen 1.4.5 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir__2Fusr_2Flocal_2Fsrc_2Fasterisk_2Esvn_2Fastum_2Finclude_2F.html">include</a>&nbsp;&raquo&nbsp;<a class="el" href="dir__2Fusr_2Flocal_2Fsrc_2Fasterisk_2Esvn_2Fastum_2Finclude_2Fasterisk_2F.html">asterisk</a></div>
<h1>logger.h</h1><a href="logger_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * Asterisk -- An open source telephony toolkit.</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * Copyright (C) 1999 - 2005, Digium, Inc.</span>
<a name="l00005"></a>00005 <span class="comment"> *</span>
<a name="l00006"></a>00006 <span class="comment"> * Mark Spencer &lt;markster@digium.com&gt;</span>
<a name="l00007"></a>00007 <span class="comment"> *</span>
<a name="l00008"></a>00008 <span class="comment"> * See http://www.asterisk.org for more information about</span>
<a name="l00009"></a>00009 <span class="comment"> * the Asterisk project. Please do not directly contact</span>
<a name="l00010"></a>00010 <span class="comment"> * any of the maintainers of this project for assistance;</span>
<a name="l00011"></a>00011 <span class="comment"> * the project provides a web site, mailing lists and IRC</span>
<a name="l00012"></a>00012 <span class="comment"> * channels for your use.</span>
<a name="l00013"></a>00013 <span class="comment"> *</span>
<a name="l00014"></a>00014 <span class="comment"> * This program is free software, distributed under the terms of</span>
<a name="l00015"></a>00015 <span class="comment"> * the GNU General Public License Version 2. See the LICENSE file</span>
<a name="l00016"></a>00016 <span class="comment"> * at the top of the source tree.</span>
<a name="l00017"></a>00017 <span class="comment"> */</span>
<a name="l00018"></a>00018 <span class="comment"></span>
<a name="l00019"></a>00019 <span class="comment">/*!</span>
<a name="l00020"></a>00020 <span class="comment">  \file logger.h</span>
<a name="l00021"></a>00021 <span class="comment">  \brief Support for logging to various files, console and syslog</span>
<a name="l00022"></a>00022 <span class="comment">   Configuration in file logger.conf</span>
<a name="l00023"></a>00023 <span class="comment">*/</span>
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 <span class="preprocessor">#ifndef _ASTERISK_LOGGER_H</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span><span class="preprocessor">#define _ASTERISK_LOGGER_H</span>
<a name="l00027"></a>00027 <span class="preprocessor"></span>
<a name="l00028"></a>00028 <span class="preprocessor">#include "<a class="code" href="compat_8h.html">asterisk/compat.h</a>"</span>
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;stdarg.h&gt;</span>
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 <span class="preprocessor">#if defined(__cplusplus) || defined(c_plusplus)</span>
<a name="l00033"></a>00033 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
<a name="l00034"></a>00034 <span class="preprocessor">#endif</span>
<a name="l00035"></a>00035 <span class="preprocessor"></span>
<a name="l00036"></a><a class="code" href="logger_8h.html#ea818bb73b1eea69c38c5c13b69971af">00036</a> <span class="preprocessor">#define EVENTLOG "event_log"</span>
<a name="l00037"></a><a class="code" href="logger_8h.html#063d02a01b71f705158c71897ebeb718">00037</a> <span class="preprocessor"></span><span class="preprocessor">#define  QUEUELOG "queue_log"</span>
<a name="l00038"></a>00038 <span class="preprocessor"></span>
<a name="l00039"></a><a class="code" href="logger_8h.html#aa75dcb3b57475380f9f7d420bf48809">00039</a> <span class="preprocessor">#define DEBUG_M(a) { \</span>
<a name="l00040"></a>00040 <span class="preprocessor">   a; \</span>
<a name="l00041"></a>00041 <span class="preprocessor">}</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span>
<a name="l00043"></a><a class="code" href="logger_8h.html#be88e5e9e0316971a55422c09f04e996">00043</a> <span class="preprocessor">#define VERBOSE_PREFIX_1 " "</span>
<a name="l00044"></a><a class="code" href="logger_8h.html#6e3640436a97291b451a8d264b5ab15d">00044</a> <span class="preprocessor"></span><span class="preprocessor">#define VERBOSE_PREFIX_2 "  == "</span>
<a name="l00045"></a><a class="code" href="logger_8h.html#aefd5a67b7464040f5352e4ecdc535ca">00045</a> <span class="preprocessor"></span><span class="preprocessor">#define VERBOSE_PREFIX_3 "    -- "</span>
<a name="l00046"></a><a class="code" href="logger_8h.html#8f25f582e7a737b25f607fb6ad653807">00046</a> <span class="preprocessor"></span><span class="preprocessor">#define VERBOSE_PREFIX_4 "       &gt; "</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span><span class="comment"></span>
<a name="l00048"></a>00048 <span class="comment">/*! Used for sending a log message */</span><span class="comment"></span>
<a name="l00049"></a>00049 <span class="comment">/*!</span>
<a name="l00050"></a>00050 <span class="comment">   \brief This is the standard logger function.  Probably the only way you will invoke it would be something like this:</span>
<a name="l00051"></a>00051 <span class="comment">   ast_log(LOG_WHATEVER, "Problem with the %s Captain.  We should get some more.  Will %d be enough?\n", "flux capacitor", 10);</span>
<a name="l00052"></a>00052 <span class="comment">   where WHATEVER is one of ERROR, DEBUG, EVENT, NOTICE, or WARNING depending</span>
<a name="l00053"></a>00053 <span class="comment">   on which log you wish to output to. These are implemented as macros, that</span>
<a name="l00054"></a>00054 <span class="comment">   will provide the function with the needed arguments.</span>
<a name="l00055"></a>00055 <span class="comment"></span>
<a name="l00056"></a>00056 <span class="comment">   \param level   Type of log event</span>
<a name="l00057"></a>00057 <span class="comment">   \param file Will be provided by the LOG_* macro</span>
<a name="l00058"></a>00058 <span class="comment">   \param line Will be provided by the LOG_* macro</span>
<a name="l00059"></a>00059 <span class="comment">   \param function   Will be provided by the LOG_* macro</span>
<a name="l00060"></a>00060 <span class="comment">   \param fmt  This is what is important.  The format is the same as your favorite breed of printf.  You know how that works, right? :-)</span>
<a name="l00061"></a>00061 <span class="comment"> */</span>
<a name="l00062"></a>00062 <span class="keywordtype">void</span> <a class="code" href="logger_8c.html#46fbacc19de763bbca2547c1a9c6a5fa">ast_log</a>(<span class="keywordtype">int</span> level, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="manager_8h.html#8c7dd922ad47494fc02c388e12c00eac">file</a>, <span class="keywordtype">int</span> <a class="code" href="manager_8h.html#6438c669e0d0de98e6929c2cc0fac474">line</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *function, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="manager_8h.html#7631454338ff70b1a6b1262f5f36beac">fmt</a>, ...)
<a name="l00063"></a>00063    <a class="code" href="struct____attribute____.html">__attribute__</a> ((<a class="code" href="chan__alsa_8c.html#1ddcb92ade31c8fbd370001f9b29a7d9">format</a> (printf, 5, 6)));
<a name="l00064"></a>00064 
<a name="l00065"></a>00065 <span class="keywordtype">void</span> <a class="code" href="logger_8c.html#297cf7a7e381ef70768b928e225205aa">ast_backtrace</a>(<span class="keywordtype">void</span>);
<a name="l00066"></a>00066 
<a name="l00067"></a>00067 <span class="keywordtype">void</span> <a class="code" href="logger_8c.html#fea5f2d99796443dd5537c0d8ca44bce">ast_queue_log</a>(const <span class="keywordtype">char</span> *queuename, const <span class="keywordtype">char</span> *callid, const <span class="keywordtype">char</span> *agent, const <span class="keywordtype">char</span> *<a class="code" href="manager_8h.html#4119639092e62c55ea8be348e4d9260d">event</a>, const <span class="keywordtype">char</span> *fmt, ...)
<a name="l00068"></a>00068    <a class="code" href="struct____attribute____.html">__attribute__</a> ((<a class="code" href="chan__alsa_8c.html#1ddcb92ade31c8fbd370001f9b29a7d9">format</a> (printf, 5, 6)));
<a name="l00069"></a>00069 <span class="comment"></span>
<a name="l00070"></a>00070 <span class="comment">/*! Send a verbose message (based on verbose level)</span>
<a name="l00071"></a>00071 <span class="comment">   \brief This works like ast_log, but prints verbose messages to the console depending on verbosity level set.</span>
<a name="l00072"></a>00072 <span class="comment">   ast_verbose(VERBOSE_PREFIX_3 "Whatever %s is happening\n", "nothing");</span>
<a name="l00073"></a>00073 <span class="comment">   This will print the message to the console if the verbose level is set to a level &gt;= 3</span>
<a name="l00074"></a>00074 <span class="comment">   Note the abscence of a comma after the VERBOSE_PREFIX_3.  This is important.</span>
<a name="l00075"></a>00075 <span class="comment">   VERBOSE_PREFIX_1 through VERBOSE_PREFIX_3 are defined.</span>
<a name="l00076"></a>00076 <span class="comment"> */</span>
<a name="l00077"></a>00077 <span class="keywordtype">void</span> <a class="code" href="logger_8c.html#6a1ef0a194bcc79fccfb662192954477">ast_verbose</a>(const <span class="keywordtype">char</span> *fmt, ...)
<a name="l00078"></a>00078    <a class="code" href="struct____attribute____.html">__attribute__</a> ((<a class="code" href="chan__alsa_8c.html#1ddcb92ade31c8fbd370001f9b29a7d9">format</a> (printf, 1, 2)));
<a name="l00079"></a>00079 
<a name="l00080"></a>00080 <span class="keywordtype">int</span> <a class="code" href="logger_8c.html#b35c0edb76d8e60bf79adbd900a62bee">ast_register_verbose</a>(<span class="keywordtype">void</span> (*<a class="code" href="pbx__gtkconsole_8c.html#89523bc3ebf2fe24a45d3c064e687348">verboser</a>)(const <span class="keywordtype">char</span> *string));
<a name="l00081"></a>00081 <span class="keywordtype">int</span> <a class="code" href="logger_8c.html#18ec4e6f6bb726d5ebff709a84806413">ast_unregister_verbose</a>(<span class="keywordtype">void</span> (*<a class="code" href="pbx__gtkconsole_8c.html#89523bc3ebf2fe24a45d3c064e687348">verboser</a>)(const <span class="keywordtype">char</span> *string));
<a name="l00082"></a>00082 
<a name="l00083"></a>00083 <span class="keywordtype">void</span> <a class="code" href="asterisk_8c.html#a618d7d216c7cdc17d37546aaacaaf7d">ast_console_puts</a>(const <span class="keywordtype">char</span> *string);
<a name="l00084"></a>00084 
<a name="l00085"></a>00085 <span class="keywordtype">void</span> <a class="code" href="asterisk_8c.html#9ec43523774e97ccc9e920c5122b5016">ast_console_puts_mutable</a>(const <span class="keywordtype">char</span> *string);
<a name="l00086"></a>00086 <span class="keywordtype">void</span> <a class="code" href="asterisk_8c.html#d7c343a21dfa2d2acb22ddc9f890f65b">ast_console_toggle_mute</a>(<span class="keywordtype">int</span> fd);
<a name="l00087"></a>00087 
<a name="l00088"></a><a class="code" href="logger_8h.html#5e90887ea8ece0b8143b2e550d68c955">00088</a> #define <a class="code" href="logger_8h.html#5e90887ea8ece0b8143b2e550d68c955">_A_</a> __FILE__, __LINE__, __PRETTY_FUNCTION__
<a name="l00089"></a>00089 
<a name="l00090"></a>00090 #ifdef <a class="code" href="logger_8h.html#eded50d942c7c2d37d09ba8241ff017f">LOG_DEBUG</a>
<a name="l00091"></a>00091 #undef <a class="code" href="logger_8h.html#eded50d942c7c2d37d09ba8241ff017f">LOG_DEBUG</a>
<a name="l00092"></a>00092 #endif
<a name="l00093"></a><a class="code" href="logger_8h.html#36ac87505d29acf92f10613e55aa731d">00093</a> #define <a class="code" href="logger_8h.html#36ac87505d29acf92f10613e55aa731d">__LOG_DEBUG</a>    0
<a name="l00094"></a><a class="code" href="logger_8h.html#eded50d942c7c2d37d09ba8241ff017f">00094</a> #define <a class="code" href="logger_8h.html#eded50d942c7c2d37d09ba8241ff017f">LOG_DEBUG</a>      <a class="code" href="logger_8h.html#36ac87505d29acf92f10613e55aa731d">__LOG_DEBUG</a>, <a class="code" href="logger_8h.html#5e90887ea8ece0b8143b2e550d68c955">_A_</a>
<a name="l00095"></a>00095 
<a name="l00096"></a>00096 #ifdef <a class="code" href="logger_8h.html#4671d62857becc386bbe4cfdc0d96fdc">LOG_EVENT</a>
<a name="l00097"></a>00097 #undef <a class="code" href="logger_8h.html#4671d62857becc386bbe4cfdc0d96fdc">LOG_EVENT</a>
<a name="l00098"></a>00098 #endif
<a name="l00099"></a><a class="code" href="logger_8h.html#e28133c67e34211b53118af61da79fe6">00099</a> #define <a class="code" href="logger_8h.html#e28133c67e34211b53118af61da79fe6">__LOG_EVENT</a>    1
<a name="l00100"></a><a class="code" href="logger_8h.html#4671d62857becc386bbe4cfdc0d96fdc">00100</a> #define <a class="code" href="logger_8h.html#4671d62857becc386bbe4cfdc0d96fdc">LOG_EVENT</a>      <a class="code" href="logger_8h.html#e28133c67e34211b53118af61da79fe6">__LOG_EVENT</a>, <a class="code" href="logger_8h.html#5e90887ea8ece0b8143b2e550d68c955">_A_</a>
<a name="l00101"></a>00101 
<a name="l00102"></a>00102 #ifdef <a class="code" href="logger_8h.html#bbf95aad74d847cd4bcb129604f798cd">LOG_NOTICE</a>
<a name="l00103"></a>00103 #undef <a class="code" href="logger_8h.html#bbf95aad74d847cd4bcb129604f798cd">LOG_NOTICE</a>
<a name="l00104"></a>00104 #endif
<a name="l00105"></a><a class="code" href="logger_8h.html#dfb1df2832530ced7151893cc42d8ba9">00105</a> #define <a class="code" href="logger_8h.html#dfb1df2832530ced7151893cc42d8ba9">__LOG_NOTICE</a>   2
<a name="l00106"></a><a class="code" href="logger_8h.html#bbf95aad74d847cd4bcb129604f798cd">00106</a> #define <a class="code" href="logger_8h.html#bbf95aad74d847cd4bcb129604f798cd">LOG_NOTICE</a>     <a class="code" href="logger_8h.html#dfb1df2832530ced7151893cc42d8ba9">__LOG_NOTICE</a>, <a class="code" href="logger_8h.html#5e90887ea8ece0b8143b2e550d68c955">_A_</a>
<a name="l00107"></a>00107 
<a name="l00108"></a>00108 #ifdef <a class="code" href="logger_8h.html#d0cb3df3102ca9270c5785af9a8c137f">LOG_WARNING</a>
<a name="l00109"></a>00109 #undef <a class="code" href="logger_8h.html#d0cb3df3102ca9270c5785af9a8c137f">LOG_WARNING</a>
<a name="l00110"></a>00110 #endif
<a name="l00111"></a><a class="code" href="logger_8h.html#ad15b2eab40e22366cef380cd3f34545">00111</a> #define <a class="code" href="logger_8h.html#ad15b2eab40e22366cef380cd3f34545">__LOG_WARNING</a>  3
<a name="l00112"></a><a class="code" href="logger_8h.html#d0cb3df3102ca9270c5785af9a8c137f">00112</a> #define <a class="code" href="logger_8h.html#d0cb3df3102ca9270c5785af9a8c137f">LOG_WARNING</a>    <a class="code" href="logger_8h.html#ad15b2eab40e22366cef380cd3f34545">__LOG_WARNING</a>, <a class="code" href="logger_8h.html#5e90887ea8ece0b8143b2e550d68c955">_A_</a>
<a name="l00113"></a>00113 
<a name="l00114"></a>00114 #ifdef <a class="code" href="logger_8h.html#4490aa3d29644e716440fada68f54032">LOG_ERROR</a>
<a name="l00115"></a>00115 #undef <a class="code" href="logger_8h.html#4490aa3d29644e716440fada68f54032">LOG_ERROR</a>
<a name="l00116"></a>00116 #endif
<a name="l00117"></a><a class="code" href="logger_8h.html#9c1a3f6390455d3a0691ae9f5d70893f">00117</a> #define <a class="code" href="logger_8h.html#9c1a3f6390455d3a0691ae9f5d70893f">__LOG_ERROR</a>    4
<a name="l00118"></a><a class="code" href="logger_8h.html#4490aa3d29644e716440fada68f54032">00118</a> #define <a class="code" href="logger_8h.html#4490aa3d29644e716440fada68f54032">LOG_ERROR</a>      <a class="code" href="logger_8h.html#9c1a3f6390455d3a0691ae9f5d70893f">__LOG_ERROR</a>, <a class="code" href="logger_8h.html#5e90887ea8ece0b8143b2e550d68c955">_A_</a>
<a name="l00119"></a>00119 
<a name="l00120"></a>00120 #ifdef <a class="code" href="logger_8h.html#673e841c68db57daad3d2b949a08e5cf">LOG_VERBOSE</a>
<a name="l00121"></a>00121 #undef <a class="code" href="logger_8h.html#673e841c68db57daad3d2b949a08e5cf">LOG_VERBOSE</a>
<a name="l00122"></a>00122 #endif
<a name="l00123"></a><a class="code" href="logger_8h.html#00cd651bf1dd9d98e077eb8c8f6e7a22">00123</a> #define <a class="code" href="logger_8h.html#00cd651bf1dd9d98e077eb8c8f6e7a22">__LOG_VERBOSE</a>  5
<a name="l00124"></a><a class="code" href="logger_8h.html#673e841c68db57daad3d2b949a08e5cf">00124</a> #define <a class="code" href="logger_8h.html#673e841c68db57daad3d2b949a08e5cf">LOG_VERBOSE</a>    <a class="code" href="logger_8h.html#00cd651bf1dd9d98e077eb8c8f6e7a22">__LOG_VERBOSE</a>, <a class="code" href="logger_8h.html#5e90887ea8ece0b8143b2e550d68c955">_A_</a>
<a name="l00125"></a>00125 
<a name="l00126"></a>00126 #ifdef <a class="code" href="logger_8h.html#c4c2b6b3ec500c918825c31bad563b4c">LOG_DTMF</a>
<a name="l00127"></a>00127 #undef <a class="code" href="logger_8h.html#c4c2b6b3ec500c918825c31bad563b4c">LOG_DTMF</a>
<a name="l00128"></a>00128 #endif
<a name="l00129"></a><a class="code" href="logger_8h.html#d1ccfb71e740905c5c5331ce97e12adf">00129</a> #define <a class="code" href="logger_8h.html#d1ccfb71e740905c5c5331ce97e12adf">__LOG_DTMF</a>  6
<a name="l00130"></a><a class="code" href="logger_8h.html#c4c2b6b3ec500c918825c31bad563b4c">00130</a> #define <a class="code" href="logger_8h.html#c4c2b6b3ec500c918825c31bad563b4c">LOG_DTMF</a>    <a class="code" href="logger_8h.html#d1ccfb71e740905c5c5331ce97e12adf">__LOG_DTMF</a>, <a class="code" href="logger_8h.html#5e90887ea8ece0b8143b2e550d68c955">_A_</a>
<a name="l00131"></a>00131 
<a name="l00132"></a>00132 #if defined(__cplusplus) || defined(c_plusplus)
<a name="l00133"></a>00133 }
<a name="l00134"></a>00134 #endif
<a name="l00135"></a>00135 
<a name="l00136"></a>00136 #endif <span class="comment">/* _ASTERISK_LOGGER_H */</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Thu May 24 22:26:45 2007 for Asterisk - the Open Source PBX by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.5 </small></address>
</body>
</html>
