<HTML>
    <HEAD>
      <TITLE>Asterisk.org: Developer Documentation (24 May 2007)</TITLE>
      <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
    </HEAD>
    <BODY BGCOLOR="#FFFFFF">
<div><font size="2" align="right">Thu May 24 22:27:26 2007</font></div>

<h2>Asterisk developer's documentation</h2>
<hr/>
<!-- Generated by Doxygen 1.4.5 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir__2Fusr_2Flocal_2Fsrc_2Fasterisk_2Esvn_2Fastum_2Finclude_2F.html">include</a>&nbsp;&raquo&nbsp;<a class="el" href="dir__2Fusr_2Flocal_2Fsrc_2Fasterisk_2Esvn_2Fastum_2Finclude_2Fasterisk_2F.html">asterisk</a></div>
<h1>dial.h File Reference</h1>Dialing API. <a href="#_details">More...</a>
<p>

<p>
<a href="dial_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#0307ee9bebc49c8e17653906d21fd775">ast_dial_state_callback</a> )(struct <a class="el" href="structast__dial.html">ast_dial</a> *)</td></tr>

<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#9a3d976a8e04abab71723abcb9d1bd66">ast_dial_option</a> { <a class="el" href="dial_8h.html#9a3d976a8e04abab71723abcb9d1bd66cadf057cc1c16d5cf67f19421ae3b658">AST_DIAL_OPTION_RINGING</a>, 
<a class="el" href="dial_8h.html#9a3d976a8e04abab71723abcb9d1bd668402b8efa6ddfda761eb78de0469ecf1">AST_DIAL_OPTION_ANSWER_EXEC</a>, 
<a class="el" href="dial_8h.html#9a3d976a8e04abab71723abcb9d1bd661a2b7f2bea6bdb2bd52a0715a2073047">AST_DIAL_OPTION_MUSIC</a>, 
<a class="el" href="dial_8h.html#9a3d976a8e04abab71723abcb9d1bd66c4d02dd952923d19b25d7afe3066ca69">AST_DIAL_OPTION_MAX</a>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">List of options that are applicable either globally or per dialed channel.  <a href="dial_8h.html#9a3d976a8e04abab71723abcb9d1bd66">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#de002eeb96977d990b965b62f8699079">ast_dial_result</a> { <br>
&nbsp;&nbsp;<a class="el" href="dial_8h.html#de002eeb96977d990b965b62f8699079db56ebc9c15f3a5cbf5cfa51e196e5f5">AST_DIAL_RESULT_INVALID</a>, 
<a class="el" href="dial_8h.html#de002eeb96977d990b965b62f86990798ea17e6ce38771ebeb50a4094c5ac61e">AST_DIAL_RESULT_FAILED</a>, 
<a class="el" href="dial_8h.html#de002eeb96977d990b965b62f86990790071a35eae7e46caecdc7a837ef34731">AST_DIAL_RESULT_TRYING</a>, 
<a class="el" href="dial_8h.html#de002eeb96977d990b965b62f86990791695399003cd087abfdf684ab2dd9094">AST_DIAL_RESULT_RINGING</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="dial_8h.html#de002eeb96977d990b965b62f86990792ebd82fa436b83071d87a00b2e42039f">AST_DIAL_RESULT_PROGRESS</a>, 
<a class="el" href="dial_8h.html#de002eeb96977d990b965b62f8699079f9b5c0bb0fd3bc6adcd37b61ba970a0b">AST_DIAL_RESULT_PROCEEDING</a>, 
<a class="el" href="dial_8h.html#de002eeb96977d990b965b62f869907909afa9611e0a5adaba7557acf963fecc">AST_DIAL_RESULT_ANSWERED</a>, 
<a class="el" href="dial_8h.html#de002eeb96977d990b965b62f8699079b974f2df35f8cae6b93cf105fff1963d">AST_DIAL_RESULT_TIMEOUT</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="dial_8h.html#de002eeb96977d990b965b62f86990794fb22e3b10222a458eb3064310d30aef">AST_DIAL_RESULT_HANGUP</a>, 
<a class="el" href="dial_8h.html#de002eeb96977d990b965b62f8699079f71debccc9c74979599a24b464bb20f9">AST_DIAL_RESULT_UNANSWERED</a>
<br>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">List of return codes for dial run API calls.  <a href="dial_8h.html#de002eeb96977d990b965b62f8699079">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structast__channel.html">ast_channel</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#d97ab6f3825744d7c2a9497980f07d7e">ast_dial_answered</a> (struct <a class="el" href="structast__dial.html">ast_dial</a> *dial)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return channel that answered.  <a href="#d97ab6f3825744d7c2a9497980f07d7e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#11db38942cc3cbcb60e653b3b441c451">ast_dial_append</a> (struct <a class="el" href="structast__dial.html">ast_dial</a> *dial, const char *tech, const char *device)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Append a channel.  <a href="#11db38942cc3cbcb60e653b3b441c451"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structast__dial.html">ast_dial</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#553d140e6f5be9d4db9cb835f244fb9b">ast_dial_create</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">New dialing structure.  <a href="#553d140e6f5be9d4db9cb835f244fb9b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#544c4d0e90c3090349570084daca0abc">ast_dial_destroy</a> (struct <a class="el" href="structast__dial.html">ast_dial</a> *dial)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroys a dialing structure.  <a href="#544c4d0e90c3090349570084daca0abc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#f2ea40a02edcc496341ba7ab60b04b1e">ast_dial_hangup</a> (struct <a class="el" href="structast__dial.html">ast_dial</a> *dial)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Hangup channels.  <a href="#f2ea40a02edcc496341ba7ab60b04b1e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum <a class="el" href="dial_8h.html#de002eeb96977d990b965b62f8699079">ast_dial_result</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#0d20f8f978725d6d89c9ae62e2d8e9ac">ast_dial_join</a> (struct <a class="el" href="structast__dial.html">ast_dial</a> *dial)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cancel async thread.  <a href="#0d20f8f978725d6d89c9ae62e2d8e9ac"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#42fd4acd3eeb80ecd69668cd20aac89a">ast_dial_option_disable</a> (struct <a class="el" href="structast__dial.html">ast_dial</a> *dial, int <a class="el" href="adsistub_8c.html#0fc3cfbc27e91ea60a787de13dae3e3c">num</a>, enum <a class="el" href="dial_8h.html#9a3d976a8e04abab71723abcb9d1bd66">ast_dial_option</a> option)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disables an option per channel.  <a href="#42fd4acd3eeb80ecd69668cd20aac89a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#b3fa56db6a7d88170f4c7ab34fdbddc5">ast_dial_option_enable</a> (struct <a class="el" href="structast__dial.html">ast_dial</a> *dial, int <a class="el" href="adsistub_8c.html#0fc3cfbc27e91ea60a787de13dae3e3c">num</a>, enum <a class="el" href="dial_8h.html#9a3d976a8e04abab71723abcb9d1bd66">ast_dial_option</a> option, void *data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enables an option per channel.  <a href="#b3fa56db6a7d88170f4c7ab34fdbddc5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#14fe8a571e9fb1bb0c8c7d96081cbc67">ast_dial_option_global_disable</a> (struct <a class="el" href="structast__dial.html">ast_dial</a> *dial, enum <a class="el" href="dial_8h.html#9a3d976a8e04abab71723abcb9d1bd66">ast_dial_option</a> option)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disables an option globally.  <a href="#14fe8a571e9fb1bb0c8c7d96081cbc67"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#df978efff960f9bc1bd80cecab7fa3aa">ast_dial_option_global_enable</a> (struct <a class="el" href="structast__dial.html">ast_dial</a> *dial, enum <a class="el" href="dial_8h.html#9a3d976a8e04abab71723abcb9d1bd66">ast_dial_option</a> option, void *data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enables an option globally.  <a href="#df978efff960f9bc1bd80cecab7fa3aa"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum <a class="el" href="dial_8h.html#de002eeb96977d990b965b62f8699079">ast_dial_result</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#660a727c43f38213f33dac76315d7b34">ast_dial_run</a> (struct <a class="el" href="structast__dial.html">ast_dial</a> *dial, struct <a class="el" href="structast__channel.html">ast_channel</a> *<a class="el" href="adsistub_8c.html#26c322652770620e64ac90682eb6504c">chan</a>, int async)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Execute dialing synchronously or asynchronously.  <a href="#660a727c43f38213f33dac76315d7b34"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#9063dd7ab53ef7b75c74d004e2e80aa4">ast_dial_set_state_callback</a> (struct <a class="el" href="structast__dial.html">ast_dial</a> *dial, <a class="el" href="dial_8h.html#0307ee9bebc49c8e17653906d21fd775">ast_dial_state_callback</a> callback)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set a callback for state changes.  <a href="#9063dd7ab53ef7b75c74d004e2e80aa4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum <a class="el" href="dial_8h.html#de002eeb96977d990b965b62f8699079">ast_dial_result</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#3151fae1bb626f9f7c4c1b966f5768ca">ast_dial_state</a> (struct <a class="el" href="structast__dial.html">ast_dial</a> *dial)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return state of dial.  <a href="#3151fae1bb626f9f7c4c1b966f5768ca"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Dialing API. 
<p>

<p>
Definition in file <a class="el" href="dial_8h-source.html">dial.h</a>.<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="0307ee9bebc49c8e17653906d21fd775"></a><!-- doxytag: member="dial.h::ast_dial_state_callback" ref="0307ee9bebc49c8e17653906d21fd775" args=")(struct ast_dial *)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef void(* <a class="el" href="dial_8h.html#0307ee9bebc49c8e17653906d21fd775">ast_dial_state_callback</a>)(struct <a class="el" href="structast__dial.html">ast_dial</a> *)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="dial_8h-source.html#l00036">36</a> of file <a class="el" href="dial_8h-source.html">dial.h</a>.    </td>
  </tr>
</table>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="9a3d976a8e04abab71723abcb9d1bd66"></a><!-- doxytag: member="dial.h::ast_dial_option" ref="9a3d976a8e04abab71723abcb9d1bd66" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="dial_8h.html#9a3d976a8e04abab71723abcb9d1bd66">ast_dial_option</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
List of options that are applicable either globally or per dialed channel. 
<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="9a3d976a8e04abab71723abcb9d1bd66cadf057cc1c16d5cf67f19421ae3b658"></a><!-- doxytag: member="AST_DIAL_OPTION_RINGING" ref="9a3d976a8e04abab71723abcb9d1bd66cadf057cc1c16d5cf67f19421ae3b658" args="" -->AST_DIAL_OPTION_RINGING</em>&nbsp;</td><td>
Always indicate ringing to caller </td></tr>
<tr><td valign="top"><em><a class="anchor" name="9a3d976a8e04abab71723abcb9d1bd668402b8efa6ddfda761eb78de0469ecf1"></a><!-- doxytag: member="AST_DIAL_OPTION_ANSWER_EXEC" ref="9a3d976a8e04abab71723abcb9d1bd668402b8efa6ddfda761eb78de0469ecf1" args="" -->AST_DIAL_OPTION_ANSWER_EXEC</em>&nbsp;</td><td>
Execute application upon answer in async mode </td></tr>
<tr><td valign="top"><em><a class="anchor" name="9a3d976a8e04abab71723abcb9d1bd661a2b7f2bea6bdb2bd52a0715a2073047"></a><!-- doxytag: member="AST_DIAL_OPTION_MUSIC" ref="9a3d976a8e04abab71723abcb9d1bd661a2b7f2bea6bdb2bd52a0715a2073047" args="" -->AST_DIAL_OPTION_MUSIC</em>&nbsp;</td><td>
Play music on hold instead of ringing to the calling channel </td></tr>
<tr><td valign="top"><em><a class="anchor" name="9a3d976a8e04abab71723abcb9d1bd66c4d02dd952923d19b25d7afe3066ca69"></a><!-- doxytag: member="AST_DIAL_OPTION_MAX" ref="9a3d976a8e04abab71723abcb9d1bd66c4d02dd952923d19b25d7afe3066ca69" args="" -->AST_DIAL_OPTION_MAX</em>&nbsp;</td><td>
End terminator -- must always remain last </td></tr>
</table>
</dl>

<p>
Definition at line <a class="el" href="dial_8h-source.html#l00039">39</a> of file <a class="el" href="dial_8h-source.html">dial.h</a>.<div class="fragment"><pre class="fragment"><a name="l00039"></a>00039                      {
<a name="l00040"></a>00040    <a class="code" href="dial_8h.html#9a3d976a8e04abab71723abcb9d1bd66cadf057cc1c16d5cf67f19421ae3b658">AST_DIAL_OPTION_RINGING</a>,     <span class="comment">/*!&lt; Always indicate ringing to caller */</span>
<a name="l00041"></a>00041    <a class="code" href="dial_8h.html#9a3d976a8e04abab71723abcb9d1bd668402b8efa6ddfda761eb78de0469ecf1">AST_DIAL_OPTION_ANSWER_EXEC</a>, <span class="comment">/*!&lt; Execute application upon answer in async mode */</span>
<a name="l00042"></a>00042    <a class="code" href="dial_8h.html#9a3d976a8e04abab71723abcb9d1bd661a2b7f2bea6bdb2bd52a0715a2073047">AST_DIAL_OPTION_MUSIC</a>,       <span class="comment">/*!&lt; Play music on hold instead of ringing to the calling channel */</span>
<a name="l00043"></a>00043    <a class="code" href="dial_8h.html#9a3d976a8e04abab71723abcb9d1bd66c4d02dd952923d19b25d7afe3066ca69">AST_DIAL_OPTION_MAX</a>,         <span class="comment">/*!&lt; End terminator -- must always remain last */</span>
<a name="l00044"></a>00044 };
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="de002eeb96977d990b965b62f8699079"></a><!-- doxytag: member="dial.h::ast_dial_result" ref="de002eeb96977d990b965b62f8699079" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="dial_8h.html#de002eeb96977d990b965b62f8699079">ast_dial_result</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
List of return codes for dial run API calls. 
<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="de002eeb96977d990b965b62f8699079db56ebc9c15f3a5cbf5cfa51e196e5f5"></a><!-- doxytag: member="AST_DIAL_RESULT_INVALID" ref="de002eeb96977d990b965b62f8699079db56ebc9c15f3a5cbf5cfa51e196e5f5" args="" -->AST_DIAL_RESULT_INVALID</em>&nbsp;</td><td>
Invalid options were passed to run function </td></tr>
<tr><td valign="top"><em><a class="anchor" name="de002eeb96977d990b965b62f86990798ea17e6ce38771ebeb50a4094c5ac61e"></a><!-- doxytag: member="AST_DIAL_RESULT_FAILED" ref="de002eeb96977d990b965b62f86990798ea17e6ce38771ebeb50a4094c5ac61e" args="" -->AST_DIAL_RESULT_FAILED</em>&nbsp;</td><td>
Attempts to dial failed before reaching critical state </td></tr>
<tr><td valign="top"><em><a class="anchor" name="de002eeb96977d990b965b62f86990790071a35eae7e46caecdc7a837ef34731"></a><!-- doxytag: member="AST_DIAL_RESULT_TRYING" ref="de002eeb96977d990b965b62f86990790071a35eae7e46caecdc7a837ef34731" args="" -->AST_DIAL_RESULT_TRYING</em>&nbsp;</td><td>
Currently trying to dial </td></tr>
<tr><td valign="top"><em><a class="anchor" name="de002eeb96977d990b965b62f86990791695399003cd087abfdf684ab2dd9094"></a><!-- doxytag: member="AST_DIAL_RESULT_RINGING" ref="de002eeb96977d990b965b62f86990791695399003cd087abfdf684ab2dd9094" args="" -->AST_DIAL_RESULT_RINGING</em>&nbsp;</td><td>
Dial is presently ringing </td></tr>
<tr><td valign="top"><em><a class="anchor" name="de002eeb96977d990b965b62f86990792ebd82fa436b83071d87a00b2e42039f"></a><!-- doxytag: member="AST_DIAL_RESULT_PROGRESS" ref="de002eeb96977d990b965b62f86990792ebd82fa436b83071d87a00b2e42039f" args="" -->AST_DIAL_RESULT_PROGRESS</em>&nbsp;</td><td>
Dial is presently progressing </td></tr>
<tr><td valign="top"><em><a class="anchor" name="de002eeb96977d990b965b62f8699079f9b5c0bb0fd3bc6adcd37b61ba970a0b"></a><!-- doxytag: member="AST_DIAL_RESULT_PROCEEDING" ref="de002eeb96977d990b965b62f8699079f9b5c0bb0fd3bc6adcd37b61ba970a0b" args="" -->AST_DIAL_RESULT_PROCEEDING</em>&nbsp;</td><td>
Dial is presently proceeding </td></tr>
<tr><td valign="top"><em><a class="anchor" name="de002eeb96977d990b965b62f869907909afa9611e0a5adaba7557acf963fecc"></a><!-- doxytag: member="AST_DIAL_RESULT_ANSWERED" ref="de002eeb96977d990b965b62f869907909afa9611e0a5adaba7557acf963fecc" args="" -->AST_DIAL_RESULT_ANSWERED</em>&nbsp;</td><td>
A channel was answered </td></tr>
<tr><td valign="top"><em><a class="anchor" name="de002eeb96977d990b965b62f8699079b974f2df35f8cae6b93cf105fff1963d"></a><!-- doxytag: member="AST_DIAL_RESULT_TIMEOUT" ref="de002eeb96977d990b965b62f8699079b974f2df35f8cae6b93cf105fff1963d" args="" -->AST_DIAL_RESULT_TIMEOUT</em>&nbsp;</td><td>
Timeout was tripped, nobody answered </td></tr>
<tr><td valign="top"><em><a class="anchor" name="de002eeb96977d990b965b62f86990794fb22e3b10222a458eb3064310d30aef"></a><!-- doxytag: member="AST_DIAL_RESULT_HANGUP" ref="de002eeb96977d990b965b62f86990794fb22e3b10222a458eb3064310d30aef" args="" -->AST_DIAL_RESULT_HANGUP</em>&nbsp;</td><td>
Caller hung up </td></tr>
<tr><td valign="top"><em><a class="anchor" name="de002eeb96977d990b965b62f8699079f71debccc9c74979599a24b464bb20f9"></a><!-- doxytag: member="AST_DIAL_RESULT_UNANSWERED" ref="de002eeb96977d990b965b62f8699079f71debccc9c74979599a24b464bb20f9" args="" -->AST_DIAL_RESULT_UNANSWERED</em>&nbsp;</td><td>
Nobody answered </td></tr>
</table>
</dl>

<p>
Definition at line <a class="el" href="dial_8h-source.html#l00047">47</a> of file <a class="el" href="dial_8h-source.html">dial.h</a>.<div class="fragment"><pre class="fragment"><a name="l00047"></a>00047                      {
<a name="l00048"></a>00048    <a class="code" href="dial_8h.html#de002eeb96977d990b965b62f8699079db56ebc9c15f3a5cbf5cfa51e196e5f5">AST_DIAL_RESULT_INVALID</a>,     <span class="comment">/*!&lt; Invalid options were passed to run function */</span>
<a name="l00049"></a>00049    <a class="code" href="dial_8h.html#de002eeb96977d990b965b62f86990798ea17e6ce38771ebeb50a4094c5ac61e">AST_DIAL_RESULT_FAILED</a>,      <span class="comment">/*!&lt; Attempts to dial failed before reaching critical state */</span>
<a name="l00050"></a>00050    <a class="code" href="dial_8h.html#de002eeb96977d990b965b62f86990790071a35eae7e46caecdc7a837ef34731">AST_DIAL_RESULT_TRYING</a>,      <span class="comment">/*!&lt; Currently trying to dial */</span>
<a name="l00051"></a>00051    <a class="code" href="dial_8h.html#de002eeb96977d990b965b62f86990791695399003cd087abfdf684ab2dd9094">AST_DIAL_RESULT_RINGING</a>,     <span class="comment">/*!&lt; Dial is presently ringing */</span>
<a name="l00052"></a>00052    <a class="code" href="dial_8h.html#de002eeb96977d990b965b62f86990792ebd82fa436b83071d87a00b2e42039f">AST_DIAL_RESULT_PROGRESS</a>,    <span class="comment">/*!&lt; Dial is presently progressing */</span>
<a name="l00053"></a>00053    <a class="code" href="dial_8h.html#de002eeb96977d990b965b62f8699079f9b5c0bb0fd3bc6adcd37b61ba970a0b">AST_DIAL_RESULT_PROCEEDING</a>,  <span class="comment">/*!&lt; Dial is presently proceeding */</span>
<a name="l00054"></a>00054    <a class="code" href="dial_8h.html#de002eeb96977d990b965b62f869907909afa9611e0a5adaba7557acf963fecc">AST_DIAL_RESULT_ANSWERED</a>,    <span class="comment">/*!&lt; A channel was answered */</span>
<a name="l00055"></a>00055    <a class="code" href="dial_8h.html#de002eeb96977d990b965b62f8699079b974f2df35f8cae6b93cf105fff1963d">AST_DIAL_RESULT_TIMEOUT</a>,     <span class="comment">/*!&lt; Timeout was tripped, nobody answered */</span>
<a name="l00056"></a>00056    <a class="code" href="dial_8h.html#de002eeb96977d990b965b62f86990794fb22e3b10222a458eb3064310d30aef">AST_DIAL_RESULT_HANGUP</a>,      <span class="comment">/*!&lt; Caller hung up */</span>
<a name="l00057"></a>00057    <a class="code" href="dial_8h.html#de002eeb96977d990b965b62f8699079f71debccc9c74979599a24b464bb20f9">AST_DIAL_RESULT_UNANSWERED</a>,  <span class="comment">/*!&lt; Nobody answered */</span>
<a name="l00058"></a>00058 };
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="d97ab6f3825744d7c2a9497980f07d7e"></a><!-- doxytag: member="dial.h::ast_dial_answered" ref="d97ab6f3825744d7c2a9497980f07d7e" args="(struct ast_dial *dial)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">struct <a class="el" href="structast__channel.html">ast_channel</a>* ast_dial_answered           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structast__dial.html">ast_dial</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dial</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return channel that answered. 
<p>
<dl compact><dt><b>Note:</b></dt><dd>Returns the Asterisk channel that answered </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dial</em>&nbsp;</td><td>Dialing structure </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dial_8c-source.html#l00613">613</a> of file <a class="el" href="dial_8c-source.html">dial.c</a>.
<p>
References <a class="el" href="dial_8h.html#de002eeb96977d990b965b62f869907909afa9611e0a5adaba7557acf963fecc">AST_DIAL_RESULT_ANSWERED</a>, <a class="el" href="linkedlists_8h-source.html#l00385">AST_LIST_FIRST</a>, and <a class="el" href="dial_8c-source.html#l00051">ast_dial::state</a>.
<p>
Referenced by <a class="el" href="app__meetme_8c-source.html#l04039">dial_trunk()</a>, and <a class="el" href="app__meetme_8c-source.html#l03449">sla_handle_dial_state_event()</a>.<div class="fragment"><pre class="fragment"><a name="l00614"></a>00614 {
<a name="l00615"></a>00615    <span class="keywordflow">if</span> (!dial)
<a name="l00616"></a>00616       <span class="keywordflow">return</span> NULL;
<a name="l00617"></a>00617 
<a name="l00618"></a>00618    <span class="keywordflow">return</span> ((dial-&gt;<a class="code" href="structast__dial.html#9ed39e2ea931586b6a985a6942ef573e">state</a> == <a class="code" href="dial_8h.html#de002eeb96977d990b965b62f869907909afa9611e0a5adaba7557acf963fecc">AST_DIAL_RESULT_ANSWERED</a>) ? <a class="code" href="linkedlists_8h.html#e4deb7f32ef480cbc3b2e9b7e4ceff6c">AST_LIST_FIRST</a>(&amp;dial-&gt;channels)-&gt;owner : NULL);
<a name="l00619"></a>00619 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="11db38942cc3cbcb60e653b3b441c451"></a><!-- doxytag: member="dial.h::ast_dial_append" ref="11db38942cc3cbcb60e653b3b441c451" args="(struct ast_dial *dial, const char *tech, const char *device)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int ast_dial_append           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structast__dial.html">ast_dial</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>dial</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>tech</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>device</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Append a channel. 
<p>
<dl compact><dt><b>Note:</b></dt><dd>Appends a channel to a dialing structure </dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns channel reference number on success, -1 on failure </dd></dl>

<p>
Definition at line <a class="el" href="dial_8c-source.html#l00210">210</a> of file <a class="el" href="dial_8c-source.html">dial.c</a>.
<p>
References <a class="el" href="utils_8h.html#27f1d0ddbd22dac569b18963c5cb7e19">ast_calloc</a>, <a class="el" href="linkedlists_8h-source.html#l00670">AST_LIST_INSERT_TAIL</a>, and <a class="el" href="dial_8c-source.html#l00050">ast_dial::num</a>.
<p>
Referenced by <a class="el" href="app__meetme_8c-source.html#l04039">dial_trunk()</a>, <a class="el" href="app__page_8c-source.html#l00085">page_exec()</a>, and <a class="el" href="app__meetme_8c-source.html#l03562">sla_ring_station()</a>.<div class="fragment"><pre class="fragment"><a name="l00211"></a>00211 {
<a name="l00212"></a>00212    <span class="keyword">struct </span><a class="code" href="structast__dial__channel.html">ast_dial_channel</a> *channel = NULL;
<a name="l00213"></a>00213 
<a name="l00214"></a>00214    <span class="comment">/* Make sure we have required arguments */</span>
<a name="l00215"></a>00215    <span class="keywordflow">if</span> (!dial || !<a class="code" href="structast__dial__channel.html#d9f9133fb120cd6096870bc2b496805b">tech</a> || !<a class="code" href="structast__dial__channel.html#913f9c49dcb544e2087cee284f4a00b7">device</a>)
<a name="l00216"></a>00216       <span class="keywordflow">return</span> -1;
<a name="l00217"></a>00217 
<a name="l00218"></a>00218    <span class="comment">/* Allocate new memory for dialed channel structure */</span>
<a name="l00219"></a>00219    <span class="keywordflow">if</span> (!(channel = <a class="code" href="utils_8h.html#27f1d0ddbd22dac569b18963c5cb7e19">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*channel))))
<a name="l00220"></a>00220       <span class="keywordflow">return</span> -1;
<a name="l00221"></a>00221 
<a name="l00222"></a>00222    <span class="comment">/* Record technology and device for when we actually dial */</span>
<a name="l00223"></a>00223    channel-&gt;tech = <a class="code" href="structast__dial__channel.html#d9f9133fb120cd6096870bc2b496805b">tech</a>;
<a name="l00224"></a>00224    channel-&gt;device = <a class="code" href="structast__dial__channel.html#913f9c49dcb544e2087cee284f4a00b7">device</a>;
<a name="l00225"></a>00225 
<a name="l00226"></a>00226    <span class="comment">/* Grab reference number from dial structure */</span>
<a name="l00227"></a>00227    channel-&gt;num = ast_atomic_fetchadd_int(&amp;dial-&gt;<a class="code" href="structast__dial.html#0fc3cfbc27e91ea60a787de13dae3e3c">num</a>, +1);
<a name="l00228"></a>00228 
<a name="l00229"></a>00229    <span class="comment">/* Insert into channels list */</span>
<a name="l00230"></a>00230    <a class="code" href="linkedlists_8h.html#8de6ce8a3b9d59e7e7fddee6b62b32a7">AST_LIST_INSERT_TAIL</a>(&amp;dial-&gt;channels, channel, list);
<a name="l00231"></a>00231 
<a name="l00232"></a>00232    <span class="keywordflow">return</span> channel-&gt;num;
<a name="l00233"></a>00233 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="553d140e6f5be9d4db9cb835f244fb9b"></a><!-- doxytag: member="dial.h::ast_dial_create" ref="553d140e6f5be9d4db9cb835f244fb9b" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">struct <a class="el" href="structast__dial.html">ast_dial</a>* ast_dial_create           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
New dialing structure. 
<p>
<dl compact><dt><b>Note:</b></dt><dd>Create a dialing structure </dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns a calloc'd <a class="el" href="structast__dial.html">ast_dial</a> structure, NULL on failure </dd></dl>

<p>
Definition at line <a class="el" href="dial_8c-source.html#l00189">189</a> of file <a class="el" href="dial_8c-source.html">dial.c</a>.
<p>
References <a class="el" href="utils_8h.html#27f1d0ddbd22dac569b18963c5cb7e19">ast_calloc</a>, <a class="el" href="linkedlists_8h-source.html#l00620">AST_LIST_HEAD_INIT_NOLOCK</a>, and <a class="el" href="lock_8h-source.html#l00074">AST_PTHREADT_NULL</a>.
<p>
Referenced by <a class="el" href="app__meetme_8c-source.html#l04039">dial_trunk()</a>, <a class="el" href="app__page_8c-source.html#l00085">page_exec()</a>, and <a class="el" href="app__meetme_8c-source.html#l03562">sla_ring_station()</a>.<div class="fragment"><pre class="fragment"><a name="l00190"></a>00190 {
<a name="l00191"></a>00191    <span class="keyword">struct </span><a class="code" href="structast__dial.html">ast_dial</a> *dial = NULL;
<a name="l00192"></a>00192 
<a name="l00193"></a>00193    <span class="comment">/* Allocate new memory for structure */</span>
<a name="l00194"></a>00194    <span class="keywordflow">if</span> (!(dial = <a class="code" href="utils_8h.html#27f1d0ddbd22dac569b18963c5cb7e19">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*dial))))
<a name="l00195"></a>00195       <span class="keywordflow">return</span> NULL;
<a name="l00196"></a>00196 
<a name="l00197"></a>00197    <span class="comment">/* Initialize list of channels */</span>
<a name="l00198"></a>00198    <a class="code" href="linkedlists_8h.html#0ae37ea56ca862f6504390fd49b9839f">AST_LIST_HEAD_INIT_NOLOCK</a>(&amp;dial-&gt;channels);
<a name="l00199"></a>00199 
<a name="l00200"></a>00200    <span class="comment">/* Initialize thread to NULL */</span>
<a name="l00201"></a>00201    dial-&gt;thread = <a class="code" href="lock_8h.html#84e4b34008de83ea9d1fa44057758022">AST_PTHREADT_NULL</a>;
<a name="l00202"></a>00202 
<a name="l00203"></a>00203    <span class="keywordflow">return</span> dial;
<a name="l00204"></a>00204 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="544c4d0e90c3090349570084daca0abc"></a><!-- doxytag: member="dial.h::ast_dial_destroy" ref="544c4d0e90c3090349570084daca0abc" args="(struct ast_dial *dial)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int ast_dial_destroy           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structast__dial.html">ast_dial</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dial</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destroys a dialing structure. 
<p>
<dl compact><dt><b>Note:</b></dt><dd>Destroys (free's) the given <a class="el" href="structast__dial.html">ast_dial</a> structure </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dial</em>&nbsp;</td><td>Dialing structure to free </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns 0 on success, -1 on failure </dd></dl>

<p>
Definition at line <a class="el" href="dial_8c-source.html#l00686">686</a> of file <a class="el" href="dial_8c-source.html">dial.c</a>.
<p>
References <a class="el" href="dial_8h.html#9a3d976a8e04abab71723abcb9d1bd66c4d02dd952923d19b25d7afe3066ca69">AST_DIAL_OPTION_MAX</a>, <a class="el" href="channel_8c-source.html#l01598">ast_hangup()</a>, <a class="el" href="linkedlists_8h-source.html#l00453">AST_LIST_TRAVERSE</a>, <a class="el" href="dial_8c-source.html#l00160">ast_option_types::disable</a>, <a class="el" href="astmm_8h-source.html#l00069">free</a>, <a class="el" href="dial_8c.html#9efeac49a2220d81f75f22eb2ef33251">option_types</a>, <a class="el" href="dial_8c-source.html#l00052">ast_dial::options</a>, <a class="el" href="dial_8c-source.html#l00063">ast_dial_channel::options</a>, and <a class="el" href="dial_8c-source.html#l00065">ast_dial_channel::owner</a>.
<p>
Referenced by <a class="el" href="app__meetme_8c-source.html#l04039">dial_trunk()</a>, <a class="el" href="app__page_8c-source.html#l00085">page_exec()</a>, <a class="el" href="app__meetme_8c-source.html#l03291">run_station()</a>, <a class="el" href="app__meetme_8c-source.html#l03729">sla_hangup_stations()</a>, <a class="el" href="app__meetme_8c-source.html#l03562">sla_ring_station()</a>, and <a class="el" href="app__meetme_8c-source.html#l03351">sla_stop_ringing_station()</a>.<div class="fragment"><pre class="fragment"><a name="l00687"></a>00687 {
<a name="l00688"></a>00688    <span class="keywordtype">int</span> i = 0;
<a name="l00689"></a>00689    <span class="keyword">struct </span><a class="code" href="structast__dial__channel.html">ast_dial_channel</a> *channel = NULL;
<a name="l00690"></a>00690 
<a name="l00691"></a>00691    <span class="keywordflow">if</span> (!dial)
<a name="l00692"></a>00692       <span class="keywordflow">return</span> -1;
<a name="l00693"></a>00693    
<a name="l00694"></a>00694    <span class="comment">/* Hangup and deallocate all the dialed channels */</span>
<a name="l00695"></a>00695    <a class="code" href="linkedlists_8h.html#e5bbda4b7ef1cd9462bb86ba25c5d7eb">AST_LIST_TRAVERSE</a>(&amp;dial-&gt;channels, channel, list) {
<a name="l00696"></a>00696       <span class="comment">/* Disable any enabled options */</span>
<a name="l00697"></a>00697       <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="dial_8h.html#9a3d976a8e04abab71723abcb9d1bd66c4d02dd952923d19b25d7afe3066ca69">AST_DIAL_OPTION_MAX</a>; i++) {
<a name="l00698"></a>00698          <span class="keywordflow">if</span> (!channel-&gt;<a class="code" href="structast__dial__channel.html#78f7d76bc6c9f8fa8f16ff21578d966c">options</a>[i])
<a name="l00699"></a>00699             <span class="keywordflow">continue</span>;
<a name="l00700"></a>00700          <span class="keywordflow">if</span> (<a class="code" href="dial_8c.html#9efeac49a2220d81f75f22eb2ef33251">option_types</a>[i].disable)
<a name="l00701"></a>00701             <a class="code" href="dial_8c.html#9efeac49a2220d81f75f22eb2ef33251">option_types</a>[i].<a class="code" href="structast__option__types.html#0aaa87422396fdd678498793b6d5250e">disable</a>(channel-&gt;<a class="code" href="structast__dial__channel.html#78f7d76bc6c9f8fa8f16ff21578d966c">options</a>[i]);
<a name="l00702"></a>00702          channel-&gt;<a class="code" href="structast__dial__channel.html#78f7d76bc6c9f8fa8f16ff21578d966c">options</a>[i] = NULL;
<a name="l00703"></a>00703       }
<a name="l00704"></a>00704       <span class="comment">/* Hang up channel if need be */</span>
<a name="l00705"></a>00705       <span class="keywordflow">if</span> (channel-&gt;<a class="code" href="structast__dial__channel.html#72122ce96bfec66e2396d2e25225d70a">owner</a>) {
<a name="l00706"></a>00706          <a class="code" href="channel_8c.html#ff55e854df5692f9b3b8dc64c95a5619">ast_hangup</a>(channel-&gt;<a class="code" href="structast__dial__channel.html#72122ce96bfec66e2396d2e25225d70a">owner</a>);
<a name="l00707"></a>00707          channel-&gt;<a class="code" href="structast__dial__channel.html#72122ce96bfec66e2396d2e25225d70a">owner</a> = NULL;
<a name="l00708"></a>00708       }
<a name="l00709"></a>00709       <span class="comment">/* Free structure */</span>
<a name="l00710"></a>00710       <a class="code" href="astmm_8h.html#eb051e552619427a26721b1a925a56e8">free</a>(channel);
<a name="l00711"></a>00711    }
<a name="l00712"></a>00712        
<a name="l00713"></a>00713    <span class="comment">/* Disable any enabled options globally */</span>
<a name="l00714"></a>00714    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="dial_8h.html#9a3d976a8e04abab71723abcb9d1bd66c4d02dd952923d19b25d7afe3066ca69">AST_DIAL_OPTION_MAX</a>; i++) {
<a name="l00715"></a>00715       <span class="keywordflow">if</span> (!dial-&gt;<a class="code" href="structast__dial.html#78f7d76bc6c9f8fa8f16ff21578d966c">options</a>[i])
<a name="l00716"></a>00716          <span class="keywordflow">continue</span>;
<a name="l00717"></a>00717       <span class="keywordflow">if</span> (<a class="code" href="dial_8c.html#9efeac49a2220d81f75f22eb2ef33251">option_types</a>[i].disable)
<a name="l00718"></a>00718          <a class="code" href="dial_8c.html#9efeac49a2220d81f75f22eb2ef33251">option_types</a>[i].<a class="code" href="structast__option__types.html#0aaa87422396fdd678498793b6d5250e">disable</a>(dial-&gt;<a class="code" href="structast__dial.html#78f7d76bc6c9f8fa8f16ff21578d966c">options</a>[i]);
<a name="l00719"></a>00719       dial-&gt;<a class="code" href="structast__dial.html#78f7d76bc6c9f8fa8f16ff21578d966c">options</a>[i] = NULL;
<a name="l00720"></a>00720    }
<a name="l00721"></a>00721 
<a name="l00722"></a>00722    <span class="comment">/* Free structure */</span>
<a name="l00723"></a>00723    <a class="code" href="astmm_8h.html#eb051e552619427a26721b1a925a56e8">free</a>(dial);
<a name="l00724"></a>00724 
<a name="l00725"></a>00725    <span class="keywordflow">return</span> 0;
<a name="l00726"></a>00726 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="f2ea40a02edcc496341ba7ab60b04b1e"></a><!-- doxytag: member="dial.h::ast_dial_hangup" ref="f2ea40a02edcc496341ba7ab60b04b1e" args="(struct ast_dial *dial)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ast_dial_hangup           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structast__dial.html">ast_dial</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dial</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Hangup channels. 
<p>
<dl compact><dt><b>Note:</b></dt><dd>Hangup all active channels </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dial</em>&nbsp;</td><td>Dialing structure </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dial_8c-source.html#l00664">664</a> of file <a class="el" href="dial_8c-source.html">dial.c</a>.
<p>
References <a class="el" href="channel_8c-source.html#l01598">ast_hangup()</a>, <a class="el" href="linkedlists_8h-source.html#l00453">AST_LIST_TRAVERSE</a>, and <a class="el" href="dial_8c-source.html#l00065">ast_dial_channel::owner</a>.
<p>
Referenced by <a class="el" href="dial_8c-source.html#l00573">ast_dial_run()</a>, and <a class="el" href="app__page_8c-source.html#l00085">page_exec()</a>.<div class="fragment"><pre class="fragment"><a name="l00665"></a>00665 {
<a name="l00666"></a>00666    <span class="keyword">struct </span><a class="code" href="structast__dial__channel.html">ast_dial_channel</a> *channel = NULL;
<a name="l00667"></a>00667 
<a name="l00668"></a>00668    <span class="keywordflow">if</span> (!dial)
<a name="l00669"></a>00669       <span class="keywordflow">return</span>;
<a name="l00670"></a>00670    
<a name="l00671"></a>00671    <a class="code" href="linkedlists_8h.html#e5bbda4b7ef1cd9462bb86ba25c5d7eb">AST_LIST_TRAVERSE</a>(&amp;dial-&gt;channels, channel, list) {
<a name="l00672"></a>00672       <span class="keywordflow">if</span> (channel-&gt;<a class="code" href="structast__dial__channel.html#72122ce96bfec66e2396d2e25225d70a">owner</a>) {
<a name="l00673"></a>00673          <a class="code" href="channel_8c.html#ff55e854df5692f9b3b8dc64c95a5619">ast_hangup</a>(channel-&gt;<a class="code" href="structast__dial__channel.html#72122ce96bfec66e2396d2e25225d70a">owner</a>);
<a name="l00674"></a>00674          channel-&gt;<a class="code" href="structast__dial__channel.html#72122ce96bfec66e2396d2e25225d70a">owner</a> = NULL;
<a name="l00675"></a>00675       }
<a name="l00676"></a>00676    }
<a name="l00677"></a>00677 
<a name="l00678"></a>00678    <span class="keywordflow">return</span>;
<a name="l00679"></a>00679 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="0d20f8f978725d6d89c9ae62e2d8e9ac"></a><!-- doxytag: member="dial.h::ast_dial_join" ref="0d20f8f978725d6d89c9ae62e2d8e9ac" args="(struct ast_dial *dial)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="dial_8h.html#de002eeb96977d990b965b62f8699079">ast_dial_result</a> ast_dial_join           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structast__dial.html">ast_dial</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dial</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Cancel async thread. 
<p>
<dl compact><dt><b>Note:</b></dt><dd>Cancel a running async thread </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dial</em>&nbsp;</td><td>Dialing structure </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dial_8c-source.html#l00634">634</a> of file <a class="el" href="dial_8c-source.html">dial.c</a>.
<p>
References <a class="el" href="dial_8h.html#de002eeb96977d990b965b62f86990798ea17e6ce38771ebeb50a4094c5ac61e">AST_DIAL_RESULT_FAILED</a>, <a class="el" href="lock_8h-source.html#l00074">AST_PTHREADT_NULL</a>, <a class="el" href="lock_8h-source.html#l00075">AST_PTHREADT_STOP</a>, and <a class="el" href="dial_8c-source.html#l00051">ast_dial::state</a>.
<p>
Referenced by <a class="el" href="app__meetme_8c-source.html#l04039">dial_trunk()</a>, <a class="el" href="app__page_8c-source.html#l00085">page_exec()</a>, <a class="el" href="app__meetme_8c-source.html#l03291">run_station()</a>, <a class="el" href="app__meetme_8c-source.html#l03729">sla_hangup_stations()</a>, <a class="el" href="app__meetme_8c-source.html#l03562">sla_ring_station()</a>, and <a class="el" href="app__meetme_8c-source.html#l03351">sla_stop_ringing_station()</a>.<div class="fragment"><pre class="fragment"><a name="l00635"></a>00635 {
<a name="l00636"></a>00636    pthread_t <a class="code" href="app__meetme_8c.html#dc127f5d2483352fd20eaddb38feb6d2">thread</a>;
<a name="l00637"></a>00637 
<a name="l00638"></a>00638    <span class="comment">/* If the dial structure is not running in async, return failed */</span>
<a name="l00639"></a>00639    <span class="keywordflow">if</span> (dial-&gt;thread == <a class="code" href="lock_8h.html#84e4b34008de83ea9d1fa44057758022">AST_PTHREADT_NULL</a>)
<a name="l00640"></a>00640       <span class="keywordflow">return</span> <a class="code" href="dial_8h.html#de002eeb96977d990b965b62f86990798ea17e6ce38771ebeb50a4094c5ac61e">AST_DIAL_RESULT_FAILED</a>;
<a name="l00641"></a>00641 
<a name="l00642"></a>00642    <span class="comment">/* Record thread */</span>
<a name="l00643"></a>00643    thread = dial-&gt;thread;
<a name="l00644"></a>00644 
<a name="l00645"></a>00645    <span class="comment">/* Stop the thread */</span>
<a name="l00646"></a>00646    dial-&gt;thread = <a class="code" href="lock_8h.html#8dcec06d78545e75eee3aa4723faeb1e">AST_PTHREADT_STOP</a>;
<a name="l00647"></a>00647 
<a name="l00648"></a>00648    <span class="comment">/* Now we signal it with SIGURG so it will break out of it's waitfor */</span>
<a name="l00649"></a>00649    pthread_kill(thread, SIGURG);
<a name="l00650"></a>00650 
<a name="l00651"></a>00651    <span class="comment">/* Finally wait for the thread to exit */</span>
<a name="l00652"></a>00652    pthread_join(thread, NULL);
<a name="l00653"></a>00653 
<a name="l00654"></a>00654    <span class="comment">/* Yay thread is all gone */</span>
<a name="l00655"></a>00655    dial-&gt;thread = <a class="code" href="lock_8h.html#84e4b34008de83ea9d1fa44057758022">AST_PTHREADT_NULL</a>;
<a name="l00656"></a>00656 
<a name="l00657"></a>00657    <span class="keywordflow">return</span> dial-&gt;<a class="code" href="structast__dial.html#9ed39e2ea931586b6a985a6942ef573e">state</a>;
<a name="l00658"></a>00658 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="42fd4acd3eeb80ecd69668cd20aac89a"></a><!-- doxytag: member="dial.h::ast_dial_option_disable" ref="42fd4acd3eeb80ecd69668cd20aac89a" args="(struct ast_dial *dial, int num, enum ast_dial_option option)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int ast_dial_option_disable           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structast__dial.html">ast_dial</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>dial</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>num</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>enum <a class="el" href="dial_8h.html#9a3d976a8e04abab71723abcb9d1bd66">ast_dial_option</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>option</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Disables an option per channel. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dial</em>&nbsp;</td><td>Dial structure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num</em>&nbsp;</td><td>Channel number to disable option on </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>option</em>&nbsp;</td><td>Option to disable </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns 0 on success, -1 on failure </dd></dl>

<p>
Definition at line <a class="el" href="dial_8c-source.html#l00818">818</a> of file <a class="el" href="dial_8c-source.html">dial.c</a>.
<p>
References <a class="el" href="linkedlists_8h-source.html#l00413">AST_LIST_EMPTY</a>, <a class="el" href="linkedlists_8h-source.html#l00393">AST_LIST_LAST</a>, <a class="el" href="linkedlists_8h-source.html#l00453">AST_LIST_TRAVERSE</a>, <a class="el" href="dial_8c-source.html#l00160">ast_option_types::disable</a>, <a class="el" href="dial_8c-source.html#l00060">ast_dial_channel::num</a>, <a class="el" href="dial_8c.html#9efeac49a2220d81f75f22eb2ef33251">option_types</a>, and <a class="el" href="dial_8c-source.html#l00063">ast_dial_channel::options</a>.<div class="fragment"><pre class="fragment"><a name="l00819"></a>00819 {
<a name="l00820"></a>00820    <span class="keyword">struct </span><a class="code" href="structast__dial__channel.html">ast_dial_channel</a> *channel = NULL;
<a name="l00821"></a>00821 
<a name="l00822"></a>00822    <span class="comment">/* Ensure we have required arguments */</span>
<a name="l00823"></a>00823    <span class="keywordflow">if</span> (!dial || <a class="code" href="linkedlists_8h.html#0a9573eff61452c49019359bfc0df565">AST_LIST_EMPTY</a>(&amp;dial-&gt;channels))
<a name="l00824"></a>00824       <span class="keywordflow">return</span> -1;
<a name="l00825"></a>00825 
<a name="l00826"></a>00826    <span class="comment">/* Look for channel, we can sort of cheat and predict things - the last channel in the list will probably be what they want */</span>
<a name="l00827"></a>00827    <span class="keywordflow">if</span> (<a class="code" href="linkedlists_8h.html#59bb7a6b664d9bb9678434fc0e6eefb7">AST_LIST_LAST</a>(&amp;dial-&gt;channels)-&gt;num != <a class="code" href="adsistub_8c.html#0fc3cfbc27e91ea60a787de13dae3e3c">num</a>) {
<a name="l00828"></a>00828       <a class="code" href="linkedlists_8h.html#e5bbda4b7ef1cd9462bb86ba25c5d7eb">AST_LIST_TRAVERSE</a>(&amp;dial-&gt;channels, channel, list) {
<a name="l00829"></a>00829          <span class="keywordflow">if</span> (channel-&gt;<a class="code" href="structast__dial__channel.html#0fc3cfbc27e91ea60a787de13dae3e3c">num</a> == <a class="code" href="adsistub_8c.html#0fc3cfbc27e91ea60a787de13dae3e3c">num</a>)
<a name="l00830"></a>00830             <span class="keywordflow">break</span>;
<a name="l00831"></a>00831       }
<a name="l00832"></a>00832    } <span class="keywordflow">else</span> {
<a name="l00833"></a>00833       channel = <a class="code" href="linkedlists_8h.html#59bb7a6b664d9bb9678434fc0e6eefb7">AST_LIST_LAST</a>(&amp;dial-&gt;channels);
<a name="l00834"></a>00834    }
<a name="l00835"></a>00835 
<a name="l00836"></a>00836    <span class="comment">/* If none found, return failure */</span>
<a name="l00837"></a>00837    <span class="keywordflow">if</span> (!channel)
<a name="l00838"></a>00838       <span class="keywordflow">return</span> -1;
<a name="l00839"></a>00839 
<a name="l00840"></a>00840    <span class="comment">/* If the option is not enabled, return failure */</span>
<a name="l00841"></a>00841    <span class="keywordflow">if</span> (!channel-&gt;<a class="code" href="structast__dial__channel.html#78f7d76bc6c9f8fa8f16ff21578d966c">options</a>[option])
<a name="l00842"></a>00842       <span class="keywordflow">return</span> -1;
<a name="l00843"></a>00843 
<a name="l00844"></a>00844    <span class="comment">/* Execute callback of option to disable it if it exists */</span>
<a name="l00845"></a>00845    <span class="keywordflow">if</span> (<a class="code" href="dial_8c.html#9efeac49a2220d81f75f22eb2ef33251">option_types</a>[option].disable)
<a name="l00846"></a>00846       <a class="code" href="dial_8c.html#9efeac49a2220d81f75f22eb2ef33251">option_types</a>[option].<a class="code" href="structast__option__types.html#0aaa87422396fdd678498793b6d5250e">disable</a>(channel-&gt;<a class="code" href="structast__dial__channel.html#78f7d76bc6c9f8fa8f16ff21578d966c">options</a>[option]);
<a name="l00847"></a>00847 
<a name="l00848"></a>00848    <span class="comment">/* Finally disable the option on the structure */</span>
<a name="l00849"></a>00849    channel-&gt;<a class="code" href="structast__dial__channel.html#78f7d76bc6c9f8fa8f16ff21578d966c">options</a>[option] = NULL;
<a name="l00850"></a>00850 
<a name="l00851"></a>00851    <span class="keywordflow">return</span> 0;
<a name="l00852"></a>00852 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b3fa56db6a7d88170f4c7ab34fdbddc5"></a><!-- doxytag: member="dial.h::ast_dial_option_enable" ref="b3fa56db6a7d88170f4c7ab34fdbddc5" args="(struct ast_dial *dial, int num, enum ast_dial_option option, void *data)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int ast_dial_option_enable           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structast__dial.html">ast_dial</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>dial</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>num</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>enum <a class="el" href="dial_8h.html#9a3d976a8e04abab71723abcb9d1bd66">ast_dial_option</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>option</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>data</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Enables an option per channel. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dial</em>&nbsp;</td><td>Dial structure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num</em>&nbsp;</td><td>Channel number to enable option on </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>option</em>&nbsp;</td><td>Option to enable </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Data to pass to this option (not always needed) </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns 0 on success, -1 on failure </dd></dl>

<p>
Definition at line <a class="el" href="dial_8c-source.html#l00756">756</a> of file <a class="el" href="dial_8c-source.html">dial.c</a>.
<p>
References <a class="el" href="linkedlists_8h-source.html#l00413">AST_LIST_EMPTY</a>, <a class="el" href="linkedlists_8h-source.html#l00393">AST_LIST_LAST</a>, <a class="el" href="linkedlists_8h-source.html#l00453">AST_LIST_TRAVERSE</a>, <a class="el" href="dial_8c-source.html#l00159">ast_option_types::enable</a>, <a class="el" href="dial_8c-source.html#l00060">ast_dial_channel::num</a>, <a class="el" href="dial_8c.html#9efeac49a2220d81f75f22eb2ef33251">option_types</a>, and <a class="el" href="dial_8c-source.html#l00063">ast_dial_channel::options</a>.<div class="fragment"><pre class="fragment"><a name="l00757"></a>00757 {
<a name="l00758"></a>00758    <span class="keyword">struct </span><a class="code" href="structast__dial__channel.html">ast_dial_channel</a> *channel = NULL;
<a name="l00759"></a>00759 
<a name="l00760"></a>00760    <span class="comment">/* Ensure we have required arguments */</span>
<a name="l00761"></a>00761    <span class="keywordflow">if</span> (!dial || <a class="code" href="linkedlists_8h.html#0a9573eff61452c49019359bfc0df565">AST_LIST_EMPTY</a>(&amp;dial-&gt;channels))
<a name="l00762"></a>00762       <span class="keywordflow">return</span> -1;
<a name="l00763"></a>00763    
<a name="l00764"></a>00764    <span class="comment">/* Look for channel, we can sort of cheat and predict things - the last channel in the list will probably be what they want */</span>
<a name="l00765"></a>00765    <span class="keywordflow">if</span> (<a class="code" href="linkedlists_8h.html#59bb7a6b664d9bb9678434fc0e6eefb7">AST_LIST_LAST</a>(&amp;dial-&gt;channels)-&gt;num != <a class="code" href="adsistub_8c.html#0fc3cfbc27e91ea60a787de13dae3e3c">num</a>) {
<a name="l00766"></a>00766       <a class="code" href="linkedlists_8h.html#e5bbda4b7ef1cd9462bb86ba25c5d7eb">AST_LIST_TRAVERSE</a>(&amp;dial-&gt;channels, channel, list) {
<a name="l00767"></a>00767          <span class="keywordflow">if</span> (channel-&gt;<a class="code" href="structast__dial__channel.html#0fc3cfbc27e91ea60a787de13dae3e3c">num</a> == <a class="code" href="adsistub_8c.html#0fc3cfbc27e91ea60a787de13dae3e3c">num</a>)
<a name="l00768"></a>00768             <span class="keywordflow">break</span>;
<a name="l00769"></a>00769       }
<a name="l00770"></a>00770    } <span class="keywordflow">else</span> {
<a name="l00771"></a>00771       channel = <a class="code" href="linkedlists_8h.html#59bb7a6b664d9bb9678434fc0e6eefb7">AST_LIST_LAST</a>(&amp;dial-&gt;channels);
<a name="l00772"></a>00772    }
<a name="l00773"></a>00773 
<a name="l00774"></a>00774    <span class="comment">/* If none found, return failure */</span>
<a name="l00775"></a>00775    <span class="keywordflow">if</span> (!channel)
<a name="l00776"></a>00776       <span class="keywordflow">return</span> -1;
<a name="l00777"></a>00777 
<a name="l00778"></a>00778    <span class="comment">/* If the option is already enabled, return failure */</span>
<a name="l00779"></a>00779    <span class="keywordflow">if</span> (channel-&gt;<a class="code" href="structast__dial__channel.html#78f7d76bc6c9f8fa8f16ff21578d966c">options</a>[option])
<a name="l00780"></a>00780       <span class="keywordflow">return</span> -1;
<a name="l00781"></a>00781 
<a name="l00782"></a>00782         <span class="comment">/* Execute enable callback if it exists, if not simply make sure the value is set */</span>
<a name="l00783"></a>00783    <span class="keywordflow">if</span> (<a class="code" href="dial_8c.html#9efeac49a2220d81f75f22eb2ef33251">option_types</a>[option].enable)
<a name="l00784"></a>00784       channel-&gt;<a class="code" href="structast__dial__channel.html#78f7d76bc6c9f8fa8f16ff21578d966c">options</a>[option] = <a class="code" href="dial_8c.html#9efeac49a2220d81f75f22eb2ef33251">option_types</a>[option].<a class="code" href="structast__option__types.html#208f156d4a803025c284bb595a7576b4">enable</a>(data);
<a name="l00785"></a>00785    <span class="keywordflow">else</span>
<a name="l00786"></a>00786       channel-&gt;<a class="code" href="structast__dial__channel.html#78f7d76bc6c9f8fa8f16ff21578d966c">options</a>[option] = (<span class="keywordtype">void</span>*)1;
<a name="l00787"></a>00787 
<a name="l00788"></a>00788    <span class="keywordflow">return</span> 0;
<a name="l00789"></a>00789 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="14fe8a571e9fb1bb0c8c7d96081cbc67"></a><!-- doxytag: member="dial.h::ast_dial_option_global_disable" ref="14fe8a571e9fb1bb0c8c7d96081cbc67" args="(struct ast_dial *dial, enum ast_dial_option option)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int ast_dial_option_global_disable           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structast__dial.html">ast_dial</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>dial</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>enum <a class="el" href="dial_8h.html#9a3d976a8e04abab71723abcb9d1bd66">ast_dial_option</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>option</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Disables an option globally. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dial</em>&nbsp;</td><td>Dial structure to disable option on </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>option</em>&nbsp;</td><td>Option to disable </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns 0 on success, -1 on failure </dd></dl>

<p>
Definition at line <a class="el" href="dial_8c-source.html#l00796">796</a> of file <a class="el" href="dial_8c-source.html">dial.c</a>.
<p>
References <a class="el" href="dial_8c-source.html#l00160">ast_option_types::disable</a>, and <a class="el" href="dial_8c.html#9efeac49a2220d81f75f22eb2ef33251">option_types</a>.<div class="fragment"><pre class="fragment"><a name="l00797"></a>00797 {
<a name="l00798"></a>00798         <span class="comment">/* If the option is not enabled, return failure */</span>
<a name="l00799"></a>00799         <span class="keywordflow">if</span> (!dial-&gt;<a class="code" href="structast__dial.html#78f7d76bc6c9f8fa8f16ff21578d966c">options</a>[option])
<a name="l00800"></a>00800                 <span class="keywordflow">return</span> -1;
<a name="l00801"></a>00801 
<a name="l00802"></a>00802    <span class="comment">/* Execute callback of option to disable if it exists */</span>
<a name="l00803"></a>00803    <span class="keywordflow">if</span> (<a class="code" href="dial_8c.html#9efeac49a2220d81f75f22eb2ef33251">option_types</a>[option].disable)
<a name="l00804"></a>00804       <a class="code" href="dial_8c.html#9efeac49a2220d81f75f22eb2ef33251">option_types</a>[option].<a class="code" href="structast__option__types.html#0aaa87422396fdd678498793b6d5250e">disable</a>(dial-&gt;<a class="code" href="structast__dial.html#78f7d76bc6c9f8fa8f16ff21578d966c">options</a>[option]);
<a name="l00805"></a>00805 
<a name="l00806"></a>00806    <span class="comment">/* Finally disable option on the structure */</span>
<a name="l00807"></a>00807    dial-&gt;<a class="code" href="structast__dial.html#78f7d76bc6c9f8fa8f16ff21578d966c">options</a>[option] = NULL;
<a name="l00808"></a>00808 
<a name="l00809"></a>00809         <span class="keywordflow">return</span> 0;
<a name="l00810"></a>00810 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="df978efff960f9bc1bd80cecab7fa3aa"></a><!-- doxytag: member="dial.h::ast_dial_option_global_enable" ref="df978efff960f9bc1bd80cecab7fa3aa" args="(struct ast_dial *dial, enum ast_dial_option option, void *data)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int ast_dial_option_global_enable           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structast__dial.html">ast_dial</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>dial</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>enum <a class="el" href="dial_8h.html#9a3d976a8e04abab71723abcb9d1bd66">ast_dial_option</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>option</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>data</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Enables an option globally. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dial</em>&nbsp;</td><td>Dial structure to enable option on </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>option</em>&nbsp;</td><td>Option to enable </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Data to pass to this option (not always needed) </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns 0 on success, -1 on failure </dd></dl>

<p>
Definition at line <a class="el" href="dial_8c-source.html#l00734">734</a> of file <a class="el" href="dial_8c-source.html">dial.c</a>.
<p>
References <a class="el" href="dial_8c-source.html#l00159">ast_option_types::enable</a>, <a class="el" href="dial_8c.html#9efeac49a2220d81f75f22eb2ef33251">option_types</a>, and <a class="el" href="dial_8c-source.html#l00052">ast_dial::options</a>.
<p>
Referenced by <a class="el" href="app__page_8c-source.html#l00085">page_exec()</a>.<div class="fragment"><pre class="fragment"><a name="l00735"></a>00735 {
<a name="l00736"></a>00736    <span class="comment">/* If the option is already enabled, return failure */</span>
<a name="l00737"></a>00737    <span class="keywordflow">if</span> (dial-&gt;<a class="code" href="structast__dial.html#78f7d76bc6c9f8fa8f16ff21578d966c">options</a>[option])
<a name="l00738"></a>00738       <span class="keywordflow">return</span> -1;
<a name="l00739"></a>00739 
<a name="l00740"></a>00740    <span class="comment">/* Execute enable callback if it exists, if not simply make sure the value is set */</span>
<a name="l00741"></a>00741    <span class="keywordflow">if</span> (<a class="code" href="dial_8c.html#9efeac49a2220d81f75f22eb2ef33251">option_types</a>[option].enable)
<a name="l00742"></a>00742       dial-&gt;<a class="code" href="structast__dial.html#78f7d76bc6c9f8fa8f16ff21578d966c">options</a>[option] = <a class="code" href="dial_8c.html#9efeac49a2220d81f75f22eb2ef33251">option_types</a>[option].<a class="code" href="structast__option__types.html#208f156d4a803025c284bb595a7576b4">enable</a>(data);
<a name="l00743"></a>00743    <span class="keywordflow">else</span>
<a name="l00744"></a>00744       dial-&gt;<a class="code" href="structast__dial.html#78f7d76bc6c9f8fa8f16ff21578d966c">options</a>[option] = (<span class="keywordtype">void</span>*)1;
<a name="l00745"></a>00745 
<a name="l00746"></a>00746    <span class="keywordflow">return</span> 0;
<a name="l00747"></a>00747 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="660a727c43f38213f33dac76315d7b34"></a><!-- doxytag: member="dial.h::ast_dial_run" ref="660a727c43f38213f33dac76315d7b34" args="(struct ast_dial *dial, struct ast_channel *chan, int async)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="dial_8h.html#de002eeb96977d990b965b62f8699079">ast_dial_result</a> ast_dial_run           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structast__dial.html">ast_dial</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>dial</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>struct <a class="el" href="structast__channel.html">ast_channel</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>async</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Execute dialing synchronously or asynchronously. 
<p>
<dl compact><dt><b>Note:</b></dt><dd>Dials channels in a dial structure. </dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns dial result code. (TRYING/INVALID/FAILED/ANSWERED/TIMEOUT/UNANSWERED). </dd></dl>

<p>
Definition at line <a class="el" href="dial_8c-source.html#l00573">573</a> of file <a class="el" href="dial_8c-source.html">dial.c</a>.
<p>
References <a class="el" href="dial_8c-source.html#l00664">ast_dial_hangup()</a>, <a class="el" href="dial_8h.html#de002eeb96977d990b965b62f86990798ea17e6ce38771ebeb50a4094c5ac61e">AST_DIAL_RESULT_FAILED</a>, <a class="el" href="dial_8h.html#de002eeb96977d990b965b62f8699079db56ebc9c15f3a5cbf5cfa51e196e5f5">AST_DIAL_RESULT_INVALID</a>, <a class="el" href="dial_8h.html#de002eeb96977d990b965b62f86990790071a35eae7e46caecdc7a837ef34731">AST_DIAL_RESULT_TRYING</a>, <a class="el" href="linkedlists_8h-source.html#l00413">AST_LIST_EMPTY</a>, <a class="el" href="logger_8c-source.html#l00866">ast_log()</a>, <a class="el" href="utils_8h-source.html#l00298">ast_pthread_create</a>, <a class="el" href="dial_8c-source.html#l00559">async_dial()</a>, <a class="el" href="dial_8c-source.html#l00236">begin_dial()</a>, <a class="el" href="logger_8h-source.html#l00094">LOG_DEBUG</a>, <a class="el" href="dial_8c-source.html#l00440">monitor_dial()</a>, and <a class="el" href="dial_8c-source.html#l00051">ast_dial::state</a>.
<p>
Referenced by <a class="el" href="app__meetme_8c-source.html#l04039">dial_trunk()</a>, <a class="el" href="app__page_8c-source.html#l00085">page_exec()</a>, and <a class="el" href="app__meetme_8c-source.html#l03562">sla_ring_station()</a>.<div class="fragment"><pre class="fragment"><a name="l00574"></a>00574 {
<a name="l00575"></a>00575    <span class="keyword">enum</span> <a class="code" href="dial_8h.html#de002eeb96977d990b965b62f8699079">ast_dial_result</a> res = <a class="code" href="dial_8h.html#de002eeb96977d990b965b62f86990790071a35eae7e46caecdc7a837ef34731">AST_DIAL_RESULT_TRYING</a>;
<a name="l00576"></a>00576 
<a name="l00577"></a>00577    <span class="comment">/* Ensure required arguments are passed */</span>
<a name="l00578"></a>00578    <span class="keywordflow">if</span> (!dial || (!chan &amp;&amp; !async)) {
<a name="l00579"></a>00579       <a class="code" href="logger_8c.html#46fbacc19de763bbca2547c1a9c6a5fa">ast_log</a>(<a class="code" href="logger_8h.html#eded50d942c7c2d37d09ba8241ff017f">LOG_DEBUG</a>, <span class="stringliteral">"invalid #1\n"</span>);
<a name="l00580"></a>00580       <span class="keywordflow">return</span> <a class="code" href="dial_8h.html#de002eeb96977d990b965b62f8699079db56ebc9c15f3a5cbf5cfa51e196e5f5">AST_DIAL_RESULT_INVALID</a>;
<a name="l00581"></a>00581    }
<a name="l00582"></a>00582 
<a name="l00583"></a>00583    <span class="comment">/* If there are no channels to dial we can't very well try to dial them */</span>
<a name="l00584"></a>00584    <span class="keywordflow">if</span> (<a class="code" href="linkedlists_8h.html#0a9573eff61452c49019359bfc0df565">AST_LIST_EMPTY</a>(&amp;dial-&gt;channels)) {
<a name="l00585"></a>00585       <a class="code" href="logger_8c.html#46fbacc19de763bbca2547c1a9c6a5fa">ast_log</a>(<a class="code" href="logger_8h.html#eded50d942c7c2d37d09ba8241ff017f">LOG_DEBUG</a>, <span class="stringliteral">"invalid #2\n"</span>);
<a name="l00586"></a>00586       <span class="keywordflow">return</span> <a class="code" href="dial_8h.html#de002eeb96977d990b965b62f8699079db56ebc9c15f3a5cbf5cfa51e196e5f5">AST_DIAL_RESULT_INVALID</a>;
<a name="l00587"></a>00587    }
<a name="l00588"></a>00588 
<a name="l00589"></a>00589    <span class="comment">/* Dial each requested channel */</span>
<a name="l00590"></a>00590    <span class="keywordflow">if</span> (!<a class="code" href="dial_8c.html#f2ab02923c90e37c82eb511de3b19ad6">begin_dial</a>(dial, chan))
<a name="l00591"></a>00591       <span class="keywordflow">return</span> <a class="code" href="dial_8h.html#de002eeb96977d990b965b62f86990798ea17e6ce38771ebeb50a4094c5ac61e">AST_DIAL_RESULT_FAILED</a>;
<a name="l00592"></a>00592 
<a name="l00593"></a>00593    <span class="comment">/* If we are running async spawn a thread and send it away... otherwise block here */</span>
<a name="l00594"></a>00594    <span class="keywordflow">if</span> (async) {
<a name="l00595"></a>00595       dial-&gt;<a class="code" href="structast__dial.html#9ed39e2ea931586b6a985a6942ef573e">state</a> = <a class="code" href="dial_8h.html#de002eeb96977d990b965b62f86990790071a35eae7e46caecdc7a837ef34731">AST_DIAL_RESULT_TRYING</a>;
<a name="l00596"></a>00596       <span class="comment">/* Try to create a thread */</span>
<a name="l00597"></a>00597       <span class="keywordflow">if</span> (<a class="code" href="utils_8h.html#89a8ad746b25627dd12304511d68a24c">ast_pthread_create</a>(&amp;dial-&gt;thread, NULL, <a class="code" href="dial_8c.html#05670d554fa08cca302741f9f53c782e">async_dial</a>, dial)) {
<a name="l00598"></a>00598          <span class="comment">/* Failed to create the thread - hangup all dialed channels and return failed */</span>
<a name="l00599"></a>00599          <a class="code" href="dial_8c.html#f2ea40a02edcc496341ba7ab60b04b1e">ast_dial_hangup</a>(dial);
<a name="l00600"></a>00600          res = <a class="code" href="dial_8h.html#de002eeb96977d990b965b62f86990798ea17e6ce38771ebeb50a4094c5ac61e">AST_DIAL_RESULT_FAILED</a>;
<a name="l00601"></a>00601       }
<a name="l00602"></a>00602    } <span class="keywordflow">else</span> {
<a name="l00603"></a>00603       res = <a class="code" href="dial_8c.html#556311f9538504e4870d8a6d2cba8391">monitor_dial</a>(dial, chan);
<a name="l00604"></a>00604    }
<a name="l00605"></a>00605 
<a name="l00606"></a>00606    <span class="keywordflow">return</span> res;
<a name="l00607"></a>00607 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="9063dd7ab53ef7b75c74d004e2e80aa4"></a><!-- doxytag: member="dial.h::ast_dial_set_state_callback" ref="9063dd7ab53ef7b75c74d004e2e80aa4" args="(struct ast_dial *dial, ast_dial_state_callback callback)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ast_dial_set_state_callback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structast__dial.html">ast_dial</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>dial</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="dial_8h.html#0307ee9bebc49c8e17653906d21fd775">ast_dial_state_callback</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>callback</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set a callback for state changes. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dial</em>&nbsp;</td><td>The dial structure to watch for state changes </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>callback</em>&nbsp;</td><td>the callback </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>nothing </dd></dl>

<p>
Definition at line <a class="el" href="dial_8c-source.html#l00854">854</a> of file <a class="el" href="dial_8c-source.html">dial.c</a>.
<p>
References <a class="el" href="dial_8c-source.html#l00053">ast_dial::state_callback</a>.
<p>
Referenced by <a class="el" href="app__meetme_8c-source.html#l03562">sla_ring_station()</a>.<div class="fragment"><pre class="fragment"><a name="l00855"></a>00855 {
<a name="l00856"></a>00856    dial-&gt;<a class="code" href="structast__dial.html#3fbed2c17580e1e851e4ca6d8fb64b5f">state_callback</a> = callback;
<a name="l00857"></a>00857 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="3151fae1bb626f9f7c4c1b966f5768ca"></a><!-- doxytag: member="dial.h::ast_dial_state" ref="3151fae1bb626f9f7c4c1b966f5768ca" args="(struct ast_dial *dial)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="dial_8h.html#de002eeb96977d990b965b62f8699079">ast_dial_result</a> ast_dial_state           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structast__dial.html">ast_dial</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dial</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return state of dial. 
<p>
<dl compact><dt><b>Note:</b></dt><dd>Returns the state of the dial attempt </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dial</em>&nbsp;</td><td>Dialing structure </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dial_8c-source.html#l00625">625</a> of file <a class="el" href="dial_8c-source.html">dial.c</a>.
<p>
References <a class="el" href="dial_8c-source.html#l00051">ast_dial::state</a>.
<p>
Referenced by <a class="el" href="app__meetme_8c-source.html#l04039">dial_trunk()</a>, and <a class="el" href="app__meetme_8c-source.html#l03449">sla_handle_dial_state_event()</a>.<div class="fragment"><pre class="fragment"><a name="l00626"></a>00626 {
<a name="l00627"></a>00627    <span class="keywordflow">return</span> dial-&gt;<a class="code" href="structast__dial.html#9ed39e2ea931586b6a985a6942ef573e">state</a>;
<a name="l00628"></a>00628 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Thu May 24 22:27:26 2007 for Asterisk - the Open Source PBX by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.5 </small></address>
</body>
</html>
