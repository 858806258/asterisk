<HTML>
    <HEAD>
      <TITLE>Asterisk.org: Developer Documentation (24 May 2007)</TITLE>
      <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
    </HEAD>
    <BODY BGCOLOR="#FFFFFF">
<div><font size="2" align="right">Thu May 24 22:27:34 2007</font></div>

<h2>Asterisk developer's documentation</h2>
<hr/>
<!-- Generated by Doxygen 1.4.5 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir__2Fusr_2Flocal_2Fsrc_2Fasterisk_2Esvn_2Fastum_2Fchannels_2F.html">channels</a>&nbsp;&raquo&nbsp;<a class="el" href="dir__2Fusr_2Flocal_2Fsrc_2Fasterisk_2Esvn_2Fastum_2Fchannels_2Fmisdn_2F.html">misdn</a></div>
<h1>isdn_lib_intern.h File Reference</h1><code>#include &lt;mISDNuser/mISDNlib.h&gt;</code><br>
<code>#include &lt;mISDNuser/isdn_net.h&gt;</code><br>
<code>#include &lt;mISDNuser/l3dss1.h&gt;</code><br>
<code>#include &lt;mISDNuser/net_l3.h&gt;</code><br>
<code>#include &lt;pthread.h&gt;</code><br>
<code>#include &quot;<a class="el" href="isdn__lib_8h-source.html">isdn_lib.h</a>&quot;</code><br>

<p>
<a href="isdn__lib__intern_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structisdn__msg.html">isdn_msg</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmisdn__stack.html">misdn_stack</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsend__lock.html">send_lock</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="isdn__lib__intern_8h.html#42bafedf42f2f506b996e9f4215645ce">mISDNUSER_HEAD_SIZE</a>&nbsp;&nbsp;&nbsp;(sizeof(mISDNuser_head_t))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="isdn__lib__intern_8h.html#47b250ed80507145075644b75c5982eb">QI_ELEMENT</a>(a)&nbsp;&nbsp;&nbsp;a.off</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">msg_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="isdn__lib__intern_8h.html#1d4f5844685dfde2f9796ca485bdb524">create_l3msg</a> (int prim, int mt, int dinfo, int size, int nt)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structmisdn__stack.html">misdn_stack</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="isdn__lib__intern_8h.html#c09088b742125e27f2bd18f9bddf80d7">get_stack_by_bc</a> (struct <a class="el" href="structmisdn__bchannel.html">misdn_bchannel</a> *bc)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="isdn__lib__intern_8h.html#2f64349453a1837ca2b081e2174cff4f">isdn_get_info</a> (struct <a class="el" href="structisdn__msg.html">isdn_msg</a> msgs[], enum <a class="el" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a0">event_e</a> <a class="el" href="manager_8h.html#4119639092e62c55ea8be348e4d9260d">event</a>, int nt)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">msg_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="isdn__lib__intern_8h.html#144a2ed77b1541b024c69ecb8ba1fab2">isdn_msg_build_event</a> (struct <a class="el" href="structisdn__msg.html">isdn_msg</a> msgs[], struct <a class="el" href="structmisdn__bchannel.html">misdn_bchannel</a> *bc, enum <a class="el" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a0">event_e</a> <a class="el" href="manager_8h.html#4119639092e62c55ea8be348e4d9260d">event</a>, int nt)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum <a class="el" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a0">event_e</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="isdn__lib__intern_8h.html#9a4f7077635592f6e00223f6e95ff263">isdn_msg_get_event</a> (struct <a class="el" href="structisdn__msg.html">isdn_msg</a> msgs[], msg_t *frm, int nt)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="isdn__lib__intern_8h.html#7b7d7ea7369d911eb4edad57898f8c55">isdn_msg_get_index</a> (struct <a class="el" href="structisdn__msg.html">isdn_msg</a> msgs[], msg_t *frm, int nt)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="isdn__lib__intern_8h.html#61e8dc1e7e3ae2373b7736da8b50a6e3">isdn_msg_get_index_by_event</a> (struct <a class="el" href="structisdn__msg.html">isdn_msg</a> msgs[], enum <a class="el" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a0">event_e</a> <a class="el" href="manager_8h.html#4119639092e62c55ea8be348e4d9260d">event</a>, int nt)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="isdn__lib__intern_8h.html#8c23a5a0306d3c2ad0915dd7294665fb">isdn_msg_get_info</a> (struct <a class="el" href="structisdn__msg.html">isdn_msg</a> msgs[], msg_t *<a class="el" href="adsistub_8c.html#6e2baaf3b97dbeef01c0043275f9a0e7">msg</a>, int nt)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="isdn__lib__intern_8h.html#46f23b8b8004605130f76eb9324b4f68">isdn_msg_parse_event</a> (struct <a class="el" href="structisdn__msg.html">isdn_msg</a> msgs[], msg_t *frm, struct <a class="el" href="structmisdn__bchannel.html">misdn_bchannel</a> *bc, int nt)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ibuffer_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="isdn__lib__intern_8h.html#17add620022df3bf225c0d43f4011ef2">astbuf</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">ibuffer_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="isdn__lib__intern_8h.html#0c8f33818af993d7712b650b4f9dc26a">misdnbuf</a></td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="42bafedf42f2f506b996e9f4215645ce"></a><!-- doxytag: member="isdn_lib_intern.h::mISDNUSER_HEAD_SIZE" ref="42bafedf42f2f506b996e9f4215645ce" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define mISDNUSER_HEAD_SIZE&nbsp;&nbsp;&nbsp;(sizeof(mISDNuser_head_t))          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="isdn__lib__intern_8h-source.html#l00024">24</a> of file <a class="el" href="isdn__lib__intern_8h-source.html">isdn_lib_intern.h</a>.
<p>
Referenced by <a class="el" href="isdn__msg__parser_8c-source.html#l00107">build_alerting()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00381">build_connect()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00457">build_connect_acknowledge()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00790">build_disconnect()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00954">build_facility()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00551">build_hold()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00620">build_hold_acknowledge()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00689">build_hold_reject()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l01050">build_information()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00997">build_notify()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00072">build_proceeding()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00139">build_progress()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00860">build_release()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00911">build_release_complete()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00830">build_restart()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00597">build_resume()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00666">build_resume_acknowledge()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00528">build_resume_reject()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00712">build_retrieve()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00735">build_retrieve_acknowledge()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00759">build_retrieve_reject()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00269">build_setup()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00429">build_setup_acknowledge()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l01091">build_status()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l01018">build_status_enquiry()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00574">build_suspend()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00643">build_suspend_acknowledge()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00505">build_suspend_reject()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l01112">build_timeout()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00482">build_user_information()</a>, <a class="el" href="isdn__lib_8c-source.html#l01741">handle_event_nt()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00092">parse_alerting()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00358">parse_connect()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00773">parse_disconnect()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00927">parse_facility()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l01032">parse_information()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00051">parse_proceeding()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00126">parse_progress()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00844">parse_release()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00877">parse_release_complete()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00807">parse_restart()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00153">parse_setup()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00408">parse_setup_acknowledge()</a>, and <a class="el" href="isdn__msg__parser_8c-source.html#l01075">parse_status()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="47b250ed80507145075644b75c5982eb"></a><!-- doxytag: member="isdn_lib_intern.h::QI_ELEMENT" ref="47b250ed80507145075644b75c5982eb" args="(a)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define QI_ELEMENT          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">a&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;a.off</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="isdn__lib__intern_8h-source.html#l00019">19</a> of file <a class="el" href="isdn__lib__intern_8h-source.html">isdn_lib_intern.h</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="1d4f5844685dfde2f9796ca485bdb524"></a><!-- doxytag: member="isdn_lib_intern.h::create_l3msg" ref="1d4f5844685dfde2f9796ca485bdb524" args="(int prim, int mt, int dinfo, int size, int nt)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">msg_t* create_l3msg           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>prim</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>mt</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>dinfo</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>nt</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="isdn__lib_8c-source.html#l00330">330</a> of file <a class="el" href="isdn__lib_8c-source.html">isdn_lib.c</a>.
<p>
Referenced by <a class="el" href="isdn__msg__parser_8c-source.html#l00107">build_alerting()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00381">build_connect()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00457">build_connect_acknowledge()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00790">build_disconnect()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00954">build_facility()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00551">build_hold()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00620">build_hold_acknowledge()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00689">build_hold_reject()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l01050">build_information()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00997">build_notify()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00072">build_proceeding()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00139">build_progress()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00860">build_release()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00911">build_release_complete()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00830">build_restart()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00597">build_resume()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00666">build_resume_acknowledge()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00528">build_resume_reject()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00712">build_retrieve()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00735">build_retrieve_acknowledge()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00759">build_retrieve_reject()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00269">build_setup()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00429">build_setup_acknowledge()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l01091">build_status()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l01018">build_status_enquiry()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00574">build_suspend()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00643">build_suspend_acknowledge()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00505">build_suspend_reject()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l01112">build_timeout()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00482">build_user_information()</a>, and <a class="el" href="isdn__lib_8c-source.html#l01741">handle_event_nt()</a>.<div class="fragment"><pre class="fragment"><a name="l00331"></a>00331 {
<a name="l00332"></a>00332    <span class="keywordtype">int</span> i = 0;
<a name="l00333"></a>00333    msg_t *dmsg;
<a name="l00334"></a>00334    Q931_info_t *qi;
<a name="l00335"></a>00335    iframe_t *frm;
<a name="l00336"></a>00336   
<a name="l00337"></a>00337    <span class="keywordflow">if</span> (!ntmode)
<a name="l00338"></a>00338       size = <span class="keyword">sizeof</span>(Q931_info_t)+2;
<a name="l00339"></a>00339   
<a name="l00340"></a>00340    <span class="keywordflow">while</span>(i &lt; 10) {
<a name="l00341"></a>00341       <span class="keywordflow">if</span> (ntmode) {
<a name="l00342"></a>00342          dmsg = prep_l3data_msg(prim, dinfo, size, 256, NULL);
<a name="l00343"></a>00343          <span class="keywordflow">if</span> (dmsg) {
<a name="l00344"></a>00344             <span class="keywordflow">return</span>(dmsg);
<a name="l00345"></a>00345          }
<a name="l00346"></a>00346       } <span class="keywordflow">else</span> {
<a name="l00347"></a>00347          dmsg = alloc_msg(size+256+mISDN_HEADER_LEN+DEFAULT_HEADROOM);
<a name="l00348"></a>00348          <span class="keywordflow">if</span> (dmsg)
<a name="l00349"></a>00349          {
<a name="l00350"></a>00350             memset(msg_put(dmsg,size+mISDN_HEADER_LEN), 0, size+mISDN_HEADER_LEN);
<a name="l00351"></a>00351             frm = (iframe_t *)dmsg-&gt;data;
<a name="l00352"></a>00352             frm-&gt;prim = prim;
<a name="l00353"></a>00353             frm-&gt;dinfo = dinfo;
<a name="l00354"></a>00354             qi = (Q931_info_t *)(dmsg-&gt;data + mISDN_HEADER_LEN);
<a name="l00355"></a>00355             qi-&gt;type = mt;
<a name="l00356"></a>00356             <span class="keywordflow">return</span>(dmsg);
<a name="l00357"></a>00357          }
<a name="l00358"></a>00358       }
<a name="l00359"></a>00359     
<a name="l00360"></a>00360       <span class="keywordflow">if</span> (!i) printf(<span class="stringliteral">"cannot allocate memory, trying again...\n"</span>);
<a name="l00361"></a>00361       i++;
<a name="l00362"></a>00362       usleep(300000);
<a name="l00363"></a>00363    }
<a name="l00364"></a>00364    printf(<span class="stringliteral">"cannot allocate memory, system overloaded.\n"</span>);
<a name="l00365"></a>00365    exit(-1);
<a name="l00366"></a>00366 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="c09088b742125e27f2bd18f9bddf80d7"></a><!-- doxytag: member="isdn_lib_intern.h::get_stack_by_bc" ref="c09088b742125e27f2bd18f9bddf80d7" args="(struct misdn_bchannel *bc)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">struct <a class="el" href="structmisdn__stack.html">misdn_stack</a>* get_stack_by_bc           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structmisdn__bchannel.html">misdn_bchannel</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>bc</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="isdn__lib_8c-source.html#l00104">104</a> of file <a class="el" href="isdn__lib_8c-source.html">isdn_lib.c</a>.
<p>
References <a class="el" href="isdn__lib__intern_8h-source.html#l00061">misdn_stack::b_num</a>, <a class="el" href="isdn__lib_8c-source.html#l04344">get_misdn_stack()</a>, <a class="el" href="isdn__lib__intern_8h-source.html#l00104">misdn_stack::next</a>, <a class="el" href="isdn__lib__intern_8h-source.html#l00094">misdn_stack::port</a>, and <a class="el" href="isdn__lib_8h-source.html#l00205">misdn_bchannel::port</a>.
<p>
Referenced by <a class="el" href="isdn__lib_8c-source.html#l00645">clean_up_bc()</a>, <a class="el" href="isdn__lib_8c-source.html#l00848">create_process()</a>, <a class="el" href="ie_8c-source.html#l00756">dec_ie_channel_id()</a>, <a class="el" href="ie_8c-source.html#l00681">enc_ie_channel_id()</a>, <a class="el" href="isdn__lib_8c-source.html#l02280">handle_bchan()</a>, <a class="el" href="isdn__lib_8c-source.html#l01499">handle_event()</a>, <a class="el" href="isdn__lib_8c-source.html#l03961">manager_bchannel_activate()</a>, <a class="el" href="isdn__lib_8c-source.html#l03983">manager_bchannel_deactivate()</a>, <a class="el" href="isdn__lib_8c-source.html#l04130">manager_clean_bc()</a>, <a class="el" href="isdn__lib_8c-source.html#l04323">manager_ec_disable()</a>, <a class="el" href="isdn__lib_8c-source.html#l04274">manager_ec_enable()</a>, <a class="el" href="isdn__lib_8c-source.html#l03053">manager_find_bc_holded()</a>, <a class="el" href="isdn__lib_8c-source.html#l03168">misdn_lib_log_ies()</a>, <a class="el" href="isdn__lib_8c-source.html#l01643">misdn_lib_release()</a>, <a class="el" href="isdn__lib_8c-source.html#l03217">misdn_lib_send_event()</a>, <a class="el" href="isdn__lib_8c-source.html#l04021">misdn_lib_tx2misdn_frm()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00877">parse_release_complete()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l00807">parse_restart()</a>, <a class="el" href="isdn__lib_8c-source.html#l00369">send_msg()</a>, and <a class="el" href="isdn__lib_8c-source.html#l00930">setup_bc()</a>.<div class="fragment"><pre class="fragment"><a name="l00105"></a>00105 {
<a name="l00106"></a>00106    <span class="keyword">struct </span><a class="code" href="structmisdn__stack.html">misdn_stack</a> *stack=<a class="code" href="isdn__lib_8c.html#6fdd429b02b69948496e4bb4a3b37d9d">get_misdn_stack</a>();
<a name="l00107"></a>00107 
<a name="l00108"></a>00108    <span class="keywordflow">if</span> (!bc) <span class="keywordflow">return</span> NULL;
<a name="l00109"></a>00109    
<a name="l00110"></a>00110    <span class="keywordflow">for</span> ( ; stack; stack=stack-&gt;<a class="code" href="structmisdn__stack.html#d0cab90d8d20d57e2f2b9be52f7dd25d">next</a>) {
<a name="l00111"></a>00111       <span class="keywordtype">int</span> i;
<a name="l00112"></a>00112       <span class="keywordflow">for</span> (i=0; i &lt;=stack-&gt;<a class="code" href="structmisdn__stack.html#fc46f30e97487469b436d080c3320d84">b_num</a>; i++) {
<a name="l00113"></a>00113          <span class="keywordflow">if</span> ( bc-&gt;<a class="code" href="structmisdn__bchannel.html#901555fb06e346cb065ceb9808dcfc25">port</a> == stack-&gt;<a class="code" href="structmisdn__stack.html#901555fb06e346cb065ceb9808dcfc25">port</a>) <span class="keywordflow">return</span> stack;
<a name="l00114"></a>00114       }
<a name="l00115"></a>00115    }
<a name="l00116"></a>00116 
<a name="l00117"></a>00117    <span class="keywordflow">return</span> NULL;
<a name="l00118"></a>00118 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="2f64349453a1837ca2b081e2174cff4f"></a><!-- doxytag: member="isdn_lib_intern.h::isdn_get_info" ref="2f64349453a1837ca2b081e2174cff4f" args="(struct isdn_msg msgs[], enum event_e event, int nt)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">char* isdn_get_info           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structisdn__msg.html">isdn_msg</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>msgs</em>[], </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>enum <a class="el" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a0">event_e</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>event</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>nt</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="isdn__msg__parser_8c-source.html#l01289">1289</a> of file <a class="el" href="isdn__msg__parser_8c-source.html">isdn_msg_parser.c</a>.
<p>
References <a class="el" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a079a24af3c4205857f08a049aa9c0c809">EVENT_BCHAN_ACTIVATED</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l01285">EVENT_BCHAN_ACTIVATED_INFO</a>, <a class="el" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a0300139063899079805b6f681e0a3c5ef">EVENT_BCHAN_DATA</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l01284">EVENT_BCHAN_DATA_INFO</a>, <a class="el" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a0e1ee936e681cde534bb35e43a36e54e6">EVENT_BCHAN_ERROR</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l01287">EVENT_BCHAN_ERROR_INFO</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l01278">EVENT_CLEAN_INFO</a>, <a class="el" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a0adbb5302858f0ca23b9552f9a5402d26">EVENT_CLEANUP</a>, <a class="el" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a055b9b217134f91fb69500d98ec72b0fc">EVENT_DTMF_TONE</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l01279">EVENT_DTMF_TONE_INFO</a>, <a class="el" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a0fe7b27eb31a529e3ba38e242d8773c04">EVENT_NEW_BC</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l01281">EVENT_NEW_BC_INFO</a>, <a class="el" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a07ba2756cf415d9b9ba48359ff744de37">EVENT_NEW_CHANNEL</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l01283">EVENT_NEW_CHANNEL_INFO</a>, <a class="el" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a05ec9f5e772c7998db50415321231aaad">EVENT_NEW_L3ID</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l01280">EVENT_NEW_L3ID_INFO</a>, <a class="el" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a05b30790092043cd946ec3ae1aee2afee">EVENT_PORT_ALARM</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l01282">EVENT_PORT_ALARM_INFO</a>, <a class="el" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a0036f17a6cf7e4803840a2f2f20b44b83">EVENT_TONE_GENERATE</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l01286">EVENT_TONE_GENERATE_INFO</a>, <a class="el" href="isdn__lib__intern_8h-source.html#l00045">isdn_msg::info</a>, and <a class="el" href="isdn__msg__parser_8c-source.html#l01252">isdn_msg_get_index_by_event()</a>.
<p>
Referenced by <a class="el" href="isdn__lib_8c-source.html#l02576">handle_frm()</a>, <a class="el" href="isdn__lib_8c-source.html#l02694">handle_l1()</a>, <a class="el" href="isdn__lib_8c-source.html#l03956">manager_isdn_get_info()</a>, and <a class="el" href="isdn__lib_8c-source.html#l03217">misdn_lib_send_event()</a>.<div class="fragment"><pre class="fragment"><a name="l01290"></a>01290 {
<a name="l01291"></a>01291    <span class="keywordtype">int</span> i=<a class="code" href="isdn__lib__intern_8h.html#61e8dc1e7e3ae2373b7736da8b50a6e3">isdn_msg_get_index_by_event</a>(msgs, <a class="code" href="manager_8h.html#4119639092e62c55ea8be348e4d9260d">event</a>, <a class="code" href="structmisdn__stack.html#25930e3036f13852cb0b29694bbab611">nt</a>);
<a name="l01292"></a>01292    
<a name="l01293"></a>01293    <span class="keywordflow">if</span>(i&gt;=0) <span class="keywordflow">return</span> msgs[i].info;
<a name="l01294"></a>01294    
<a name="l01295"></a>01295    <span class="keywordflow">if</span> (<a class="code" href="manager_8h.html#4119639092e62c55ea8be348e4d9260d">event</a> == <a class="code" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a0adbb5302858f0ca23b9552f9a5402d26">EVENT_CLEANUP</a>) <span class="keywordflow">return</span> <a class="code" href="isdn__msg__parser_8c.html#db70101b6a1c58d797cf1119f70bb561">EVENT_CLEAN_INFO</a>;
<a name="l01296"></a>01296    <span class="keywordflow">if</span> (<a class="code" href="manager_8h.html#4119639092e62c55ea8be348e4d9260d">event</a> == <a class="code" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a055b9b217134f91fb69500d98ec72b0fc">EVENT_DTMF_TONE</a>) <span class="keywordflow">return</span> <a class="code" href="isdn__msg__parser_8c.html#6f5bf8c8c325f900dba1a36d38f76855">EVENT_DTMF_TONE_INFO</a>;
<a name="l01297"></a>01297    <span class="keywordflow">if</span> (<a class="code" href="manager_8h.html#4119639092e62c55ea8be348e4d9260d">event</a> == <a class="code" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a05ec9f5e772c7998db50415321231aaad">EVENT_NEW_L3ID</a>) <span class="keywordflow">return</span> <a class="code" href="isdn__msg__parser_8c.html#9875c5e712bd8e7220f75019e70f4f4c">EVENT_NEW_L3ID_INFO</a>;
<a name="l01298"></a>01298    <span class="keywordflow">if</span> (<a class="code" href="manager_8h.html#4119639092e62c55ea8be348e4d9260d">event</a> == <a class="code" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a0fe7b27eb31a529e3ba38e242d8773c04">EVENT_NEW_BC</a>) <span class="keywordflow">return</span> <a class="code" href="isdn__msg__parser_8c.html#21b1c9d24d114891d0c8ecc67d1c577c">EVENT_NEW_BC_INFO</a>;
<a name="l01299"></a>01299    <span class="keywordflow">if</span> (<a class="code" href="manager_8h.html#4119639092e62c55ea8be348e4d9260d">event</a> == <a class="code" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a07ba2756cf415d9b9ba48359ff744de37">EVENT_NEW_CHANNEL</a>) <span class="keywordflow">return</span> <a class="code" href="isdn__msg__parser_8c.html#46212f13fead72f55eb73abba99e3f1f">EVENT_NEW_CHANNEL_INFO</a>;
<a name="l01300"></a>01300    <span class="keywordflow">if</span> (<a class="code" href="manager_8h.html#4119639092e62c55ea8be348e4d9260d">event</a> == <a class="code" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a0300139063899079805b6f681e0a3c5ef">EVENT_BCHAN_DATA</a>) <span class="keywordflow">return</span> <a class="code" href="isdn__msg__parser_8c.html#a2a8ba8e3eae705056e48453866a09be">EVENT_BCHAN_DATA_INFO</a>;
<a name="l01301"></a>01301    <span class="keywordflow">if</span> (<a class="code" href="manager_8h.html#4119639092e62c55ea8be348e4d9260d">event</a> == <a class="code" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a079a24af3c4205857f08a049aa9c0c809">EVENT_BCHAN_ACTIVATED</a>) <span class="keywordflow">return</span> <a class="code" href="isdn__msg__parser_8c.html#db2ef9547807500c02ed732966053c47">EVENT_BCHAN_ACTIVATED_INFO</a>;
<a name="l01302"></a>01302    <span class="keywordflow">if</span> (<a class="code" href="manager_8h.html#4119639092e62c55ea8be348e4d9260d">event</a> == <a class="code" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a0036f17a6cf7e4803840a2f2f20b44b83">EVENT_TONE_GENERATE</a>) <span class="keywordflow">return</span> <a class="code" href="isdn__msg__parser_8c.html#a9b5faaa52ffaf924eb37dae67cbc664">EVENT_TONE_GENERATE_INFO</a>;
<a name="l01303"></a>01303    <span class="keywordflow">if</span> (<a class="code" href="manager_8h.html#4119639092e62c55ea8be348e4d9260d">event</a> == <a class="code" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a05b30790092043cd946ec3ae1aee2afee">EVENT_PORT_ALARM</a>) <span class="keywordflow">return</span> <a class="code" href="isdn__msg__parser_8c.html#3cf5a7c95f127523f7cf12d7eee8586b">EVENT_PORT_ALARM_INFO</a>;
<a name="l01304"></a>01304    <span class="keywordflow">if</span> (<a class="code" href="manager_8h.html#4119639092e62c55ea8be348e4d9260d">event</a> == <a class="code" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a0e1ee936e681cde534bb35e43a36e54e6">EVENT_BCHAN_ERROR</a>) <span class="keywordflow">return</span> <a class="code" href="isdn__msg__parser_8c.html#77241a6cb52c9c8f3ce28575952f975c">EVENT_BCHAN_ERROR_INFO</a>;
<a name="l01305"></a>01305    
<a name="l01306"></a>01306    <span class="keywordflow">return</span> NULL;
<a name="l01307"></a>01307 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="144a2ed77b1541b024c69ecb8ba1fab2"></a><!-- doxytag: member="isdn_lib_intern.h::isdn_msg_build_event" ref="144a2ed77b1541b024c69ecb8ba1fab2" args="(struct isdn_msg msgs[], struct misdn_bchannel *bc, enum event_e event, int nt)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">msg_t* isdn_msg_build_event           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structisdn__msg.html">isdn_msg</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>msgs</em>[], </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>struct <a class="el" href="structmisdn__bchannel.html">misdn_bchannel</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>bc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>enum <a class="el" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a0">event_e</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>event</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>nt</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="isdn__msg__parser_8c-source.html#l01318">1318</a> of file <a class="el" href="isdn__msg__parser_8c-source.html">isdn_msg_parser.c</a>.
<p>
References <a class="el" href="isdn__msg__parser_8c-source.html#l01252">isdn_msg_get_index_by_event()</a>, and <a class="el" href="structisdn__msg.html#a44c4b6c085b5f337f987238e11b125d">isdn_msg::msg_builder</a>.
<p>
Referenced by <a class="el" href="isdn__lib_8c-source.html#l03217">misdn_lib_send_event()</a>.<div class="fragment"><pre class="fragment"><a name="l01319"></a>01319 {
<a name="l01320"></a>01320    <span class="keywordtype">int</span> i=<a class="code" href="isdn__lib__intern_8h.html#61e8dc1e7e3ae2373b7736da8b50a6e3">isdn_msg_get_index_by_event</a>(msgs, <a class="code" href="manager_8h.html#4119639092e62c55ea8be348e4d9260d">event</a>, <a class="code" href="structmisdn__stack.html#25930e3036f13852cb0b29694bbab611">nt</a>);
<a name="l01321"></a>01321    <span class="keywordflow">if</span>(i&lt;0) <span class="keywordflow">return</span> NULL;
<a name="l01322"></a>01322   
<a name="l01323"></a>01323    <span class="keywordflow">return</span>  msgs[i].msg_builder(msgs, bc, <a class="code" href="structmisdn__stack.html#25930e3036f13852cb0b29694bbab611">nt</a>);
<a name="l01324"></a>01324 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="9a4f7077635592f6e00223f6e95ff263"></a><!-- doxytag: member="isdn_lib_intern.h::isdn_msg_get_event" ref="9a4f7077635592f6e00223f6e95ff263" args="(struct isdn_msg msgs[], msg_t *frm, int nt)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a0">event_e</a> isdn_msg_get_event           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structisdn__msg.html">isdn_msg</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>msgs</em>[], </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>msg_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>frm</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>nt</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="isdn__msg__parser_8c-source.html#l01263">1263</a> of file <a class="el" href="isdn__msg__parser_8c-source.html">isdn_msg_parser.c</a>.
<p>
References <a class="el" href="manager_8h-source.html#l00166">event</a>, <a class="el" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a03361aaf9cac5431f61ee5144cc9cb8ce">EVENT_UNKNOWN</a>, and <a class="el" href="isdn__msg__parser_8c-source.html#l01231">isdn_msg_get_index()</a>.
<p>
Referenced by <a class="el" href="isdn__lib_8c-source.html#l02576">handle_frm()</a>.<div class="fragment"><pre class="fragment"><a name="l01264"></a>01264 {
<a name="l01265"></a>01265    <span class="keywordtype">int</span> i=<a class="code" href="isdn__lib__intern_8h.html#7b7d7ea7369d911eb4edad57898f8c55">isdn_msg_get_index</a>(msgs, <a class="code" href="adsistub_8c.html#6e2baaf3b97dbeef01c0043275f9a0e7">msg</a>, <a class="code" href="structmisdn__stack.html#25930e3036f13852cb0b29694bbab611">nt</a>);
<a name="l01266"></a>01266    <span class="keywordflow">if</span>(i&gt;=0) <span class="keywordflow">return</span> msgs[i].<a class="code" href="manager_8h.html#4119639092e62c55ea8be348e4d9260d">event</a>;
<a name="l01267"></a>01267    <span class="keywordflow">return</span> <a class="code" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a03361aaf9cac5431f61ee5144cc9cb8ce">EVENT_UNKNOWN</a>;
<a name="l01268"></a>01268 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="7b7d7ea7369d911eb4edad57898f8c55"></a><!-- doxytag: member="isdn_lib_intern.h::isdn_msg_get_index" ref="7b7d7ea7369d911eb4edad57898f8c55" args="(struct isdn_msg msgs[], msg_t *frm, int nt)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int isdn_msg_get_index           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structisdn__msg.html">isdn_msg</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>msgs</em>[], </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>msg_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>nt</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
INTERFACE FCTS 
<p>
Definition at line <a class="el" href="isdn__msg__parser_8c-source.html#l01231">1231</a> of file <a class="el" href="isdn__msg__parser_8c-source.html">isdn_msg_parser.c</a>.
<p>
References <a class="el" href="isdn__lib__intern_8h-source.html#l00038">isdn_msg::misdn_msg</a>, and <a class="el" href="isdn__msg__parser_8c-source.html#l01228">msgs_max</a>.
<p>
Referenced by <a class="el" href="isdn__msg__parser_8c-source.html#l01263">isdn_msg_get_event()</a>, <a class="el" href="isdn__msg__parser_8c-source.html#l01270">isdn_msg_get_info()</a>, and <a class="el" href="isdn__msg__parser_8c-source.html#l01309">isdn_msg_parse_event()</a>.<div class="fragment"><pre class="fragment"><a name="l01232"></a>01232 {
<a name="l01233"></a>01233    <span class="keywordtype">int</span> i;
<a name="l01234"></a>01234 
<a name="l01235"></a>01235    <span class="keywordflow">if</span> (<a class="code" href="structmisdn__stack.html#25930e3036f13852cb0b29694bbab611">nt</a>){
<a name="l01236"></a>01236       mISDNuser_head_t *hh = (mISDNuser_head_t*)<a class="code" href="adsistub_8c.html#6e2baaf3b97dbeef01c0043275f9a0e7">msg</a>-&gt;<a class="code" href="structast__channel.html#8d777f385d3dfec8815d20f7496026dc">data</a>;
<a name="l01237"></a>01237       
<a name="l01238"></a>01238       for (i=0; i&lt; <a class="code" href="isdn__msg__parser_8c.html#fb31d24519cdc2207ed2d96e0575040f">msgs_max</a> -1; i++) {
<a name="l01239"></a>01239          <span class="keywordflow">if</span> ( (hh-&gt;prim&amp;COMMAND_MASK)==(msgs[i].<a class="code" href="structisdn__msg.html#aa7768113c82fcfa974a278b308fdb38">misdn_msg</a>&amp;COMMAND_MASK)) <span class="keywordflow">return</span> i;
<a name="l01240"></a>01240       }
<a name="l01241"></a>01241       
<a name="l01242"></a>01242    } <span class="keywordflow">else</span> {
<a name="l01243"></a>01243       iframe_t *frm = (iframe_t*)<a class="code" href="adsistub_8c.html#6e2baaf3b97dbeef01c0043275f9a0e7">msg</a>-&gt;<a class="code" href="structast__channel.html#8d777f385d3dfec8815d20f7496026dc">data</a>;
<a name="l01244"></a>01244     
<a name="l01245"></a>01245       for (i=0; i&lt; <a class="code" href="isdn__msg__parser_8c.html#fb31d24519cdc2207ed2d96e0575040f">msgs_max</a> -1; i++) 
<a name="l01246"></a>01246          <span class="keywordflow">if</span> ( (frm-&gt;prim&amp;COMMAND_MASK)==(msgs[i].<a class="code" href="structisdn__msg.html#aa7768113c82fcfa974a278b308fdb38">misdn_msg</a>&amp;COMMAND_MASK)) <span class="keywordflow">return</span> i;
<a name="l01247"></a>01247    }
<a name="l01248"></a>01248 
<a name="l01249"></a>01249    <span class="keywordflow">return</span> -1;
<a name="l01250"></a>01250 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="61e8dc1e7e3ae2373b7736da8b50a6e3"></a><!-- doxytag: member="isdn_lib_intern.h::isdn_msg_get_index_by_event" ref="61e8dc1e7e3ae2373b7736da8b50a6e3" args="(struct isdn_msg msgs[], enum event_e event, int nt)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int isdn_msg_get_index_by_event           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structisdn__msg.html">isdn_msg</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>msgs</em>[], </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>enum <a class="el" href="isdn__lib_8h.html#22c396eb89baecb58d3a55e7f239a0a0">event_e</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>event</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>nt</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="isdn__msg__parser_8c-source.html#l01252">1252</a> of file <a class="el" href="isdn__msg__parser_8c-source.html">isdn_msg_parser.c</a>.
<p>
References <a class="el" href="isdn__lib_8h-source.html#l00378">cb_log</a>, and <a class="el" href="isdn__msg__parser_8c-source.html#l01228">msgs_max</a>.
<p>
Referenced by <a class="el" href="isdn__msg__parser_8c-source.html#l01289">isdn_get_info()</a>, and <a class="el" href="isdn__msg__parser_8c-source.html#l01318">isdn_msg_build_event()</a>.<div class="fragment"><pre class="fragment"><a name="l01253"></a>01253 {
<a name="l01254"></a>01254    <span class="keywordtype">int</span> i;
<a name="l01255"></a>01255    <span class="keywordflow">for</span> (i=0; i&lt; <a class="code" href="isdn__msg__parser_8c.html#fb31d24519cdc2207ed2d96e0575040f">msgs_max</a>; i++) 
<a name="l01256"></a>01256       <span class="keywordflow">if</span> ( <a class="code" href="manager_8h.html#4119639092e62c55ea8be348e4d9260d">event</a> == msgs[i].<a class="code" href="manager_8h.html#4119639092e62c55ea8be348e4d9260d">event</a>) <span class="keywordflow">return</span> i;
<a name="l01257"></a>01257 
<a name="l01258"></a>01258    <a class="code" href="isdn__lib_8h.html#83db1523eb652126bd05292c904f7986">cb_log</a>(10,0, <span class="stringliteral">"get_index: event not found!\n"</span>);
<a name="l01259"></a>01259    
<a name="l01260"></a>01260    <span class="keywordflow">return</span> -1;
<a name="l01261"></a>01261 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="8c23a5a0306d3c2ad0915dd7294665fb"></a><!-- doxytag: member="isdn_lib_intern.h::isdn_msg_get_info" ref="8c23a5a0306d3c2ad0915dd7294665fb" args="(struct isdn_msg msgs[], msg_t *msg, int nt)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">char* isdn_msg_get_info           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structisdn__msg.html">isdn_msg</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>msgs</em>[], </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>msg_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>nt</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="isdn__msg__parser_8c-source.html#l01270">1270</a> of file <a class="el" href="isdn__msg__parser_8c-source.html">isdn_msg_parser.c</a>.
<p>
References <a class="el" href="isdn__lib__intern_8h-source.html#l00045">isdn_msg::info</a>, and <a class="el" href="isdn__msg__parser_8c-source.html#l01231">isdn_msg_get_index()</a>.<div class="fragment"><pre class="fragment"><a name="l01271"></a>01271 {
<a name="l01272"></a>01272    <span class="keywordtype">int</span> i=<a class="code" href="isdn__lib__intern_8h.html#7b7d7ea7369d911eb4edad57898f8c55">isdn_msg_get_index</a>(msgs, <a class="code" href="adsistub_8c.html#6e2baaf3b97dbeef01c0043275f9a0e7">msg</a>, <a class="code" href="structmisdn__stack.html#25930e3036f13852cb0b29694bbab611">nt</a>);
<a name="l01273"></a>01273    <span class="keywordflow">if</span>(i&gt;=0) <span class="keywordflow">return</span> msgs[i].info;
<a name="l01274"></a>01274    <span class="keywordflow">return</span> NULL;
<a name="l01275"></a>01275 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="46f23b8b8004605130f76eb9324b4f68"></a><!-- doxytag: member="isdn_lib_intern.h::isdn_msg_parse_event" ref="46f23b8b8004605130f76eb9324b4f68" args="(struct isdn_msg msgs[], msg_t *frm, struct misdn_bchannel *bc, int nt)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int isdn_msg_parse_event           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structisdn__msg.html">isdn_msg</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>msgs</em>[], </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>msg_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>frm</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>struct <a class="el" href="structmisdn__bchannel.html">misdn_bchannel</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>bc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>nt</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="isdn__msg__parser_8c-source.html#l01309">1309</a> of file <a class="el" href="isdn__msg__parser_8c-source.html">isdn_msg_parser.c</a>.
<p>
References <a class="el" href="isdn__msg__parser_8c-source.html#l01231">isdn_msg_get_index()</a>, and <a class="el" href="structisdn__msg.html#eaa4672a0874b2672a45f03ad27761c2">isdn_msg::msg_parser</a>.
<p>
Referenced by <a class="el" href="isdn__lib_8c-source.html#l02576">handle_frm()</a>.<div class="fragment"><pre class="fragment"><a name="l01310"></a>01310 {
<a name="l01311"></a>01311    <span class="keywordtype">int</span> i=<a class="code" href="isdn__lib__intern_8h.html#7b7d7ea7369d911eb4edad57898f8c55">isdn_msg_get_index</a>(msgs, <a class="code" href="adsistub_8c.html#6e2baaf3b97dbeef01c0043275f9a0e7">msg</a>, <a class="code" href="structmisdn__stack.html#25930e3036f13852cb0b29694bbab611">nt</a>);
<a name="l01312"></a>01312    <span class="keywordflow">if</span>(i&lt;0) <span class="keywordflow">return</span> -1;
<a name="l01313"></a>01313 
<a name="l01314"></a>01314    msgs[i].msg_parser(msgs, <a class="code" href="adsistub_8c.html#6e2baaf3b97dbeef01c0043275f9a0e7">msg</a>, bc, <a class="code" href="structmisdn__stack.html#25930e3036f13852cb0b29694bbab611">nt</a>);
<a name="l01315"></a>01315    <span class="keywordflow">return</span> 0;
<a name="l01316"></a>01316 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="17add620022df3bf225c0d43f4011ef2"></a><!-- doxytag: member="isdn_lib_intern.h::astbuf" ref="17add620022df3bf225c0d43f4011ef2" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">ibuffer_t* <a class="el" href="isdn__lib__intern_8h.html#17add620022df3bf225c0d43f4011ef2">astbuf</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="isdn__lib__intern_8h-source.html#l00029">29</a> of file <a class="el" href="isdn__lib__intern_8h-source.html">isdn_lib_intern.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="0c8f33818af993d7712b650b4f9dc26a"></a><!-- doxytag: member="isdn_lib_intern.h::misdnbuf" ref="0c8f33818af993d7712b650b4f9dc26a" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">ibuffer_t* <a class="el" href="isdn__lib__intern_8h.html#0c8f33818af993d7712b650b4f9dc26a">misdnbuf</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="isdn__lib__intern_8h-source.html#l00030">30</a> of file <a class="el" href="isdn__lib__intern_8h-source.html">isdn_lib_intern.h</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Thu May 24 22:27:34 2007 for Asterisk - the Open Source PBX by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.5 </small></address>
</body>
</html>
