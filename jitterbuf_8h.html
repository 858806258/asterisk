<HTML>
    <HEAD>
      <TITLE>Asterisk.org: Developer Documentation (24 May 2007)</TITLE>
      <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
    </HEAD>
    <BODY BGCOLOR="#FFFFFF">
<div><font size="2" align="right">Thu May 24 22:27:35 2007</font></div>

<h2>Asterisk developer's documentation</h2>
<hr/>
<!-- Generated by Doxygen 1.4.5 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir__2Fusr_2Flocal_2Fsrc_2Fasterisk_2Esvn_2Fastum_2Finclude_2F.html">include</a></div>
<h1>jitterbuf.h File Reference</h1>
<p>
<a href="jitterbuf_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjb__conf.html">jb_conf</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjb__frame.html">jb_frame</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjb__info.html">jb_info</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjitterbuf.html">jitterbuf</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="jitterbuf_8h.html#4101aa44fa91c14af62fc4ba7675088a">JB_ADJUST_DELAY</a>&nbsp;&nbsp;&nbsp;40</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="jitterbuf_8h.html#1b96aa25b2a4ab7491e19acbda3f6d56">JB_HISTORY_DROPPCT</a>&nbsp;&nbsp;&nbsp;3</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="jitterbuf_8h.html#f80888f93ea36a934323097eda5278e0">JB_HISTORY_DROPPCT_MAX</a>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="jitterbuf_8h.html#b3065d3ee899c97f43621e77cbee2e71">JB_HISTORY_MAXBUF_SZ</a>&nbsp;&nbsp;&nbsp;JB_HISTORY_SZ * JB_HISTORY_DROPPCT_MAX / 100</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="jitterbuf_8h.html#32579fc7a7f2e59f4fd08e3bfb208335">JB_HISTORY_SZ</a>&nbsp;&nbsp;&nbsp;500</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="jitterbuf_8h.html#50964e0d9ad11cc7ae3f99d7715d49ec">JB_TARGET_EXTRA</a>&nbsp;&nbsp;&nbsp;40</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="structjb__conf.html">jb_conf</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="jitterbuf_8h.html#8c5c66a07841cf596e78c6c8abcecf81">jb_conf</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="structjb__frame.html">jb_frame</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="jitterbuf_8h.html#c6e17b6fffe776dba6f6815b149e398d">jb_frame</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="structjb__info.html">jb_info</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="jitterbuf_8h.html#abbda4c7c04213701b9fa0dc05709bca">jb_info</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="jitterbuf_8h.html#2150de1cc3db6db97212911fce0e7a64">jb_output_function_t</a> )(const char *<a class="el" href="strings_8h.html#7631454338ff70b1a6b1262f5f36beac">fmt</a>,...)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="structjitterbuf.html">jitterbuf</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="jitterbuf_8h.html#e991176aca70bbf593ac9fac2480698b">jitterbuf</a></td></tr>

<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="jitterbuf_8h.html#c5605e62bb981e98a342b8f9fe7f1f23">jb_frame_type</a> { <a class="el" href="jitterbuf_8h.html#c5605e62bb981e98a342b8f9fe7f1f2395e353ac90393540b321f815c6c4c473">JB_TYPE_CONTROL</a>, 
<a class="el" href="jitterbuf_8h.html#c5605e62bb981e98a342b8f9fe7f1f23fba690e11a4437569af666ce76f03d9e">JB_TYPE_VOICE</a>, 
<a class="el" href="jitterbuf_8h.html#c5605e62bb981e98a342b8f9fe7f1f23963a37d179023a918b828aff9750b52e">JB_TYPE_VIDEO</a>, 
<a class="el" href="jitterbuf_8h.html#c5605e62bb981e98a342b8f9fe7f1f234ff9d1c5b7582cac287b665d9178591d">JB_TYPE_SILENCE</a>
 }</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb5518">jb_return_code</a> { <br>
&nbsp;&nbsp;<a class="el" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb551827712cf5a0152fe8ead0017476296d58">JB_OK</a>, 
<a class="el" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb5518a00fb860c79a4e01c5174f56cff24e9a">JB_EMPTY</a>, 
<a class="el" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb551801c1ac379471c5f7c62009b7a2d032db">JB_NOFRAME</a>, 
<a class="el" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb5518f7955f9e95d05f185e2837903cf15655">JB_INTERP</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb551800a8a8d71e91c2ae944c387508497141">JB_DROP</a>, 
<a class="el" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb5518462d22d95fea20d0092502a75adf418c">JB_SCHED</a>
<br>
 }</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="jitterbuf_8h.html#e06a29c5463655025c826a363bb92ec8">jb_destroy</a> (<a class="el" href="structjitterbuf.html">jitterbuf</a> *jb)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum <a class="el" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb5518">jb_return_code</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="jitterbuf_8h.html#630693b7a77358b8558ed7a7686b025f">jb_get</a> (<a class="el" href="structjitterbuf.html">jitterbuf</a> *jb, <a class="el" href="structjb__frame.html">jb_frame</a> *frame, long now, long interpl)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum <a class="el" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb5518">jb_return_code</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="jitterbuf_8h.html#b9a275a51047f5bff6a4887c4c89cae3">jb_getall</a> (<a class="el" href="structjitterbuf.html">jitterbuf</a> *jb, <a class="el" href="structjb__frame.html">jb_frame</a> *frameout)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum <a class="el" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb5518">jb_return_code</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="jitterbuf_8h.html#9fe864d53499a53e770c4fffb5d126bc">jb_getinfo</a> (<a class="el" href="structjitterbuf.html">jitterbuf</a> *jb, <a class="el" href="structjb__info.html">jb_info</a> *stats)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structjitterbuf.html">jitterbuf</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="jitterbuf_8h.html#bc3e481627e01b28af2dbdc8182f6a3f">jb_new</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="jitterbuf_8h.html#af5594d9cfe17c618ad8bb155b6d129b">jb_next</a> (<a class="el" href="structjitterbuf.html">jitterbuf</a> *jb)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum <a class="el" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb5518">jb_return_code</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="jitterbuf_8h.html#218b07dc639e9850a05a81d8d334f07a">jb_put</a> (<a class="el" href="structjitterbuf.html">jitterbuf</a> *jb, void *data, const enum <a class="el" href="jitterbuf_8h.html#c5605e62bb981e98a342b8f9fe7f1f23">jb_frame_type</a> <a class="el" href="chan__nbs_8c.html#a73364531569a868150462e5a44f29c8">type</a>, long ms, long ts, long now)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="jitterbuf_8h.html#778d562bc6407ff0d62b78766d55c801">jb_reset</a> (<a class="el" href="structjitterbuf.html">jitterbuf</a> *jb)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum <a class="el" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb5518">jb_return_code</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="jitterbuf_8h.html#3b89e4b511067f91c9198c34e45e2ab4">jb_setconf</a> (<a class="el" href="structjitterbuf.html">jitterbuf</a> *jb, <a class="el" href="structjb__conf.html">jb_conf</a> *conf)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="jitterbuf_8h.html#1de484cce44942102e966e5fc1738fd7">jb_setoutput</a> (<a class="el" href="jitterbuf_8h.html#2150de1cc3db6db97212911fce0e7a64">jb_output_function_t</a> err, <a class="el" href="jitterbuf_8h.html#2150de1cc3db6db97212911fce0e7a64">jb_output_function_t</a> warn, <a class="el" href="jitterbuf_8h.html#2150de1cc3db6db97212911fce0e7a64">jb_output_function_t</a> dbg)</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="4101aa44fa91c14af62fc4ba7675088a"></a><!-- doxytag: member="jitterbuf.h::JB_ADJUST_DELAY" ref="4101aa44fa91c14af62fc4ba7675088a" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define JB_ADJUST_DELAY&nbsp;&nbsp;&nbsp;40          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="jitterbuf_8h-source.html#l00036">36</a> of file <a class="el" href="jitterbuf_8h-source.html">jitterbuf.h</a>.
<p>
Referenced by <a class="el" href="jitterbuf_8c-source.html#l00548">_jb_get()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="1b96aa25b2a4ab7491e19acbda3f6d56"></a><!-- doxytag: member="jitterbuf.h::JB_HISTORY_DROPPCT" ref="1b96aa25b2a4ab7491e19acbda3f6d56" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define JB_HISTORY_DROPPCT&nbsp;&nbsp;&nbsp;3          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="jitterbuf_8h-source.html#l00028">28</a> of file <a class="el" href="jitterbuf_8h-source.html">jitterbuf.h</a>.
<p>
Referenced by <a class="el" href="jitterbuf_8c-source.html#l00282">history_get()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="f80888f93ea36a934323097eda5278e0"></a><!-- doxytag: member="jitterbuf.h::JB_HISTORY_DROPPCT_MAX" ref="f80888f93ea36a934323097eda5278e0" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define JB_HISTORY_DROPPCT_MAX&nbsp;&nbsp;&nbsp;4          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="jitterbuf_8h-source.html#l00030">30</a> of file <a class="el" href="jitterbuf_8h-source.html">jitterbuf.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="b3065d3ee899c97f43621e77cbee2e71"></a><!-- doxytag: member="jitterbuf.h::JB_HISTORY_MAXBUF_SZ" ref="b3065d3ee899c97f43621e77cbee2e71" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define JB_HISTORY_MAXBUF_SZ&nbsp;&nbsp;&nbsp;JB_HISTORY_SZ * JB_HISTORY_DROPPCT_MAX / 100          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="jitterbuf_8h-source.html#l00032">32</a> of file <a class="el" href="jitterbuf_8h-source.html">jitterbuf.h</a>.
<p>
Referenced by <a class="el" href="jitterbuf_8c-source.html#l00205">history_calc_maxbuf()</a>, <a class="el" href="jitterbuf_8c-source.html#l00282">history_get()</a>, and <a class="el" href="jitterbuf_8c-source.html#l00130">history_put()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="32579fc7a7f2e59f4fd08e3bfb208335"></a><!-- doxytag: member="jitterbuf.h::JB_HISTORY_SZ" ref="32579fc7a7f2e59f4fd08e3bfb208335" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define JB_HISTORY_SZ&nbsp;&nbsp;&nbsp;500          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="jitterbuf_8h-source.html#l00025">25</a> of file <a class="el" href="jitterbuf_8h-source.html">jitterbuf.h</a>.
<p>
Referenced by <a class="el" href="jitterbuf_8c-source.html#l00205">history_calc_maxbuf()</a>, <a class="el" href="jitterbuf_8c-source.html#l00282">history_get()</a>, and <a class="el" href="jitterbuf_8c-source.html#l00130">history_put()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="50964e0d9ad11cc7ae3f99d7715d49ec"></a><!-- doxytag: member="jitterbuf.h::JB_TARGET_EXTRA" ref="50964e0d9ad11cc7ae3f99d7715d49ec" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define JB_TARGET_EXTRA&nbsp;&nbsp;&nbsp;40          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="jitterbuf_8h-source.html#l00034">34</a> of file <a class="el" href="jitterbuf_8h-source.html">jitterbuf.h</a>.
<p>
Referenced by <a class="el" href="jitterbuf_8c-source.html#l00075">jb_reset()</a>, and <a class="el" href="jitterbuf_8c-source.html#l00828">jb_setconf()</a>.    </td>
  </tr>
</table>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="8c5c66a07841cf596e78c6c8abcecf81"></a><!-- doxytag: member="jitterbuf.h::jb_conf" ref="8c5c66a07841cf596e78c6c8abcecf81" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef struct <a class="el" href="structjb__conf.html">jb_conf</a>  <a class="el" href="structjb__conf.html">jb_conf</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="c6e17b6fffe776dba6f6815b149e398d"></a><!-- doxytag: member="jitterbuf.h::jb_frame" ref="c6e17b6fffe776dba6f6815b149e398d" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef struct <a class="el" href="structjb__frame.html">jb_frame</a>  <a class="el" href="structjb__frame.html">jb_frame</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="abbda4c7c04213701b9fa0dc05709bca"></a><!-- doxytag: member="jitterbuf.h::jb_info" ref="abbda4c7c04213701b9fa0dc05709bca" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef struct <a class="el" href="structjb__info.html">jb_info</a>  <a class="el" href="structjb__info.html">jb_info</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="2150de1cc3db6db97212911fce0e7a64"></a><!-- doxytag: member="jitterbuf.h::jb_output_function_t" ref="2150de1cc3db6db97212911fce0e7a64" args=")(const char *fmt,...)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef void(* <a class="el" href="jitterbuf_8h.html#2150de1cc3db6db97212911fce0e7a64">jb_output_function_t</a>)(const char *<a class="el" href="strings_8h.html#7631454338ff70b1a6b1262f5f36beac">fmt</a>,...)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="jitterbuf_8h-source.html#l00155">155</a> of file <a class="el" href="jitterbuf_8h-source.html">jitterbuf.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="e991176aca70bbf593ac9fac2480698b"></a><!-- doxytag: member="jitterbuf.h::jitterbuf" ref="e991176aca70bbf593ac9fac2480698b" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef struct <a class="el" href="structjitterbuf.html">jitterbuf</a>  <a class="el" href="structjitterbuf.html">jitterbuf</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="c5605e62bb981e98a342b8f9fe7f1f23"></a><!-- doxytag: member="jitterbuf.h::jb_frame_type" ref="c5605e62bb981e98a342b8f9fe7f1f23" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="jitterbuf_8h.html#c5605e62bb981e98a342b8f9fe7f1f23">jb_frame_type</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="c5605e62bb981e98a342b8f9fe7f1f2395e353ac90393540b321f815c6c4c473"></a><!-- doxytag: member="JB_TYPE_CONTROL" ref="c5605e62bb981e98a342b8f9fe7f1f2395e353ac90393540b321f815c6c4c473" args="" -->JB_TYPE_CONTROL</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="c5605e62bb981e98a342b8f9fe7f1f23fba690e11a4437569af666ce76f03d9e"></a><!-- doxytag: member="JB_TYPE_VOICE" ref="c5605e62bb981e98a342b8f9fe7f1f23fba690e11a4437569af666ce76f03d9e" args="" -->JB_TYPE_VOICE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="c5605e62bb981e98a342b8f9fe7f1f23963a37d179023a918b828aff9750b52e"></a><!-- doxytag: member="JB_TYPE_VIDEO" ref="c5605e62bb981e98a342b8f9fe7f1f23963a37d179023a918b828aff9750b52e" args="" -->JB_TYPE_VIDEO</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="c5605e62bb981e98a342b8f9fe7f1f234ff9d1c5b7582cac287b665d9178591d"></a><!-- doxytag: member="JB_TYPE_SILENCE" ref="c5605e62bb981e98a342b8f9fe7f1f234ff9d1c5b7582cac287b665d9178591d" args="" -->JB_TYPE_SILENCE</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

<p>
Definition at line <a class="el" href="jitterbuf_8h-source.html#l00048">48</a> of file <a class="el" href="jitterbuf_8h-source.html">jitterbuf.h</a>.<div class="fragment"><pre class="fragment"><a name="l00048"></a>00048                    {
<a name="l00049"></a>00049    <span class="comment">/* frame types */</span>
<a name="l00050"></a>00050    <a class="code" href="jitterbuf_8h.html#c5605e62bb981e98a342b8f9fe7f1f2395e353ac90393540b321f815c6c4c473">JB_TYPE_CONTROL</a>,  <span class="comment">/* 0            */</span>
<a name="l00051"></a>00051    <a class="code" href="jitterbuf_8h.html#c5605e62bb981e98a342b8f9fe7f1f23fba690e11a4437569af666ce76f03d9e">JB_TYPE_VOICE</a>,    <span class="comment">/* 1            */</span>
<a name="l00052"></a>00052    <a class="code" href="jitterbuf_8h.html#c5605e62bb981e98a342b8f9fe7f1f23963a37d179023a918b828aff9750b52e">JB_TYPE_VIDEO</a>,    <span class="comment">/* 2 - reserved */</span>
<a name="l00053"></a>00053    <a class="code" href="jitterbuf_8h.html#c5605e62bb981e98a342b8f9fe7f1f234ff9d1c5b7582cac287b665d9178591d">JB_TYPE_SILENCE</a>   <span class="comment">/* 3            */</span>
<a name="l00054"></a>00054 };
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="8213605ca06c98c3dd8bb2b834fb5518"></a><!-- doxytag: member="jitterbuf.h::jb_return_code" ref="8213605ca06c98c3dd8bb2b834fb5518" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb5518">jb_return_code</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="8213605ca06c98c3dd8bb2b834fb551827712cf5a0152fe8ead0017476296d58"></a><!-- doxytag: member="JB_OK" ref="8213605ca06c98c3dd8bb2b834fb551827712cf5a0152fe8ead0017476296d58" args="" -->JB_OK</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="8213605ca06c98c3dd8bb2b834fb5518a00fb860c79a4e01c5174f56cff24e9a"></a><!-- doxytag: member="JB_EMPTY" ref="8213605ca06c98c3dd8bb2b834fb5518a00fb860c79a4e01c5174f56cff24e9a" args="" -->JB_EMPTY</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="8213605ca06c98c3dd8bb2b834fb551801c1ac379471c5f7c62009b7a2d032db"></a><!-- doxytag: member="JB_NOFRAME" ref="8213605ca06c98c3dd8bb2b834fb551801c1ac379471c5f7c62009b7a2d032db" args="" -->JB_NOFRAME</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="8213605ca06c98c3dd8bb2b834fb5518f7955f9e95d05f185e2837903cf15655"></a><!-- doxytag: member="JB_INTERP" ref="8213605ca06c98c3dd8bb2b834fb5518f7955f9e95d05f185e2837903cf15655" args="" -->JB_INTERP</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="8213605ca06c98c3dd8bb2b834fb551800a8a8d71e91c2ae944c387508497141"></a><!-- doxytag: member="JB_DROP" ref="8213605ca06c98c3dd8bb2b834fb551800a8a8d71e91c2ae944c387508497141" args="" -->JB_DROP</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="8213605ca06c98c3dd8bb2b834fb5518462d22d95fea20d0092502a75adf418c"></a><!-- doxytag: member="JB_SCHED" ref="8213605ca06c98c3dd8bb2b834fb5518462d22d95fea20d0092502a75adf418c" args="" -->JB_SCHED</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

<p>
Definition at line <a class="el" href="jitterbuf_8h-source.html#l00038">38</a> of file <a class="el" href="jitterbuf_8h-source.html">jitterbuf.h</a>.<div class="fragment"><pre class="fragment"><a name="l00038"></a>00038                     {
<a name="l00039"></a>00039    <span class="comment">/* return codes */</span>
<a name="l00040"></a>00040    <a class="code" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb551827712cf5a0152fe8ead0017476296d58">JB_OK</a>,            <span class="comment">/* 0 */</span>
<a name="l00041"></a>00041    <a class="code" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb5518a00fb860c79a4e01c5174f56cff24e9a">JB_EMPTY</a>,         <span class="comment">/* 1 */</span>
<a name="l00042"></a>00042    <a class="code" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb551801c1ac379471c5f7c62009b7a2d032db">JB_NOFRAME</a>,       <span class="comment">/* 2 */</span>
<a name="l00043"></a>00043    <a class="code" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb5518f7955f9e95d05f185e2837903cf15655">JB_INTERP</a>,        <span class="comment">/* 3 */</span>
<a name="l00044"></a>00044    <a class="code" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb551800a8a8d71e91c2ae944c387508497141">JB_DROP</a>,          <span class="comment">/* 4 */</span>
<a name="l00045"></a>00045    <a class="code" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb5518462d22d95fea20d0092502a75adf418c">JB_SCHED</a>          <span class="comment">/* 5 */</span>
<a name="l00046"></a>00046 };
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="e06a29c5463655025c826a363bb92ec8"></a><!-- doxytag: member="jitterbuf.h::jb_destroy" ref="e06a29c5463655025c826a363bb92ec8" args="(jitterbuf *jb)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void jb_destroy           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structjitterbuf.html">jitterbuf</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>jb</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="jitterbuf_8c-source.html#l00100">100</a> of file <a class="el" href="jitterbuf_8c-source.html">jitterbuf.c</a>.
<p>
References <a class="el" href="astmm_8h-source.html#l00069">free</a>, <a class="el" href="jitterbuf_8h-source.html#l00110">jitterbuf::free</a>, <a class="el" href="jitterbuf_8c-source.html#l00053">jb_dbg2</a>, and <a class="el" href="jitterbuf_8h-source.html#l00095">jb_frame::next</a>.
<p>
Referenced by <a class="el" href="chan__iax2_8c-source.html#l01823">iax2_destroy()</a>, and <a class="el" href="abstract__jb_8c-source.html#l00720">jb_destroy_adaptive()</a>.<div class="fragment"><pre class="fragment"><a name="l00101"></a>00101 {
<a name="l00102"></a>00102    <a class="code" href="structjb__frame.html">jb_frame</a> *frame; 
<a name="l00103"></a>00103    <a class="code" href="jitterbuf_8c.html#4c4eb44cf519f76c7cefa5a953639878">jb_dbg2</a>(<span class="stringliteral">"jb_destroy(%x)\n"</span>, jb);
<a name="l00104"></a>00104 
<a name="l00105"></a>00105    <span class="comment">/* free all the frames on the "free list" */</span>
<a name="l00106"></a>00106    frame = jb-&gt;<a class="code" href="structjitterbuf.html#aa2d6e4f578eb0cfaba23beef76c2194">free</a>;
<a name="l00107"></a>00107    <span class="keywordflow">while</span> (frame != NULL) {
<a name="l00108"></a>00108       <a class="code" href="structjb__frame.html">jb_frame</a> *next = frame-&gt;<a class="code" href="structjb__frame.html#d0cab90d8d20d57e2f2b9be52f7dd25d">next</a>;
<a name="l00109"></a>00109       <a class="code" href="astmm_8h.html#eb051e552619427a26721b1a925a56e8">free</a>(frame);
<a name="l00110"></a>00110       frame = next;
<a name="l00111"></a>00111    }
<a name="l00112"></a>00112 
<a name="l00113"></a>00113    <span class="comment">/* free ourselves! */</span> 
<a name="l00114"></a>00114    <a class="code" href="astmm_8h.html#eb051e552619427a26721b1a925a56e8">free</a>(jb);
<a name="l00115"></a>00115 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="630693b7a77358b8558ed7a7686b025f"></a><!-- doxytag: member="jitterbuf.h::jb_get" ref="630693b7a77358b8558ed7a7686b025f" args="(jitterbuf *jb, jb_frame *frame, long now, long interpl)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb5518">jb_return_code</a> jb_get           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structjitterbuf.html">jitterbuf</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>jb</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structjb__frame.html">jb_frame</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>frame</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap> <em>now</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap> <em>interpl</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="jitterbuf_8c-source.html#l00788">788</a> of file <a class="el" href="jitterbuf_8c-source.html">jitterbuf.c</a>.
<p>
References <a class="el" href="jitterbuf_8c-source.html#l00548">_jb_get()</a>, <a class="el" href="jitterbuf_8h-source.html#l00099">jitterbuf::info</a>, <a class="el" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb551800a8a8d71e91c2ae944c387508497141">JB_DROP</a>, <a class="el" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb5518f7955f9e95d05f185e2837903cf15655">JB_INTERP</a>, <a class="el" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb551827712cf5a0152fe8ead0017476296d58">JB_OK</a>, <a class="el" href="jitterbuf_8c-source.html#l00046">jb_warn</a>, <a class="el" href="jitterbuf_8h-source.html#l00081">jb_info::last_voice_ms</a>, <a class="el" href="jitterbuf_8h-source.html#l00093">jb_frame::ms</a>, and <a class="el" href="jitterbuf_8h-source.html#l00092">jb_frame::ts</a>.
<p>
Referenced by <a class="el" href="chan__iax2_8c-source.html#l02337">__get_from_jb()</a>, and <a class="el" href="abstract__jb_8c-source.html#l00745">jb_get_adaptive()</a>.<div class="fragment"><pre class="fragment"><a name="l00789"></a>00789 {
<a name="l00790"></a>00790    <span class="keyword">enum</span> <a class="code" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb5518">jb_return_code</a> ret = <a class="code" href="jitterbuf_8c.html#9f9cd1fb30fb42096a1815385e1e318b">_jb_get</a>(jb, frameout, now, interpl);
<a name="l00791"></a>00791 <span class="preprocessor">#if 0</span>
<a name="l00792"></a>00792 <span class="preprocessor"></span>   <span class="keyword">static</span> <span class="keywordtype">int</span> lastts=0;
<a name="l00793"></a>00793    <span class="keywordtype">int</span> thists = ((ret == <a class="code" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb551827712cf5a0152fe8ead0017476296d58">JB_OK</a>) || (ret == <a class="code" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb551800a8a8d71e91c2ae944c387508497141">JB_DROP</a>)) ? frameout-&gt;ts : 0;
<a name="l00794"></a>00794    <a class="code" href="jitterbuf_8c.html#fb4d56c0f6414f4b1423ecb9d05212cb">jb_warn</a>(<span class="stringliteral">"jb_get(%x,%x,%ld) = %d (%d)\n"</span>, jb, frameout, now, ret, thists);
<a name="l00795"></a>00795    <span class="keywordflow">if</span> (thists &amp;&amp; thists &lt; lastts) <a class="code" href="jitterbuf_8c.html#fb4d56c0f6414f4b1423ecb9d05212cb">jb_warn</a>(<span class="stringliteral">"XXXX timestamp roll-back!!!\n"</span>);
<a name="l00796"></a>00796    lastts = thists;
<a name="l00797"></a>00797 <span class="preprocessor">#endif</span>
<a name="l00798"></a>00798 <span class="preprocessor"></span>   <span class="keywordflow">if</span> (ret == <a class="code" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb5518f7955f9e95d05f185e2837903cf15655">JB_INTERP</a>) 
<a name="l00799"></a>00799       frameout-&gt;ms = jb-&gt;<a class="code" href="structjitterbuf.html#caf9b6b99962bf5c2264824231d7a40c">info</a>.<a class="code" href="structjb__info.html#aa94a13e415e2513bfbc72e4e5b7a31c">last_voice_ms</a>;
<a name="l00800"></a>00800    
<a name="l00801"></a>00801    <span class="keywordflow">return</span> ret;
<a name="l00802"></a>00802 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b9a275a51047f5bff6a4887c4c89cae3"></a><!-- doxytag: member="jitterbuf.h::jb_getall" ref="b9a275a51047f5bff6a4887c4c89cae3" args="(jitterbuf *jb, jb_frame *frameout)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb5518">jb_return_code</a> jb_getall           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structjitterbuf.html">jitterbuf</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>jb</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structjb__frame.html">jb_frame</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>frameout</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="jitterbuf_8c-source.html#l00804">804</a> of file <a class="el" href="jitterbuf_8c-source.html">jitterbuf.c</a>.
<p>
References <a class="el" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb551801c1ac379471c5f7c62009b7a2d032db">JB_NOFRAME</a>, <a class="el" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb551827712cf5a0152fe8ead0017476296d58">JB_OK</a>, and <a class="el" href="jitterbuf_8c-source.html#l00442">queue_getall()</a>.
<p>
Referenced by <a class="el" href="chan__iax2_8c-source.html#l05467">complete_transfer()</a>, <a class="el" href="chan__iax2_8c-source.html#l01823">iax2_destroy()</a>, and <a class="el" href="abstract__jb_8c-source.html#l00766">jb_remove_adaptive()</a>.<div class="fragment"><pre class="fragment"><a name="l00805"></a>00805 {
<a name="l00806"></a>00806    <a class="code" href="structjb__frame.html">jb_frame</a> *frame;
<a name="l00807"></a>00807    frame = <a class="code" href="jitterbuf_8c.html#821bdf5b49348d7556719eec106362dc">queue_getall</a>(jb);
<a name="l00808"></a>00808 
<a name="l00809"></a>00809    <span class="keywordflow">if</span> (!frame) {
<a name="l00810"></a>00810       <span class="keywordflow">return</span> <a class="code" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb551801c1ac379471c5f7c62009b7a2d032db">JB_NOFRAME</a>;
<a name="l00811"></a>00811    }
<a name="l00812"></a>00812 
<a name="l00813"></a>00813    *frameout = *frame;
<a name="l00814"></a>00814    <span class="keywordflow">return</span> <a class="code" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb551827712cf5a0152fe8ead0017476296d58">JB_OK</a>;
<a name="l00815"></a>00815 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="9fe864d53499a53e770c4fffb5d126bc"></a><!-- doxytag: member="jitterbuf.h::jb_getinfo" ref="9fe864d53499a53e770c4fffb5d126bc" args="(jitterbuf *jb, jb_info *stats)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb5518">jb_return_code</a> jb_getinfo           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structjitterbuf.html">jitterbuf</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>jb</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structjb__info.html">jb_info</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>stats</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="jitterbuf_8c-source.html#l00818">818</a> of file <a class="el" href="jitterbuf_8c-source.html">jitterbuf.c</a>.
<p>
References <a class="el" href="jitterbuf_8c-source.html#l00282">history_get()</a>, <a class="el" href="jitterbuf_8h-source.html#l00099">jitterbuf::info</a>, and <a class="el" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb551827712cf5a0152fe8ead0017476296d58">JB_OK</a>.
<p>
Referenced by <a class="el" href="chan__iax2_8c-source.html#l04530">ast_cli_netstats()</a>, <a class="el" href="chan__iax2_8c-source.html#l06373">construct_rr()</a>, and <a class="el" href="chan__iax2_8c-source.html#l04483">iax2_show_channels()</a>.<div class="fragment"><pre class="fragment"><a name="l00819"></a>00819 {
<a name="l00820"></a>00820 
<a name="l00821"></a>00821    <a class="code" href="jitterbuf_8c.html#b462dcd860fee9647c060df366510a3a">history_get</a>(jb);
<a name="l00822"></a>00822 
<a name="l00823"></a>00823    *stats = jb-&gt;<a class="code" href="structjitterbuf.html#caf9b6b99962bf5c2264824231d7a40c">info</a>;
<a name="l00824"></a>00824 
<a name="l00825"></a>00825    <span class="keywordflow">return</span> <a class="code" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb551827712cf5a0152fe8ead0017476296d58">JB_OK</a>;
<a name="l00826"></a>00826 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="bc3e481627e01b28af2dbdc8182f6a3f"></a><!-- doxytag: member="jitterbuf.h::jb_new" ref="bc3e481627e01b28af2dbdc8182f6a3f" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="structjitterbuf.html">jitterbuf</a>* jb_new           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="jitterbuf_8c-source.html#l00087">87</a> of file <a class="el" href="jitterbuf_8c-source.html">jitterbuf.c</a>.
<p>
References <a class="el" href="utils_8h-source.html#l00359">ast_malloc</a>, <a class="el" href="jitterbuf_8c-source.html#l00053">jb_dbg2</a>, and <a class="el" href="jitterbuf_8c-source.html#l00075">jb_reset()</a>.
<p>
Referenced by <a class="el" href="abstract__jb_8c-source.html#l00703">jb_create_adaptive()</a>, and <a class="el" href="chan__iax2_8c-source.html#l01141">new_iax()</a>.<div class="fragment"><pre class="fragment"><a name="l00088"></a>00088 {
<a name="l00089"></a>00089    <a class="code" href="structjitterbuf.html">jitterbuf</a> *jb;
<a name="l00090"></a>00090 
<a name="l00091"></a>00091    <span class="keywordflow">if</span> (!(jb = <a class="code" href="utils_8h.html#efc2f2f953e736b509e4a2cee96151db">ast_malloc</a>(<span class="keyword">sizeof</span>(*jb)))) 
<a name="l00092"></a>00092       <span class="keywordflow">return</span> NULL;
<a name="l00093"></a>00093 
<a name="l00094"></a>00094    <a class="code" href="jitterbuf_8c.html#778d562bc6407ff0d62b78766d55c801">jb_reset</a>(jb);
<a name="l00095"></a>00095 
<a name="l00096"></a>00096    <a class="code" href="jitterbuf_8c.html#4c4eb44cf519f76c7cefa5a953639878">jb_dbg2</a>(<span class="stringliteral">"jb_new() = %x\n"</span>, jb);
<a name="l00097"></a>00097    <span class="keywordflow">return</span> jb;
<a name="l00098"></a>00098 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="af5594d9cfe17c618ad8bb155b6d129b"></a><!-- doxytag: member="jitterbuf.h::jb_next" ref="af5594d9cfe17c618ad8bb155b6d129b" args="(jitterbuf *jb)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">long jb_next           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structjitterbuf.html">jitterbuf</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>jb</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="jitterbuf_8c-source.html#l00770">770</a> of file <a class="el" href="jitterbuf_8c-source.html">jitterbuf.c</a>.
<p>
References <a class="el" href="jitterbuf_8h-source.html#l00065">jb_info::conf</a>, <a class="el" href="jitterbuf_8h-source.html#l00077">jb_info::current</a>, <a class="el" href="jitterbuf_8h-source.html#l00109">jitterbuf::frames</a>, <a class="el" href="jitterbuf_8c-source.html#l00282">history_get()</a>, <a class="el" href="jitterbuf_8h-source.html#l00099">jitterbuf::info</a>, <a class="el" href="jitterbuf_8c-source.html#l00043">JB_LONGMAX</a>, <a class="el" href="jitterbuf_8h-source.html#l00083">jb_info::last_adjustment</a>, <a class="el" href="jitterbuf_8h-source.html#l00080">jb_info::next_voice_ts</a>, <a class="el" href="jitterbuf_8c-source.html#l00386">queue_next()</a>, <a class="el" href="jitterbuf_8h-source.html#l00082">jb_info::silence_begin_ts</a>, <a class="el" href="jitterbuf_8h-source.html#l00078">jb_info::target</a>, and <a class="el" href="jitterbuf_8h-source.html#l00061">jb_conf::target_extra</a>.
<p>
Referenced by <a class="el" href="chan__iax2_8c-source.html#l02337">__get_from_jb()</a>, <a class="el" href="abstract__jb_8c-source.html#l00758">jb_next_adaptive()</a>, and <a class="el" href="chan__iax2_8c-source.html#l02316">update_jbsched()</a>.<div class="fragment"><pre class="fragment"><a name="l00771"></a>00771 {
<a name="l00772"></a>00772    <span class="keywordflow">if</span> (jb-&gt;<a class="code" href="structjitterbuf.html#caf9b6b99962bf5c2264824231d7a40c">info</a>.<a class="code" href="structjb__info.html#db9afe3ebe75e3f33c4e8ec92a7827a5">silence_begin_ts</a>) {
<a name="l00773"></a>00773       <span class="keywordflow">if</span> (jb-&gt;<a class="code" href="structjitterbuf.html#dcdc1ac079a91d513a5a759b0fb9c1dc">frames</a>) {
<a name="l00774"></a>00774          <span class="keywordtype">long</span> next = <a class="code" href="jitterbuf_8c.html#2c4a53a542cc534c3e666ea287a22879">queue_next</a>(jb);
<a name="l00775"></a>00775          <a class="code" href="jitterbuf_8c.html#b462dcd860fee9647c060df366510a3a">history_get</a>(jb);
<a name="l00776"></a>00776          <span class="comment">/* shrink during silence */</span>
<a name="l00777"></a>00777          <span class="keywordflow">if</span> (jb-&gt;<a class="code" href="structjitterbuf.html#caf9b6b99962bf5c2264824231d7a40c">info</a>.<a class="code" href="structjb__info.html#42aefbae01d2dfd981f7da7d823d689e">target</a> - jb-&gt;<a class="code" href="structjitterbuf.html#caf9b6b99962bf5c2264824231d7a40c">info</a>.<a class="code" href="structjb__info.html#43b5c9175984c071f30b873fdce0a000">current</a> &lt; -jb-&gt;<a class="code" href="structjitterbuf.html#caf9b6b99962bf5c2264824231d7a40c">info</a>.<a class="code" href="structjb__info.html#3a8e4c06e471595f6eb262bb9b5582d9">conf</a>.<a class="code" href="structjb__conf.html#716dae26bc454cd685ee806387f30489">target_extra</a>)
<a name="l00778"></a>00778             <span class="keywordflow">return</span> jb-&gt;<a class="code" href="structjitterbuf.html#caf9b6b99962bf5c2264824231d7a40c">info</a>.<a class="code" href="structjb__info.html#a1f9376923e9b7b107bbdab7d54d23bd">last_adjustment</a> + 10;
<a name="l00779"></a>00779          <span class="keywordflow">return</span> next + jb-&gt;<a class="code" href="structjitterbuf.html#caf9b6b99962bf5c2264824231d7a40c">info</a>.<a class="code" href="structjb__info.html#42aefbae01d2dfd981f7da7d823d689e">target</a>;
<a name="l00780"></a>00780       }
<a name="l00781"></a>00781       <span class="keywordflow">else</span> 
<a name="l00782"></a>00782          <span class="keywordflow">return</span> <a class="code" href="jitterbuf_8c.html#1eefdff5c3c67461c3d55d33967f4c01">JB_LONGMAX</a>;
<a name="l00783"></a>00783    } <span class="keywordflow">else</span> {
<a name="l00784"></a>00784       <span class="keywordflow">return</span> jb-&gt;<a class="code" href="structjitterbuf.html#caf9b6b99962bf5c2264824231d7a40c">info</a>.<a class="code" href="structjb__info.html#da8a6e6cb528f0cc066a4372983036be">next_voice_ts</a>;
<a name="l00785"></a>00785    }
<a name="l00786"></a>00786 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="218b07dc639e9850a05a81d8d334f07a"></a><!-- doxytag: member="jitterbuf.h::jb_put" ref="218b07dc639e9850a05a81d8d334f07a" args="(jitterbuf *jb, void *data, const enum jb_frame_type type, long ms, long ts, long now)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb5518">jb_return_code</a> jb_put           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structjitterbuf.html">jitterbuf</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>jb</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const enum <a class="el" href="jitterbuf_8h.html#c5605e62bb981e98a342b8f9fe7f1f23">jb_frame_type</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap> <em>ms</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap> <em>ts</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap> <em>now</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="jitterbuf_8c-source.html#l00513">513</a> of file <a class="el" href="jitterbuf_8c-source.html">jitterbuf.c</a>.
<p>
References <a class="el" href="logger_8c-source.html#l00866">ast_log()</a>, <a class="el" href="jitterbuf_8h-source.html#l00065">jb_info::conf</a>, <a class="el" href="jitterbuf_8h-source.html#l00107">jitterbuf::dropem</a>, <a class="el" href="jitterbuf_8h-source.html#l00109">jitterbuf::frames</a>, <a class="el" href="jitterbuf_8h-source.html#l00068">jb_info::frames_in</a>, <a class="el" href="jitterbuf_8c-source.html#l00130">history_put()</a>, <a class="el" href="jitterbuf_8h-source.html#l00099">jitterbuf::info</a>, <a class="el" href="jitterbuf_8c-source.html#l00053">jb_dbg2</a>, <a class="el" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb551800a8a8d71e91c2ae944c387508497141">JB_DROP</a>, <a class="el" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb551827712cf5a0152fe8ead0017476296d58">JB_OK</a>, <a class="el" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb5518462d22d95fea20d0092502a75adf418c">JB_SCHED</a>, <a class="el" href="jitterbuf_8h.html#c5605e62bb981e98a342b8f9fe7f1f23fba690e11a4437569af666ce76f03d9e">JB_TYPE_VOICE</a>, <a class="el" href="logger_8h-source.html#l00094">LOG_DEBUG</a>, <a class="el" href="jitterbuf_8h-source.html#l00058">jb_conf::max_jitterbuf</a>, <a class="el" href="jitterbuf_8h-source.html#l00095">jb_frame::prev</a>, <a class="el" href="jitterbuf_8c-source.html#l00325">queue_put()</a>, and <a class="el" href="jitterbuf_8h-source.html#l00092">jb_frame::ts</a>.
<p>
Referenced by <a class="el" href="abstract__jb_8c-source.html#l00734">jb_put_adaptive()</a>.<div class="fragment"><pre class="fragment"><a name="l00514"></a>00514 {
<a name="l00515"></a>00515    <span class="keywordtype">long</span> numts;
<a name="l00516"></a>00516 
<a name="l00517"></a>00517    <a class="code" href="jitterbuf_8c.html#4c4eb44cf519f76c7cefa5a953639878">jb_dbg2</a>(<span class="stringliteral">"jb_put(%x,%x,%ld,%ld,%ld)\n"</span>, jb, data, ms, ts, now);
<a name="l00518"></a>00518 
<a name="l00519"></a>00519    jb-&gt;<a class="code" href="structjitterbuf.html#caf9b6b99962bf5c2264824231d7a40c">info</a>.<a class="code" href="structjb__info.html#e53de58e8b061bf4d0af964693a2a34d">frames_in</a>++;
<a name="l00520"></a>00520 
<a name="l00521"></a>00521    <span class="keywordflow">if</span> (jb-&gt;<a class="code" href="structjitterbuf.html#dcdc1ac079a91d513a5a759b0fb9c1dc">frames</a> &amp;&amp; jb-&gt;<a class="code" href="structjitterbuf.html#63c1ef18d044de3fb86f920103fe37a1">dropem</a>) 
<a name="l00522"></a>00522       <span class="keywordflow">return</span> <a class="code" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb551800a8a8d71e91c2ae944c387508497141">JB_DROP</a>;
<a name="l00523"></a>00523    jb-&gt;<a class="code" href="structjitterbuf.html#63c1ef18d044de3fb86f920103fe37a1">dropem</a> = 0;
<a name="l00524"></a>00524 
<a name="l00525"></a>00525    <span class="keywordflow">if</span> (<a class="code" href="rtp_8c.html#599dcce2998a6b40b1e38e8c6006cb0a">type</a> == <a class="code" href="jitterbuf_8h.html#c5605e62bb981e98a342b8f9fe7f1f23fba690e11a4437569af666ce76f03d9e">JB_TYPE_VOICE</a>) {
<a name="l00526"></a>00526       <span class="comment">/* presently, I'm only adding VOICE frames to history and drift calculations; mostly because with the</span>
<a name="l00527"></a>00527 <span class="comment">       * IAX integrations, I'm sending retransmitted control frames with their awkward timestamps through */</span>
<a name="l00528"></a>00528       <span class="keywordflow">if</span> (<a class="code" href="jitterbuf_8c.html#064c3f8f1778a1d7bc3b912c48e7831d">history_put</a>(jb,ts,now,ms))
<a name="l00529"></a>00529          <span class="keywordflow">return</span> <a class="code" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb551800a8a8d71e91c2ae944c387508497141">JB_DROP</a>;
<a name="l00530"></a>00530    }
<a name="l00531"></a>00531    numts = 0;
<a name="l00532"></a>00532    <span class="keywordflow">if</span> (jb-&gt;<a class="code" href="structjitterbuf.html#dcdc1ac079a91d513a5a759b0fb9c1dc">frames</a>)
<a name="l00533"></a>00533       numts = jb-&gt;<a class="code" href="structjitterbuf.html#dcdc1ac079a91d513a5a759b0fb9c1dc">frames</a>-&gt;<a class="code" href="structjb__frame.html#fcb08b164ac83e09964deb24f2d2e80b">prev</a>-&gt;<a class="code" href="structjb__frame.html#4d682ec4eed27c53849758bc13b6e179">ts</a> - jb-&gt;<a class="code" href="structjitterbuf.html#dcdc1ac079a91d513a5a759b0fb9c1dc">frames</a>-&gt;<a class="code" href="structjb__frame.html#4d682ec4eed27c53849758bc13b6e179">ts</a>;
<a name="l00534"></a>00534    <span class="keywordflow">if</span> (numts &gt;= jb-&gt;<a class="code" href="structjitterbuf.html#caf9b6b99962bf5c2264824231d7a40c">info</a>.<a class="code" href="structjb__info.html#3a8e4c06e471595f6eb262bb9b5582d9">conf</a>.<a class="code" href="structjb__conf.html#2900c3dcf33f27aab1a7dedd7e6880a0">max_jitterbuf</a>) {
<a name="l00535"></a>00535       <a class="code" href="logger_8c.html#46fbacc19de763bbca2547c1a9c6a5fa">ast_log</a>(<a class="code" href="logger_8h.html#eded50d942c7c2d37d09ba8241ff017f">LOG_DEBUG</a>, <span class="stringliteral">"Attempting to exceed Jitterbuf max %ld timeslots\n"</span>,
<a name="l00536"></a>00536          jb-&gt;<a class="code" href="structjitterbuf.html#caf9b6b99962bf5c2264824231d7a40c">info</a>.<a class="code" href="structjb__info.html#3a8e4c06e471595f6eb262bb9b5582d9">conf</a>.<a class="code" href="structjb__conf.html#2900c3dcf33f27aab1a7dedd7e6880a0">max_jitterbuf</a>);
<a name="l00537"></a>00537       jb-&gt;<a class="code" href="structjitterbuf.html#63c1ef18d044de3fb86f920103fe37a1">dropem</a> = 1;
<a name="l00538"></a>00538       <span class="keywordflow">return</span> <a class="code" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb551800a8a8d71e91c2ae944c387508497141">JB_DROP</a>;
<a name="l00539"></a>00539    }
<a name="l00540"></a>00540    <span class="comment">/* if put into head of queue, caller needs to reschedule */</span>
<a name="l00541"></a>00541    <span class="keywordflow">if</span> (<a class="code" href="jitterbuf_8c.html#ef3bf9556e26d6b090b2fe196bd129e5">queue_put</a>(jb,data,<a class="code" href="rtp_8c.html#599dcce2998a6b40b1e38e8c6006cb0a">type</a>,ms,ts)) {
<a name="l00542"></a>00542       <span class="keywordflow">return</span> <a class="code" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb5518462d22d95fea20d0092502a75adf418c">JB_SCHED</a>;
<a name="l00543"></a>00543    }
<a name="l00544"></a>00544    <span class="keywordflow">return</span> <a class="code" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb551827712cf5a0152fe8ead0017476296d58">JB_OK</a>;
<a name="l00545"></a>00545 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="778d562bc6407ff0d62b78766d55c801"></a><!-- doxytag: member="jitterbuf.h::jb_reset" ref="778d562bc6407ff0d62b78766d55c801" args="(jitterbuf *jb)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void jb_reset           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structjitterbuf.html">jitterbuf</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>jb</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="jitterbuf_8c-source.html#l00075">75</a> of file <a class="el" href="jitterbuf_8c-source.html">jitterbuf.c</a>.
<p>
References <a class="el" href="jitterbuf_8h-source.html#l00034">JB_TARGET_EXTRA</a>, <a class="el" href="aesopt_8h-source.html#l00399">s</a>, and <a class="el" href="jitterbuf_8h-source.html#l00061">jb_conf::target_extra</a>.
<p>
Referenced by <a class="el" href="chan__iax2_8c-source.html#l05467">complete_transfer()</a>, and <a class="el" href="jitterbuf_8c-source.html#l00087">jb_new()</a>.<div class="fragment"><pre class="fragment"><a name="l00076"></a>00076 {
<a name="l00077"></a>00077    <span class="comment">/* only save settings */</span>
<a name="l00078"></a>00078    <a class="code" href="structjb__conf.html">jb_conf</a> <a class="code" href="aesopt_8h.html#8d6242bc80162ac99dd4d368eabe77cc">s</a> = jb-&gt;<a class="code" href="structjitterbuf.html#caf9b6b99962bf5c2264824231d7a40c">info</a>.<a class="code" href="structjb__info.html#3a8e4c06e471595f6eb262bb9b5582d9">conf</a>;
<a name="l00079"></a>00079    memset(jb, 0, <span class="keyword">sizeof</span>(*jb));
<a name="l00080"></a>00080    jb-&gt;<a class="code" href="structjitterbuf.html#caf9b6b99962bf5c2264824231d7a40c">info</a>.<a class="code" href="structjb__info.html#3a8e4c06e471595f6eb262bb9b5582d9">conf</a> = s;
<a name="l00081"></a>00081 
<a name="l00082"></a>00082    <span class="comment">/* initialize length, using the default value */</span>
<a name="l00083"></a>00083    jb-&gt;<a class="code" href="structjitterbuf.html#caf9b6b99962bf5c2264824231d7a40c">info</a>.<a class="code" href="structjb__info.html#43b5c9175984c071f30b873fdce0a000">current</a> = jb-&gt;<a class="code" href="structjitterbuf.html#caf9b6b99962bf5c2264824231d7a40c">info</a>.<a class="code" href="structjb__info.html#42aefbae01d2dfd981f7da7d823d689e">target</a> = jb-&gt;<a class="code" href="structjitterbuf.html#caf9b6b99962bf5c2264824231d7a40c">info</a>.<a class="code" href="structjb__info.html#3a8e4c06e471595f6eb262bb9b5582d9">conf</a>.<a class="code" href="structjb__conf.html#716dae26bc454cd685ee806387f30489">target_extra</a> = <a class="code" href="jitterbuf_8h.html#50964e0d9ad11cc7ae3f99d7715d49ec">JB_TARGET_EXTRA</a>;
<a name="l00084"></a>00084    jb-&gt;<a class="code" href="structjitterbuf.html#caf9b6b99962bf5c2264824231d7a40c">info</a>.<a class="code" href="structjb__info.html#db9afe3ebe75e3f33c4e8ec92a7827a5">silence_begin_ts</a> = -1; 
<a name="l00085"></a>00085 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="3b89e4b511067f91c9198c34e45e2ab4"></a><!-- doxytag: member="jitterbuf.h::jb_setconf" ref="3b89e4b511067f91c9198c34e45e2ab4" args="(jitterbuf *jb, jb_conf *conf)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb5518">jb_return_code</a> jb_setconf           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structjitterbuf.html">jitterbuf</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>jb</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structjb__conf.html">jb_conf</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>conf</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="jitterbuf_8c-source.html#l00828">828</a> of file <a class="el" href="jitterbuf_8c-source.html">jitterbuf.c</a>.
<p>
References <a class="el" href="jitterbuf_8h-source.html#l00065">jb_info::conf</a>, <a class="el" href="jitterbuf_8h-source.html#l00077">jb_info::current</a>, <a class="el" href="jitterbuf_8h-source.html#l00099">jitterbuf::info</a>, <a class="el" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb551827712cf5a0152fe8ead0017476296d58">JB_OK</a>, <a class="el" href="jitterbuf_8h-source.html#l00034">JB_TARGET_EXTRA</a>, <a class="el" href="jitterbuf_8h-source.html#l00060">jb_conf::max_contig_interp</a>, <a class="el" href="jitterbuf_8h-source.html#l00058">jb_conf::max_jitterbuf</a>, <a class="el" href="jitterbuf_8h-source.html#l00059">jb_conf::resync_threshold</a>, <a class="el" href="jitterbuf_8h-source.html#l00078">jb_info::target</a>, and <a class="el" href="jitterbuf_8h-source.html#l00061">jb_conf::target_extra</a>.
<p>
Referenced by <a class="el" href="abstract__jb_8c-source.html#l00703">jb_create_adaptive()</a>, and <a class="el" href="chan__iax2_8c-source.html#l01141">new_iax()</a>.<div class="fragment"><pre class="fragment"><a name="l00829"></a>00829 {
<a name="l00830"></a>00830    <span class="comment">/* take selected settings from the struct */</span>
<a name="l00831"></a>00831 
<a name="l00832"></a>00832    jb-&gt;<a class="code" href="structjitterbuf.html#caf9b6b99962bf5c2264824231d7a40c">info</a>.<a class="code" href="structjb__info.html#3a8e4c06e471595f6eb262bb9b5582d9">conf</a>.<a class="code" href="structjb__conf.html#2900c3dcf33f27aab1a7dedd7e6880a0">max_jitterbuf</a> = conf-&gt;<a class="code" href="structjb__conf.html#2900c3dcf33f27aab1a7dedd7e6880a0">max_jitterbuf</a>;
<a name="l00833"></a>00833    jb-&gt;<a class="code" href="structjitterbuf.html#caf9b6b99962bf5c2264824231d7a40c">info</a>.<a class="code" href="structjb__info.html#3a8e4c06e471595f6eb262bb9b5582d9">conf</a>.<a class="code" href="structjb__conf.html#d97eebcde281eba2855bbe1308ef0944">resync_threshold</a> = conf-&gt;<a class="code" href="structjb__conf.html#d97eebcde281eba2855bbe1308ef0944">resync_threshold</a>;
<a name="l00834"></a>00834    jb-&gt;<a class="code" href="structjitterbuf.html#caf9b6b99962bf5c2264824231d7a40c">info</a>.<a class="code" href="structjb__info.html#3a8e4c06e471595f6eb262bb9b5582d9">conf</a>.<a class="code" href="structjb__conf.html#0f7ad522ab5d92ca98aadc2965b1ee47">max_contig_interp</a> = conf-&gt;<a class="code" href="structjb__conf.html#0f7ad522ab5d92ca98aadc2965b1ee47">max_contig_interp</a>;
<a name="l00835"></a>00835 
<a name="l00836"></a>00836    <span class="comment">/* -1 indicates use of the default JB_TARGET_EXTRA value */</span>
<a name="l00837"></a>00837    jb-&gt;<a class="code" href="structjitterbuf.html#caf9b6b99962bf5c2264824231d7a40c">info</a>.<a class="code" href="structjb__info.html#3a8e4c06e471595f6eb262bb9b5582d9">conf</a>.<a class="code" href="structjb__conf.html#716dae26bc454cd685ee806387f30489">target_extra</a> = ( conf-&gt;<a class="code" href="structjb__conf.html#716dae26bc454cd685ee806387f30489">target_extra</a> == -1 )
<a name="l00838"></a>00838       ? <a class="code" href="jitterbuf_8h.html#50964e0d9ad11cc7ae3f99d7715d49ec">JB_TARGET_EXTRA</a>
<a name="l00839"></a>00839       : conf-&gt;<a class="code" href="structjb__conf.html#716dae26bc454cd685ee806387f30489">target_extra</a>
<a name="l00840"></a>00840       ;
<a name="l00841"></a>00841       
<a name="l00842"></a>00842    <span class="comment">/* update these to match new target_extra setting */</span>
<a name="l00843"></a>00843    jb-&gt;<a class="code" href="structjitterbuf.html#caf9b6b99962bf5c2264824231d7a40c">info</a>.<a class="code" href="structjb__info.html#43b5c9175984c071f30b873fdce0a000">current</a> = jb-&gt;<a class="code" href="structjitterbuf.html#caf9b6b99962bf5c2264824231d7a40c">info</a>.<a class="code" href="structjb__info.html#3a8e4c06e471595f6eb262bb9b5582d9">conf</a>.<a class="code" href="structjb__conf.html#716dae26bc454cd685ee806387f30489">target_extra</a>;
<a name="l00844"></a>00844    jb-&gt;<a class="code" href="structjitterbuf.html#caf9b6b99962bf5c2264824231d7a40c">info</a>.<a class="code" href="structjb__info.html#42aefbae01d2dfd981f7da7d823d689e">target</a> = jb-&gt;<a class="code" href="structjitterbuf.html#caf9b6b99962bf5c2264824231d7a40c">info</a>.<a class="code" href="structjb__info.html#3a8e4c06e471595f6eb262bb9b5582d9">conf</a>.<a class="code" href="structjb__conf.html#716dae26bc454cd685ee806387f30489">target_extra</a>;
<a name="l00845"></a>00845 
<a name="l00846"></a>00846    <span class="keywordflow">return</span> <a class="code" href="jitterbuf_8h.html#8213605ca06c98c3dd8bb2b834fb551827712cf5a0152fe8ead0017476296d58">JB_OK</a>;
<a name="l00847"></a>00847 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="1de484cce44942102e966e5fc1738fd7"></a><!-- doxytag: member="jitterbuf.h::jb_setoutput" ref="1de484cce44942102e966e5fc1738fd7" args="(jb_output_function_t err, jb_output_function_t warn, jb_output_function_t dbg)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void jb_setoutput           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="jitterbuf_8h.html#2150de1cc3db6db97212911fce0e7a64">jb_output_function_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>err</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="jitterbuf_8h.html#2150de1cc3db6db97212911fce0e7a64">jb_output_function_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>warn</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="jitterbuf_8h.html#2150de1cc3db6db97212911fce0e7a64">jb_output_function_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dbg</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="jitterbuf_8c-source.html#l00058">58</a> of file <a class="el" href="jitterbuf_8c-source.html">jitterbuf.c</a>.
<p>
References <a class="el" href="jitterbuf_8c-source.html#l00056">dbgf</a>, <a class="el" href="jitterbuf_8c-source.html#l00056">errf</a>, and <a class="el" href="jitterbuf_8c-source.html#l00056">warnf</a>.
<p>
Referenced by <a class="el" href="chan__iax2_8c-source.html#l04636">iax2_do_jb_debug()</a>, and <a class="el" href="chan__iax2_8c-source.html#l10425">load_module()</a>.<div class="fragment"><pre class="fragment"><a name="l00059"></a>00059 {
<a name="l00060"></a>00060    <a class="code" href="jitterbuf_8c.html#0b5dc0bce3a55069da9a905b346afa7f">errf</a> = err;
<a name="l00061"></a>00061    <a class="code" href="jitterbuf_8c.html#54fce9b340b1b66084f8480431083bd4">warnf</a> = warn;
<a name="l00062"></a>00062    <a class="code" href="jitterbuf_8c.html#92ceaa4be2c0fb717252287e4e829bb1">dbgf</a> = dbg;
<a name="l00063"></a>00063 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Thu May 24 22:27:35 2007 for Asterisk - the Open Source PBX by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.5 </small></address>
</body>
</html>
